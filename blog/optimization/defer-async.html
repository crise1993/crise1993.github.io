<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>js异步加载之async、defer、type=&quot;module&quot;详解 | crise&#39;s blog</title>
    <meta name="generator" content="VuePress 1.9.7">
    <link rel="icon" href="./assets/logo.png">
    <meta name="description" content="一名程序员/前端人的技术博客">
    
    <link rel="preload" href="/assets/css/0.styles.1cd9ab6a.css" as="style"><link rel="preload" href="/assets/js/app.237e33b5.js" as="script"><link rel="preload" href="/assets/js/2.a6e094ff.js" as="script"><link rel="preload" href="/assets/js/7.99a9934c.js" as="script"><link rel="prefetch" href="/assets/js/10.ed6b7b4f.js"><link rel="prefetch" href="/assets/js/11.33a35b98.js"><link rel="prefetch" href="/assets/js/12.545dcf20.js"><link rel="prefetch" href="/assets/js/13.0157a43a.js"><link rel="prefetch" href="/assets/js/14.6926c1c5.js"><link rel="prefetch" href="/assets/js/15.de7aef62.js"><link rel="prefetch" href="/assets/js/16.0b9d8c28.js"><link rel="prefetch" href="/assets/js/17.45f356c9.js"><link rel="prefetch" href="/assets/js/18.5e50c60e.js"><link rel="prefetch" href="/assets/js/19.d739307b.js"><link rel="prefetch" href="/assets/js/20.7d3dc31c.js"><link rel="prefetch" href="/assets/js/21.5f1ef20a.js"><link rel="prefetch" href="/assets/js/22.5864a5a2.js"><link rel="prefetch" href="/assets/js/23.ec78678c.js"><link rel="prefetch" href="/assets/js/24.316a50ac.js"><link rel="prefetch" href="/assets/js/25.e7923a60.js"><link rel="prefetch" href="/assets/js/26.fd02b552.js"><link rel="prefetch" href="/assets/js/27.0003fc19.js"><link rel="prefetch" href="/assets/js/28.fccb544e.js"><link rel="prefetch" href="/assets/js/29.21f2e63a.js"><link rel="prefetch" href="/assets/js/3.f3817cd8.js"><link rel="prefetch" href="/assets/js/30.f706c3a5.js"><link rel="prefetch" href="/assets/js/31.93eb136e.js"><link rel="prefetch" href="/assets/js/32.f1918a14.js"><link rel="prefetch" href="/assets/js/33.633fdfb4.js"><link rel="prefetch" href="/assets/js/34.1f46d635.js"><link rel="prefetch" href="/assets/js/35.a090b183.js"><link rel="prefetch" href="/assets/js/36.ea5de301.js"><link rel="prefetch" href="/assets/js/37.01ed1858.js"><link rel="prefetch" href="/assets/js/38.6c04b42d.js"><link rel="prefetch" href="/assets/js/39.61a2c924.js"><link rel="prefetch" href="/assets/js/4.9b118658.js"><link rel="prefetch" href="/assets/js/40.cd078337.js"><link rel="prefetch" href="/assets/js/41.9d443262.js"><link rel="prefetch" href="/assets/js/42.4b91203f.js"><link rel="prefetch" href="/assets/js/43.415a3857.js"><link rel="prefetch" href="/assets/js/44.b4aaf64d.js"><link rel="prefetch" href="/assets/js/45.0175e1e7.js"><link rel="prefetch" href="/assets/js/46.76ddb299.js"><link rel="prefetch" href="/assets/js/47.24fc1119.js"><link rel="prefetch" href="/assets/js/48.d753a44d.js"><link rel="prefetch" href="/assets/js/49.d4b652dc.js"><link rel="prefetch" href="/assets/js/5.317978c4.js"><link rel="prefetch" href="/assets/js/50.6c2887ad.js"><link rel="prefetch" href="/assets/js/51.3d0febed.js"><link rel="prefetch" href="/assets/js/52.6996c471.js"><link rel="prefetch" href="/assets/js/53.d7277718.js"><link rel="prefetch" href="/assets/js/54.d89f5330.js"><link rel="prefetch" href="/assets/js/55.b3197515.js"><link rel="prefetch" href="/assets/js/56.98cd9448.js"><link rel="prefetch" href="/assets/js/57.ad53dd47.js"><link rel="prefetch" href="/assets/js/58.8c1618f3.js"><link rel="prefetch" href="/assets/js/59.94460e81.js"><link rel="prefetch" href="/assets/js/6.a0219e38.js"><link rel="prefetch" href="/assets/js/60.3b7da87f.js"><link rel="prefetch" href="/assets/js/61.e608e32a.js"><link rel="prefetch" href="/assets/js/62.1e131ad7.js"><link rel="prefetch" href="/assets/js/63.41ea7b98.js"><link rel="prefetch" href="/assets/js/64.4f7fd140.js"><link rel="prefetch" href="/assets/js/65.1c0798b5.js"><link rel="prefetch" href="/assets/js/66.7d7588f6.js"><link rel="prefetch" href="/assets/js/67.739991ea.js"><link rel="prefetch" href="/assets/js/68.f9b883d5.js"><link rel="prefetch" href="/assets/js/69.9edfe956.js"><link rel="prefetch" href="/assets/js/70.db60f31a.js"><link rel="prefetch" href="/assets/js/71.00b04458.js"><link rel="prefetch" href="/assets/js/72.5ee17ade.js"><link rel="prefetch" href="/assets/js/73.24fde59b.js"><link rel="prefetch" href="/assets/js/74.7d870932.js"><link rel="prefetch" href="/assets/js/75.75f6627d.js"><link rel="prefetch" href="/assets/js/76.ce1ead80.js"><link rel="prefetch" href="/assets/js/77.208f1a5c.js"><link rel="prefetch" href="/assets/js/8.9f6f4f79.js"><link rel="prefetch" href="/assets/js/9.abcfea03.js">
    <link rel="stylesheet" href="/assets/css/0.styles.1cd9ab6a.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">crise's blog</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/blog/" class="nav-link router-link-active">
  博客
</a></div><div class="nav-item"><a href="/algorithm/" class="nav-link">
  算法题库
</a></div><div class="nav-item"><a href="https://baidu.com" target="_blank" rel="noopener noreferrer" class="nav-link external">
  微博
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/blog/" class="nav-link router-link-active">
  博客
</a></div><div class="nav-item"><a href="/algorithm/" class="nav-link">
  算法题库
</a></div><div class="nav-item"><a href="https://baidu.com" target="_blank" rel="noopener noreferrer" class="nav-link external">
  微博
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>js进阶</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>浏览器</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>前端工程化</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>性能优化</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/blog/optimization/indicator.html" class="sidebar-link">性能优化指标</a></li><li><a href="/blog/optimization/defer-async.html" aria-current="page" class="active sidebar-link">js异步加载之async、defer、type=&quot;module&quot;详解</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog/optimization/defer-async.html#domcontentloaded" class="sidebar-link">DOMContentLoaded</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog/optimization/defer-async.html#有css无js情况下" class="sidebar-link">有CSS无JS情况下</a></li><li class="sidebar-sub-header"><a href="/blog/optimization/defer-async.html#有css和同步js情况下" class="sidebar-link">有CSS和同步JS情况下</a></li></ul></li><li class="sidebar-sub-header"><a href="/blog/optimization/defer-async.html#script-async属性" class="sidebar-link">script async属性</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog/optimization/defer-async.html#执行时机" class="sidebar-link">执行时机</a></li><li class="sidebar-sub-header"><a href="/blog/optimization/defer-async.html#使用场景" class="sidebar-link">使用场景</a></li></ul></li><li class="sidebar-sub-header"><a href="/blog/optimization/defer-async.html#script-defer属性" class="sidebar-link">script defer属性</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog/optimization/defer-async.html#执行时机-2" class="sidebar-link">执行时机</a></li><li class="sidebar-sub-header"><a href="/blog/optimization/defer-async.html#使用场景-2" class="sidebar-link">使用场景</a></li></ul></li><li class="sidebar-sub-header"><a href="/blog/optimization/defer-async.html#script-type-module-属性" class="sidebar-link">script type=&quot;module&quot;属性</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog/optimization/defer-async.html#模块脚本加上async怎么处理" class="sidebar-link">模块脚本加上async怎么处理？</a></li></ul></li><li class="sidebar-sub-header"><a href="/blog/optimization/defer-async.html#最后" class="sidebar-link">最后</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog/optimization/defer-async.html#nomodule属性" class="sidebar-link">nomodule属性</a></li><li class="sidebar-sub-header"><a href="/blog/optimization/defer-async.html#crossorigin属性" class="sidebar-link">crossorigin属性</a></li><li class="sidebar-sub-header"><a href="/blog/optimization/defer-async.html#domcontentloaded与load" class="sidebar-link">DOMContentLoaded与load</a></li></ul></li></ul></li><li><a href="/blog/optimization/off-line.html" class="sidebar-link">聊聊Web离线缓存方案</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>web跨端</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>node</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>框架及原理</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>前端安全</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>计算机基础</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>运维相关</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="js异步加载之async、defer、type-module-详解"><a href="#js异步加载之async、defer、type-module-详解" class="header-anchor">#</a> js异步加载之async、defer、type=&quot;module&quot;详解</h1> <p>本文将重点围绕 DOMContentLoaded 展开，详细解释 <code>async</code>、<code>defer</code>、<code>type=&quot;module&quot;</code> 这3种不同的script脚本属性之间的加载区别、使用场景以及对解析过程的影响。</p> <h2 id="domcontentloaded"><a href="#domcontentloaded" class="header-anchor">#</a> <a href="https://developer.mozilla.org/zh-CN/docs/Web/API/Document/DOMContentLoaded_event" target="_blank" rel="noopener noreferrer">DOMContentLoaded<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></h2> <div class="custom-block tip"><p class="custom-block-title">概念</p> <p>当 HTML 文档完全解析，且所有延迟脚本（<code>&lt;script defer src=&quot;…&quot;&gt;</code> 和 <code>&lt;script type=&quot;module&quot;&gt;</code>）下载和执行完毕后，会触发 DOMContentLoaded 事件。它不会等待图片、子框架和异步脚本等其他内容完成加载。</p> <p>DOMContentLoaded 不会等待样式表加载，但延迟脚本会等待样式表，而且 DOMContentLoaded 事件排在延迟脚本之后。</p></div> <p>由以上概念我们可以知道，<strong>DOMContentLoaded事件在 DOM解析后且Render Tree生成前 触发</strong>。</p> <p>下面我们将通过几张图分别理解下有CSS和JS的情况下，DOMContentLoaded的执行时机。</p> <h3 id="有css无js情况下"><a href="#有css无js情况下" class="header-anchor">#</a> 有CSS无JS情况下</h3> <img src="/assets/img/dom-css.f00e72bb.jpg" alt="有CSS无JS" width="330"> <p>DOMContentLoaded触发在DOM解析之后，而不管CSSOM有没有生成。</p> <h3 id="有css和同步js情况下"><a href="#有css和同步js情况下" class="header-anchor">#</a> 有CSS和同步JS情况下</h3> <img src="/assets/img/dom-css-js.b601eca6.jpg" alt="有CSS和JS" width="330"> <p>CSSOM阻塞JS的执行，而JS又会阻塞DOM的构建。所以在有CSS和同步script脚本情况下，DOMContentLoaded的触发会在 CSSOM 生成和JS执行完毕之后。</p> <h2 id="script-async属性"><a href="#script-async属性" class="header-anchor">#</a> script async属性</h2> <p>用于异步下载普通的 JavaScript 脚本，它们使用传统的脚本加载和执行方式。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token operator">&lt;</span>script src<span class="token operator">=</span><span class="token string">&quot;script.js&quot;</span> async<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>script src<span class="token operator">=</span><span class="token string">&quot;script2.js&quot;</span> async<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
</code></pre></div><ul><li><p>如果script脚本存在 async 属性，那么脚本及其所有依赖会被并行请求，下载完成之后便立刻解析和执行。</p></li> <li><p>多个带有async属性的脚本不会保证执行顺序，谁先下载完成就先执行谁。</p></li></ul> <h3 id="执行时机"><a href="#执行时机" class="header-anchor">#</a> 执行时机</h3> <ul><li>html还没解析完，async脚本已经下载完了，这时候HTML便停止解析，去执行脚本，脚本执行完成之后继续解析dom，然后再触发DOMContentLoaded</li></ul> <p><img src="data:image/png;base64,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" alt="async脚本未完成下载"></p> <ul><li>html解析完成，async脚本还没下载完，会马上触发DOMContentLoaded。然后再等待脚本下载完成后执行脚本</li></ul> <p><img src="data:image/png;base64,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" alt="async脚本下载完成"></p> <h3 id="使用场景"><a href="#使用场景" class="header-anchor">#</a> 使用场景</h3> <p>async脚本通常放在body的最下面。当您有独立的脚本需要加载，且它们之间没有依赖关系时，可以使用async来异步加载脚本，提高页面加载性能。</p> <p>举个🌰：</p> <p>假设您的网站需要加载一个第三方服务提供的脚本，该脚本用于在用户关闭页面时发送统计信息。这个统计信息对于网站的核心功能并不是必需的，而且它不会影响用户当前的浏览体验。在这种情况下，您可以使用 <code>&lt;script async&gt;</code> 标签来异步加载该脚本，使其不会阻塞页面的加载和渲染过程。</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">html</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>en<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>UTF-8<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>viewport<span class="token punctuation">&quot;</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>width=device-width, initial-scale=1.0<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>Async<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
  <span class="token comment">&lt;!-- 页面内容 --&gt;</span>
  <span class="token comment">&lt;!-- 异步加载的统计脚本 --&gt;</span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>https://example.com/statistics.js<span class="token punctuation">&quot;</span></span> <span class="token attr-name">async</span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h2 id="script-defer属性"><a href="#script-defer属性" class="header-anchor">#</a> script defer属性</h2> <p>用于异步下载普通的 JavaScript 脚本，它们使用传统的脚本加载和执行方式。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token operator">&lt;</span>script src<span class="token operator">=</span><span class="token string">&quot;script.js&quot;</span> defer<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>script src<span class="token operator">=</span><span class="token string">&quot;script2.js&quot;</span> defer<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
<span class="token comment">// ...</span>
</code></pre></div><ul><li><p>如果script脚本存在 defer 属性，那么脚本将在后台下载，不会阻止html的解析。</p></li> <li><p>html解析完成后，defer脚本按照书写的先后顺序依次执行。</p></li></ul> <p>如果script脚本存在 defer 属性，那么脚本将在后台下载，不会阻止html的解析，html解析完成后，defer脚本按照书写的顺序执行完毕后，才会触发DOMContentLoaded。</p> <h3 id="执行时机-2"><a href="#执行时机-2" class="header-anchor">#</a> 执行时机</h3> <ul><li>html解析完成，defer下载完，defer脚本执行完毕后触发DOMContentLoaded。</li></ul> <p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAdsAAAA9CAYAAADlEMMfAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAABP/SURBVHhe7Z35c1vXdYD7T3Wa1EtqJ07amfaHZjqdSVtbXiRLjq00M03yk2fsTmRZtmW19SZbppbE0eJNlbVQlkwvkijFEUVJ8ZrUY5EEKZCUSJAEF2wETs+5756L+y4uHsAnAATAczJf8Ja7AXh63zv3PdB/ARISEhISEhJNDZGthISEhIREk2NNyLZ0MgdwWGgHSmfzUCqV9DfTflHK3YRS+pIgRLOMx7OExAqiq2VLJ/XSjWWABxcA7psX2oRim7qWhlXEEykktkNp6AlB8DP2IhQXvsbzS3COkZCoJ7petssTBYANItt2IlcoonDxQkh/T+0QdKzQmJbnBtQJFf68QRD8JJ6HfPorWMarRnGtRL3RtbINTp4AeZRtSWTbVixmC1BYLrbdiWoZx5SfFdkK0ZRQtoszX0KWLhpFuBJ1RhfLFk+e+A8hm8yLbNuMucVcObttkzMVjSOPss2mLopshUhItunpL2AJLxpVdquPIQmJqOh62Waui2zbjdnFfJAV4HfUPrIFyOOYRLZCLYojKNupL2BBZCuxguh+2Upm23bMLHBmK7IVOg+S7RzKlm6HiGwl6g2RbVuRwX+4Bc/2BjCIn8nRxerrLURk2wSmx6E0/Z/Wth48lsYBhq0yFfRgPbtOs6ExXfFs7yxEthJxQmTbKEhe1C8xmNHbigCP036SKO/nbT7qkS2ViWqjCkeLYbnS+k79msyFyzYZkW0TqJAtLmdryDZNxyPLj0TIx6hFGoVsyrrbuH27blSfIluJtRsi20ZBsiV57SyUpWZki+tJLVGzzUcTZGtfBDA0PpYtlbGXW4DItgmQbJP2thqyTV6BUrbXv88HyZbap3osdSNb6ktL1GzzIbKVWLshsm0ULCwlW8xskzgGGgeh1l3ZkoCtMlGozLNKedpHfdvbWPbu9lq0SLgi2wZC8qPxM5R12lkoY4t4uBe3aSkO29lwBCxzJVvsI2u1rdZd2ZKArTJRrET6bYDIViJOiGwbhS22OJnt4zldH9vhsl6s7Jfq0JQ19c192pm1gfrHtm2Zesu1BpFtE4jKbCv2aZR08b3Xc9+W2qCydvmVZLbcF0q+xGU7FJGtRJwQ2TYKexp5EKExMIOYfdaSrRImCRfL2fJ0IcHyPVbVV5RsSczWOBiqb8ohroibjMi2CVQI1Zqy9cpWZ55KnHqZPgcfVMaeRk672TRmprVkS2OYJuFiObVM/XrKdQAiW4k4IbJtFBX3bElidWa2Kqul/Zy1Rty7XZFsiSr3eDkrtttrESLbJsCZZ2gaOUK2XN6X8dpZMW+ruGdrl6HlCNmqrJb28wVAZ9+7FdlKxAmRbaOwH0Qi2bHEMFuNli3twzoqs7QkSwL1SZAFy8vUV1XZWm2zXLkd6kuNLyKLbhIi2wZi37O1xcnbaZsrWyVaylCdOoYqsuV+SLYkULrXitlqtGxpH/fjZNsddq+WEdlKxAmRbUMgqWmJ2gLcqWXnfUBKQ5I2EnQyWtrnCpczaFpmUVaVLZUnOWMd+kwY7k9tr5JBNxGRbRNwhUpyVNO9KDfa55u2rVu21jpntqo/LVLvA1IaNQ7cr9adjJb2daBwRbYScUJk2xAsSZLsULz0D1Ch7t/iOsmWpGjkSXVwP61THS5vQ1JVQmRBOzJWQtev1WTLqMxW98NjoLZD2W5rENk2AVu2ZtpWr6v7rCw8i7pla0mS2sJ96jgilNBxnWQbylapDu6ndTv7tqG+aQw1//hGeyGylYgTIttGYE/R2uIz4DpntsxOLP+4W86RqYsrR1pn2dJ7Zrh/Gpe93RU1tcVt8CvvbyIi2yZgZKslF5KolqWb4dYrW5I3y9ptw5S35E4ksXzFz4qczLZDEdlKxAmRbSNgwVbLKmtJ1BBRTgmV91lZMe/jfiMzWxK1rmuk7bTVAkS2DUZlh/QdatFWmzJ2ReeTrclCLdmyYHkK2S6vqFeiIluJtRsiW6HliGyFTkZkKxEnRLZCyxHZCp2MyFYiTohshZYjshU6GZGtRJwQ2QotR2QrdDIiW4k4IbIVWo7IVuhkRLYScUJkK7Qcka3QyYhsJeJEbNkWi0UYG7sOo6OjbUkiMQojyPCVMSg94D/pC6vDV98Mw7XhhPp+EomE9/trNXS8DOGYbo58CJDYroQrCD6Koy8o2Q78eQAOfPQa8iocFLqeiRl0yS0kB7FkS/1NTt6AvnMDsOfYxbZk99GAPYcvwafPfAsXtw4Z/iC0HP7s+7d/A7veG4Ae+o6ODeB39Afv97ca9ODxcviDs3Bx4Ch8/dlRmBg5A1PJ8zCdvCAIMD1+AVLI7MTvITV7E+7f/g+w7qXvwf0v34Hcvuqss3nJx21w34sRvFDmXsNfw73/4+ff/rsK//XdEP/K7KjC89+Ff3n+O5Vsr+QnzHPMX7WEf376L+GZN38JxRL9vYN4wo0t24nJSfjfDy/BL/e2KXsqt/3CLA8ILSb47GnZfkX2WMurSngc7/YNwGffjsO1iTQMTaZh+Ma8sNaZnIeRGwtwfXoBbswtwgPP/T08dvBH8PN3/xah11XgnR/Bv7/zw4C3A35GvMXcAz978x7YzBwq89ihH+D4LQ78AB5VfB8e3R/wU+J3Fm/cDY8wvw3YxPzmLsPGfRZ7/0bxMLGnzIbd3yvTE7CeeJ24M2DXnfAQ8xpzBzz4amuhi4Jtb/4H5JdzgXBjZLgrli31USyWIDnR7rKlk+egWqYTfVi0VjmhxbTn5/8relXHDLJvEI58dAm+HpqEsalFSKaWYGImI6x5lmByNoOiXYKp9AKs2/53KKgfovBaLFslWC3ZNhLspjoE+/BuS7LVBIsYwRrJovRWQbIMyfapgz+HTH4BlksFMmEgxBXEymWL0EMBY8mJ9patAk+ceAL9hT7BB6/CqkAi2xd8L+rCRy+3Dc5MyIlPLsE3iRswnc7A3FIe0sh8Rljz0HGwlMNjYh7WPYvyOniPX4iNxiNYJVkjWMQWrCtZr2ARLVgl2RqCNZJtqGAtybaZYG1Itr8+sBnms7Mquy1hdrvSiDWN3DGy5UzFXRZWCf78B4NMso05ffYSjFyfwhNrAbL5Iv4DK0FBWPPkC8t4LBRgMbcA9z3zfSUurxwbhBFsRBZbVbBOFmsEG5HFGsFakq1HsEqyNQSrJFtTsHe2jWBtAtk+BulsCr//bGumkSlYtofbPrPV6KyFTvDC6hJ8H2180UNjw+Pl9LlLMDY+BUvy8w4JK+gku1xa1rK9W0nMJ8lbog7Byn3Y1sKyncuIbLue/cMAE1e/rLp+yxxJQt8Zz/Y1ygciWwlP0Em2iLJdyjdYtp5pYrkP2z6IbDuSb+FzyEDfEd++6uy4mgnJldY/RznSa2k2CTussgTJmA4HgsrZ+3yo8sPflredSZn6ZVKw36pDgp4I9f0l9M06dew2OwiRrYQvGipbj2CVZI1gA8kawbqS9QoW0YJVkq0hWCPZhgrWkmxLBbsFBuEc7PLuq0Z9dUS2HcnKZGtLkyHpsmypjLtMZT4fThk57zgSlA+3Y4mTxErSZMEagdJYuZy9rHFli/Ursm3q217vEES2Er5YuWwfgdP83xtmxp4NBGtJdttXiXCZuUPwtBLsJjg1R9sScOp9N4vdRv91YNx3HvZaWeyeEaud2YOwxSPZegS7ce966J1JQO+Ru6oKVkk2UrAPwfHUCBx/25ZXHCnWg8i2zaDsy5EdSYNEol6tA9VA5Tlr84mSRET7IsTky/oIlNV+R4RGkhWCjCaUwTrio7bK6zg+liS/d1525Gky09A+fr8WVM4n2w5FZCvhi3iyHYXTp/k+7CNwiuSbPgTbdBb7m1G9bmWw+2gbCfcQyTYBVxMJGP9iYyBZzmD7z2MZ3I6y3aOzWCXakafLWezZ8zD+2YayYB3JGsFaki1nsYFsTxzWgvVmsdUyWIJE9WAg27dseYls646ula1VLiwnIqj3+bC7HSEp4b5yGz7ZMtY+6hclFerLK6xA1FEyDfBIUJGCviqy3XEG+1fvPyg7QRmxedWfk97vf981MtsORWQr4YsVyVZNEZNcMSs9paeIlWCfgavY1tVPcfnUIZTlBdjnThEf2oZlsF7vRiXbU/1Uzs5gH4b3cfv75w4GsqVp4mPB8m43g2XBnum3zgkAV86wYLdihtwPvVfL2fWVj9fDiZly2dLMAXhSC/bJKyPl7de2aMlugcvYxvHL5X2DH5BodTkitR+eUPKqIrgPzpXLqvq8j8pb7YAlb7vOtXOhdp8YDI/T249Tpxoi21jcmmz7zrhlfdsjZEt9saBIVpGyrSJPqm/KeUSMuA9QVc1sCS1907cjzf14gVGZzespbmqHp4rp/XjGa7fVKYhsJXxRU7YV92HLsrXvw1LmOv7lJtj8+ws6g9WSVdPDBEkWpde/MZDqcZIrrev7r8dRrLMH4SlbsJjFqmljW7DMewewXAJ639OCPaLX1RQxyRbf29DWIHv9mKTcDz09JNwROPGOlcW+sx+SM/vhSZ3F7roGcLkPhfSaFiJLTQmNJFZnZvsWtmtL1F23obaVuKmdcplArrpdqm/kfocaZyDviDoRiGxjEcjJlkFAnbLV08lGbizPkLAbJVuC2vLIjgVpt2cIJD1xNVnOYGvJ1vk8qCzVofF5Zct1ZlPYVrm8/T7MFHQHIrKV8EU12Vb/PSzLNvw0Mcn26gVcvhDIdquRLD/oRJIlueoM9jgK9hzKlKaIUba7R3DfWRQsy5bkqmR7AH7NgrWniCmrHd4aTBPrh5x68GJ5/Mp6FOxTKivt0VPEG3qC9ddfZ9mWp4mftDJXJjn4IArJFSiv1ylbEqidfSIkyKBtJ0slSKRGulyn3G5FeUS1FVGH+/Uhso0FS9PapsRRr2xx2RIJZXdKvKE2ImRrS0iLtbpsLbFT+yF5BcKk+73hceqsFsdK5fso+8TXmrKltrlv9YqipvdA48XvPIA/Nz0uLGMuNNyxUL3QeDsLka2EL1zZ0s9rKgXLkGCDe64k2/I0MU8Ro1x7eXqYJcvTxE9jtqkz2lkt2zcoA03AyWP0qgV7VMvWZK/9sNuWrJomRrlq2bJoKYPtGcKs9GNLruY+bDAl/Pquh+A4yvb423wPVsvWkWJAc2SrslGV5VrlOWutJVvfOEW2raQBslUypWVLqnXK1sgZl7mP6rKl8pg5kjDxczdoialpXLcfkhwJ0LQTjKXaPVtTx24fIfnyfjezpfEG08datqaclfGLbCW6MMKyvSuQbUiwiJXBbtYPONlPEu9NYDuUzVoZLGWs6qc66kEnEmyw7advbICTKNuTx4J7sJTR0rFIDz2Vp4dZsOuhl+pxBkvQdDFJVk8bm4ed3qV1zFrfJblyJhs87MT3X3eRbPlJYv65jis+wy3K1p02ttcdQZKE1bpTp2Ia2TfOqDoRiGxj0QjZsuiC6VO1vy7ZhrdTHySnKNkaqH0SL/bJDyWpMdhCU2PQY3TaUYKkuowlSdM/16FXfK+h8prQ2EKydd6zyFaiC8OVLcmRs1gjWCVZhn+6Y5HYFmSxKoMltFytMuoJYvWgk5btUX0fVt97PfmeniZm2e4NstiH1c917Lb6oYefJP4o/IDU5Q/1fVidye7SU8UPvUbrKCAUrJmOtWQXnqJlcVWTra8N2sf1rTZIqtb28gNSWrC8jx5q0m3ZY0kObkGxl8fgH2d0nWqIbGPRGNmGxGbWbdnyl0wE5Vw5ciboitD0q9osb7ezWFUH2+I21CvWY4H6ZFtetzNbel86I7Vla9Wt9oCULdsK8YtsJbowKmT7u7s9gnV/D8tTxPY0MWexZcxvYd2nifkerHsfVk8RK8nq6WFFl/1d4nZAZNtBBEJ1ZKxFFRKhIzoDiU3JS9c1Igu3ZcrXKzsqF6obtGemg5GaslUXBU4Zka1EF4YrWxJjNcF21N8lFslGIrIVhCYhspXwhSvbTW/c1TTB3vqfTdSCRYxgjWRRIiLYuhHZCkKTENlK+KJCtr9F2RrBIlqwSrI1BGsk21DBWpKtEKxME8dFZCsITUJkK+GLCtmiINv9PmzwZxOFW0FkKwhNQmQr4YsK2aIg2+o+rJEsSkIk2zBEtoLQJES2Er5wZbtxLz2RXL9g5T5sZyKyFYQmIbKV8IUrWxKlLVgj2YYK1pJshWDlPmwrWHXZnvhkAJ59UxC6j4/OD4hsJSrClu29KNsHXr5dC8/h1TvhAWbnHYb7X3G5PQDbYda9xNwW8OJtcJ+He18QWsVPnvvO6sn2ZmoWBi5/Bp8O/hE+vSQI3cXFy3+EiVQaMrllka2ECZZtprAI29/+FWx+5Z/gsZd/rPnHung0Di8Jq0Xwvf0YDn7ySutlW8STzxKehKbnczCeWoLr00swNrUoCF3BdWRiZglmFnIiW4lQsGyzBTw+Fm9AcnYIhqf/BENTX8HQtNCNDE9/DaMz/weT6VFIZ2egsJzD46Coj4j6Y8WypZMOnnsgmy/C3GIeptJZuDmXhRuzGUHoGqbnszCfKeBxvqwuLmNcyEp0aRTxRJvD7GYeT7w355MwPjcCybkhoVvBC6qJdAJSeHG1mJvHi+8CHgUtymypm8JyUV31L2QL6qQ0v5QXhO4Aj+dFPK7pgpKOcxGthB2U1dAJl7LbhewcpDMpmF2agtmM0JXgd0sZ7WIurS6yisVldGALZVvEMxBNr9HJKC8I3UQBJYvHNk8fi2wl7KCjgv5HwqUpRToB0328XCEjdCH03ebxey4U8+oWQmDAlUcs2VLQCYjuXwSvgtBt4P/p41xCwo3g+KDzH93DLQpdjrq80q9xI7ZsJSQkJCQkJOoLka2EhISEhERTA+D/AUqPyE945/1XAAAAAElFTkSuQmCC" alt="defer脚本未完成下载"></p> <ul><li>html解析完成，defer未下载完，等待defer下载完成，执行完毕后触发DOMContentLoaded。
<img src="data:image/png;base64,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" alt="defer脚本完成下载"></li></ul> <h3 id="使用场景-2"><a href="#使用场景-2" class="header-anchor">#</a> 使用场景</h3> <p>针对需要在文档解析完成后执行的脚本，并且需要确保这些脚本按照它们在页面中出现的顺序执行。这样的脚本通常用于页面初始化、DOM 操作或其他需要等待页面完全加载后执行的任务。</p> <p>举个🌰：</p> <p>假设您的网站有一个初始化脚本和一个用于处理用户交互的脚本。您希望确保初始化脚本在页面元素完全加载后执行，而用户交互脚本应该在初始化脚本执行完成后才执行，以确保页面的交互功能正常运行。</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">html</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>en<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>UTF-8<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>viewport<span class="token punctuation">&quot;</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>width=device-width, initial-scale=1.0<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>defer<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
  <span class="token comment">&lt;!-- 页面内容 --&gt;</span>
  <span class="token comment">&lt;!-- 初始化脚本 --&gt;</span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>init.js<span class="token punctuation">&quot;</span></span> <span class="token attr-name">defer</span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
  <span class="token comment">&lt;!-- 用户交互脚本 --&gt;</span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>interaction.js<span class="token punctuation">&quot;</span></span> <span class="token attr-name">defer</span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h2 id="script-type-module-属性"><a href="#script-type-module-属性" class="header-anchor">#</a> script type=&quot;module&quot;属性</h2> <blockquote><p>此值导致代码被视为 <a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Guide/Modules" target="_blank" rel="noopener noreferrer">JavaScript 模块<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>。</p></blockquote> <p>加载的是 ECMAScript 模块，它们使用 ECMAScript 模块系统进行加载和导入其他模块。</p> <p><code>&lt;script type=&quot;module&quot;&gt;</code>模块脚本的加载规则和<code>&lt;script defer&gt;</code>一致。当html解析到<code>&lt;script type=&quot;module&quot;&gt;</code>标签后，会立刻在后台下载模块脚本，然后延迟到html解析完成之后才会执行相应代码。</p> <h3 id="模块脚本加上async怎么处理"><a href="#模块脚本加上async怎么处理" class="header-anchor">#</a> 模块脚本加上async怎么处理？</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token operator">&lt;</span>script type<span class="token operator">=</span><span class="token string">&quot;module&quot;</span> async<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
</code></pre></div><p>带有async属性的模块脚本的加载规则和<code>&lt;script async&gt;</code>一致。下载时是异步进行的，但是下载完成之后，就会立刻执行。</p> <h2 id="最后"><a href="#最后" class="header-anchor">#</a> 最后</h2> <h3 id="nomodule属性"><a href="#nomodule属性" class="header-anchor">#</a> nomodule属性</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token operator">&lt;</span>script type<span class="token operator">=</span><span class="token string">&quot;module&quot;</span> src<span class="token operator">=</span><span class="token string">&quot;main.js&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>script nomodule src<span class="token operator">=</span><span class="token string">&quot;fallback.js&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
</code></pre></div><p>这个属性被设置来标明这个脚本在不支持 <code>ES 模块</code> 的浏览器中执行。实际上，这可用于在不支持模块化 JavaScript 的旧浏览器中提供回退脚本。</p> <h3 id="crossorigin属性"><a href="#crossorigin属性" class="header-anchor">#</a> crossorigin属性</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 加载跨域脚本</span>
<span class="token operator">&lt;</span>script src<span class="token operator">=</span><span class="token string">&quot;https://example.com/script.js&quot;</span> crossorigin<span class="token operator">=</span><span class="token string">&quot;anonymous&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
</code></pre></div><p>crossorigin 属性用于指定是否使用 CORS（跨源资源共享）机制来加载脚本。<a href="https://developer.mozilla.org/zh-CN/docs/Glossary/CORS" target="_blank" rel="noopener noreferrer">CORS<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 是一种安全机制，允许网页从一个域加载来自另一个域的资源，而不受同源策略的限制。这种机制可用于在网页中加载跨域的脚本、字体、样式表等资源。</p> <p>当使用 crossorigin 属性时，还可以设置其值为 &quot;anonymous&quot; 或 &quot;use-credentials&quot;：</p> <ul><li>anonymous：表示以匿名身份访问跨域资源，浏览器不会发送凭证信息（如 Cookie、HTTP 认证等）。</li> <li>use-credentials：表示使用凭证访问跨域资源，浏览器会发送凭证信息。</li></ul> <h3 id="domcontentloaded与load"><a href="#domcontentloaded与load" class="header-anchor">#</a> DOMContentLoaded与load</h3> <div class="custom-block tip"><p class="custom-block-title">document.readyState状态值</p> <ul><li>loading（正在加载）：此时document 仍在解析</li> <li>interactive（可交互）：html解析完成，loading状态结束，但是诸如图像，样式表和框架之类的子资源仍在加载。</li> <li>complete（完成）：文档和所有子资源均已完成加载。</li></ul></div> <p>最后，说下DOMContentLoaded与load的区别：</p> <ul><li><code>DOMContentLoaded</code>则在html解析完成之后触发，这时候<code>document.readyState</code>状态为<code>interactive</code></li> <li><code>load</code>事件触发得等所有的资源以及依赖资源都完全加载，才会触发，这时候document.readyState状态为<code>complete</code></li></ul></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/blog/optimization/indicator.html" class="prev">
        性能优化指标
      </a></span> <span class="next"><a href="/blog/optimization/off-line.html">
        聊聊Web离线缓存方案
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.237e33b5.js" defer></script><script src="/assets/js/2.a6e094ff.js" defer></script><script src="/assets/js/7.99a9934c.js" defer></script>
  </body>
</html>
