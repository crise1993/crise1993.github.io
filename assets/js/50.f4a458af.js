(window.webpackJsonp=window.webpackJsonp||[]).push([[50],{540:function(t,a,s){"use strict";s.r(a);var e=s(65),n=Object(e.a)({},(function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"bfcacheé—®é¢˜åŠè§£å†³æ–¹æ¡ˆ"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#bfcacheé—®é¢˜åŠè§£å†³æ–¹æ¡ˆ"}},[t._v("#")]),t._v(" bfcacheé—®é¢˜åŠè§£å†³æ–¹æ¡ˆ")]),t._v(" "),s("h2",{attrs:{id:"å‰è¨€"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#å‰è¨€"}},[t._v("#")]),t._v(" å‰è¨€")]),t._v(" "),s("p",[t._v("ç§»åŠ¨ç«¯æµè§ˆå™¨å¼€å‘ï¼Œå¸¸å¸¸ä¼šé‡åˆ°"),s("code",[t._v("bfcache")]),t._v("çš„é—®é¢˜ã€‚ä¸¾ä¸ªğŸŒ°ï¼š\nå‡è®¾æœ‰Aï¼ŒBä¸¤ä¸ªé¡µé¢")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("Aï¼šå•†å“åˆ—è¡¨é¡µ\nBï¼šå•†å“æ”¶è—é¡µ\n")])])]),s("p",[t._v("åœ¨Aé¡µé¢ä¸­è°ƒç”¨æ¥å£æ”¶è—å•†å“Cï¼Œæ”¶è—å®Œæˆï¼Œç‚¹å‡»æ”¶è—æŒ‰é’®å‰å¾€Bé¡µé¢æŸ¥çœ‹æ”¶è—åˆ—è¡¨ï¼›åœ¨Bé¡µé¢å–æ¶ˆå•†å“Cçš„æ”¶è—ï¼Œç„¶åç‚¹å‡»æµè§ˆå™¨"),s("code",[t._v("åé€€")]),t._v("æŒ‰é’®/é¡µé¢è¿”å›æŒ‰é’®ï¼Œè¿”å›åˆ°Aé¡µé¢ï¼Œè¿™æ—¶å€™ä¼šå‘ç°å•†å“Cä¾ç„¶æ˜¯æ”¶è—çŠ¶æ€ã€‚")]),t._v(" "),s("h2",{attrs:{id:"åˆ†æ"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#åˆ†æ"}},[t._v("#")]),t._v(" åˆ†æ")]),t._v(" "),s("p",[t._v("é€šè¿‡æŠ“åŒ…å·¥å…·æˆ–è€…"),s("code",[t._v("vconsole")]),t._v("æŸ¥çœ‹ï¼Œä¼šå‘ç°é¡µé¢Aæ ¹æœ¬æ²¡æœ‰é‡æ–°è°ƒç”¨æ¥å£ï¼Œé€šè¿‡è°ƒè¯•å‘ç°ï¼Œè¿”å›åˆ°é¡µé¢Aæ—¶ä¸ä¼šé‡æ–°æ‰§è¡Œé¡µé¢"),s("code",[t._v("onload")]),t._v("é€»è¾‘ï¼ˆ"),s("code",[t._v("vue")]),t._v("ä¸­ä¸º"),s("code",[t._v("onMounted")]),t._v(","),s("code",[t._v("react")]),t._v("ä¸­ä¸º"),s("code",[t._v("componentDidMount")]),t._v("äº‹ä»¶ï¼‰ï¼Œç»è¿‡googleå‘ç°ï¼Œè¿™æ˜¯"),s("code",[t._v("webkit")]),t._v("å†…æ ¸æ ¹æ®"),s("code",[t._v("Firefoxçš„1.5")]),t._v("çš„ä¸€ä¸ªæ–°åŠŸèƒ½"),s("code",[t._v("bfcache")]),t._v("ï¼Œåšçš„ä¸€ä¸ªæµè§ˆå™¨é¡µé¢è®¿é—®çš„è‡ªèº«ä¼˜åŒ–ã€‚")]),t._v(" "),s("p",[t._v("æ‰€ä»¥ï¼Œç”±äºæŸäº›æµè§ˆå™¨"),s("code",[t._v("bf-cache")]),t._v("çš„å­˜åœ¨ï¼Œæˆ‘ä»¬åœ¨æµ‹è¯•æ—¶å‘ç°ï¼Œæˆ‘ä»¬çš„ä»£ç å—æ ¹æœ¬å°±æ²¡æœ‰æ‰§è¡Œã€‚æ—¢ç„¶bugäº§ç”Ÿäº†ï¼Œæˆ‘ä»¬è¯¥å¦‚ä½•å»è§£å†³å®ƒï¼Ÿ")]),t._v(" "),s("p",[t._v("æµ‹è¯•å¾—åˆ°çš„äº‹å®ï¼š\nè¿™ä¸ª"),s("code",[t._v("issue")]),t._v("åœ¨"),s("code",[t._v("andriod")]),t._v("å’Œ"),s("code",[t._v("ios")]),t._v("ä¸­å„ä¸ªæµè§ˆå™¨çš„è¡¨ç°å¹¶ä¸ä¸€è‡´ï¼Œå¹¶ä¸æ˜¯æ¯ä¸€æ¬¡çš„è¿”å›éƒ½ä¼šä»ç¼“å­˜ä¸­è¯»å–æ•°æ®ã€‚æ—¢ç„¶bugäº§ç”Ÿäº†ï¼Œæˆ‘ä»¬è¯¥å¦‚ä½•å»è§£å†³å®ƒï¼Ÿ")]),t._v(" "),s("h2",{attrs:{id:"bfcache-æ¢ç§˜"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#bfcache-æ¢ç§˜"}},[t._v("#")]),t._v(" bfcache æ¢ç§˜")]),t._v(" "),s("h3",{attrs:{id:"å®šä¹‰"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#å®šä¹‰"}},[t._v("#")]),t._v(" å®šä¹‰")]),t._v(" "),s("p",[s("a",{attrs:{href:"https://developer.mozilla.org/en-US/docs/Mozilla/Firefox/Releases/1.5/Using_Firefox_1.5_caching",target:"_blank",rel:"noopener noreferrer"}},[t._v("bf-cache"),s("OutboundLink")],1),t._v("ï¼Œå³"),s("code",[t._v("back-forward cache")]),t._v("ï¼Œå¯ç§°â€œå¾€è¿”ç¼“å­˜â€ï¼Œå¯ä»¥åœ¨ç”¨æˆ·ä½¿ç”¨æµè§ˆå™¨çš„â€œåé€€â€å’Œâ€œå‰è¿›â€æŒ‰é’®æ—¶åŠ å¿«é¡µé¢çš„è½¬æ¢é€Ÿåº¦ã€‚è¿™ä¸ªç¼“å­˜ä¸ä»…ä¿å­˜é¡µé¢æ•°æ®ï¼Œè¿˜ä¿å­˜äº†"),s("code",[t._v("DOM")]),t._v("å’Œ"),s("code",[t._v("JS")]),t._v("çš„çŠ¶æ€ï¼Œå®é™…ä¸Šæ˜¯å°†æ•´ä¸ªé¡µé¢éƒ½ä¿å­˜åœ¨å†…å­˜ä¸­ï¼Œå¦‚æœé¡µé¢ä½äº"),s("code",[t._v("bfcache")]),t._v("ä¸­ï¼Œé‚£ä¹ˆå†æ¬¡æ‰“å¼€é¡µé¢å°±ä¸ä¼šè§¦å‘"),s("code",[t._v("onload")]),t._v("äº‹ä»¶ã€‚")]),t._v(" "),s("p",[t._v("æˆ‘ç†è§£"),s("code",[t._v("bfcache")]),t._v("å°±æ˜¯ç±»ä¼¼äºâ€œå¿«ç…§â€çš„æŠ€æœ¯ã€‚æµè§ˆå™¨è§£æ HTMLã€CSSã€JSç­‰å„ç±»åª’ä½“èµ„æºåï¼Œä¼šæŠŠè¿™ä¸€ä¸ªç»“æœæš‚å­˜èµ·æ¥ã€‚ç”¨æˆ·è¿”å›çš„æ—¶å€™ï¼Œæµè§ˆå™¨å¯ä»¥ä¸ç”¨é‡æ–°è§£æ HTMLã€CSSã€JSç­‰ç­‰ï¼Œç›´æ¥å°†è¿™ä¸ªâ€œå¿«ç…§â€æ‹¿å‡ºæ¥å°±å¯ä»¥äº†ã€‚è¿™æ ·åœ¨ç§»åŠ¨ç«¯èƒ½èŠ‚çœå¤§é‡çš„èµ„æºã€‚åœ¨äº¤äº’ä½“éªŒä¸Šä¹Ÿæœ‰å¾ˆå¤§çš„ä¼˜åŠ¿ã€‚æ¯”å¦‚è¯´åœ¨æ¸²æŸ“æ‡’åŠ è½½çš„é•¿åˆ—è¡¨çš„æ—¶å€™ï¼Œè¿”å›åˆ°ä¸Šä¸€é¡µï¼Œæ‰€æœ‰ä¹‹å‰è¯·æ±‚åˆ°çš„æ¥å£æ•°æ®ã€DOM èŠ‚ç‚¹éƒ½ä¸ä¼šè¢«é”€æ¯ã€‚ç”¨æˆ·ç‚¹å‡»è¿›å…¥é•¿åˆ—è¡¨çš„æŸä¸€é¡¹æŸ¥çœ‹è¯¦æƒ…ï¼Œç‚¹å‡»è¿”å›çš„æ—¶å€™èƒ½å¤Ÿç«‹å³ç»§ç»­æŸ¥çœ‹ã€‚è¿™ä¸€ç‚¹é‡‡ç”¨"),s("code",[t._v("SPA")]),t._v("æ–¹æ¡ˆçš„è¯ï¼Œ"),s("code",[t._v("vue")]),t._v("å¾—ä½¿ç”¨"),s("a",{attrs:{href:"https://v3.cn.vuejs.org/api/built-in-components.html#keep-alive",target:"_blank",rel:"noopener noreferrer"}},[t._v("keep-alive"),s("OutboundLink")],1),t._v("ï¼Œ"),s("code",[t._v("react")]),t._v("ç›®å‰è¿˜åšä¸åˆ°è¿™ä¸€ç‚¹ï¼Œä½†å·²ç»æœ‰äº†ææ¡ˆ"),s("a",{attrs:{href:"https://github.com/facebook/react/issues/13206",target:"_blank",rel:"noopener noreferrer"}},[t._v("offscreen API"),s("OutboundLink")],1)]),t._v(" "),s("h3",{attrs:{id:"æµè§ˆå™¨å·®å¼‚"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#æµè§ˆå™¨å·®å¼‚"}},[t._v("#")]),t._v(" æµè§ˆå™¨å·®å¼‚")]),t._v(" "),s("p",[s("code",[t._v("chrome")]),t._v(" åœ¨ "),s("code",[t._v("Android")]),t._v(" ç³»ç»Ÿä¸Šç°åœ¨ ç”¨çš„æ˜¯ "),s("code",[t._v("blink")]),t._v(" å†…æ ¸ï¼Œæ ¹æ®ç›¸å…³èµ„æ–™[1]æ˜¾ç¤ºï¼Œåœ¨å¾ˆä¹…ä»¥å‰å°±å·²ç»å°†"),s("code",[t._v("PageCache")]),t._v("ï¼ˆå³"),s("code",[t._v("bfcache")]),t._v("ï¼‰è¿™éƒ¨åˆ†ä»£ç ç§»é™¤äº†ï¼Œä¹Ÿå°±æ˜¯è¯´ç°åœ¨çš„chromeåº”è¯¥æ˜¯æ²¡æœ‰è¿™ä¸ªä¸œè¥¿çš„ã€‚å¯ä»¥ç¡®å®šçš„æ˜¯ï¼Œ"),s("code",[t._v("chrome")]),t._v("ä»¥å‰çš„ç‰ˆæœ¬ä¸­ï¼Œ"),s("code",[t._v("bfcache")]),t._v("çš„å®ç°æ˜¯ä»"),s("code",[t._v("webkit")]),t._v("ä¸­æ‹¿æ¥çš„ï¼Œç”±äºç§»åŠ¨ç«¯é¡¹ç›®ç›®å‰é¢å‘çš„ç”¨æˆ·ä¸»ä½“å°±æ˜¯ iOS + Androidï¼ŒiOSä¸‹æ˜¯åŸºäº"),s("code",[t._v("Webkit")]),t._v("ï¼Œ"),s("code",[t._v("Android")]),t._v("åŸºäº"),s("code",[t._v("chrome")]),t._v("ï¼ˆä¸”è¿™éƒ¨åˆ†åŠŸèƒ½ä¹Ÿæ˜¯æºäºwebkitï¼‰ã€‚å› æ­¤è¿½æº¯è¿™ä¸ªé—®é¢˜ï¼Œæˆ‘ä»¬åªè¦ä¸“æ³¨äºç ”ç©¶"),s("code",[t._v("webkit")]),t._v("é‡Œ"),s("code",[t._v("bfcache")]),t._v("çš„é€»è¾‘å³å¯ã€‚")]),t._v(" "),s("h2",{attrs:{id:"è§£å†³æ–¹æ¡ˆ"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#è§£å†³æ–¹æ¡ˆ"}},[t._v("#")]),t._v(" è§£å†³æ–¹æ¡ˆï¼š")]),t._v(" "),s("h3",{attrs:{id:"_1ã€disable-bfcache-æœªåšè¿‡æµ‹è¯•"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1ã€disable-bfcache-æœªåšè¿‡æµ‹è¯•"}},[t._v("#")]),t._v(" 1ã€disable bfcacheï¼ˆæœªåšè¿‡æµ‹è¯•ï¼‰")]),t._v(" "),s("p",[t._v("ä¸šåŠ¡ä¸Šæ·»åŠ å¦‚ä¸‹ä»£ç ï¼š")]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("try")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" bfWorker "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Worker")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("window"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("URL")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("createObjectURL")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Blob")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'1'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    window"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("addEventListener")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'unload'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// è¿™é‡Œç»‘ä¸ªäº‹ä»¶ï¼Œæ„é€ ä¸€ä¸ªé—­åŒ…ï¼Œä»¥å… worker è¢«åƒåœ¾å›æ”¶å¯¼è‡´é€»è¾‘å¤±æ•ˆ")]),t._v("\n        bfWorker"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("terminate")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("catch")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("e"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// if you want to do something here.")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("h3",{attrs:{id:"_2ã€åˆ©ç”¨pageshowäº‹ä»¶-æ¨è"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2ã€åˆ©ç”¨pageshowäº‹ä»¶-æ¨è"}},[t._v("#")]),t._v(" 2ã€åˆ©ç”¨"),s("code",[t._v("pageshow")]),t._v("äº‹ä»¶ï¼ˆæ¨èï¼‰")]),t._v(" "),s("p",[t._v("ä¸ªäººè®¤ä¸ºæœ€åˆç†çš„è§£å†³æ–¹å¼å…¶å®æ˜¯ç›‘å¬"),s("code",[t._v("pageshow")]),t._v("äº‹ä»¶ï¼Œç›®å‰"),s("a",{attrs:{href:"https://caniuse.com/?search=pageshow",target:"_blank",rel:"noopener noreferrer"}},[t._v("å…¼å®¹æ€§"),s("OutboundLink")],1),t._v("è¾¾åˆ°äº†97%ä»¥ä¸Šã€‚è¿™ä¸ªäº‹ä»¶åœ¨é¡µé¢æ˜¾ç¤ºæ—¶è§¦å‘ï¼Œæ— è®ºé¡µé¢æ˜¯å¦æ¥è‡ª"),s("code",[t._v("bfcache")]),t._v("ã€‚åœ¨é‡æ–°åŠ è½½é¡µé¢ä¸­ï¼Œ"),s("code",[t._v("pageshow")]),t._v("ä¼šåœ¨"),s("code",[t._v("load")]),t._v("äº‹ä»¶è§¦å‘åè§¦å‘ï¼›è€Œå¯¹äº"),s("code",[t._v("bfcache")]),t._v("ä¸­çš„é¡µé¢ï¼Œ"),s("code",[t._v("pageshow")]),t._v("ä¼šåœ¨é¡µé¢çŠ¶æ€å®Œå…¨æ¢å¤çš„é‚£ä¸€åˆ»è§¦å‘ã€‚\nå½“é¡µé¢åŠ è½½"),s("code",[t._v("bfcache")]),t._v("æ—¶"),s("code",[t._v("onload")]),t._v("äº‹ä»¶ä¸ä¼šè¢«è§¦å‘ã€‚ç›¸åï¼Œå¯ä»¥æ£€æŸ¥"),s("code",[t._v("onpageshow")]),t._v("äº‹ä»¶çš„æŒä¹…æ€§å±æ€§å€¼"),s("code",[t._v("persisted")]),t._v("ã€‚å¯¹äº"),s("code",[t._v("pageshow")]),t._v("äº‹ä»¶ï¼Œåˆå§‹é¡µé¢åŠ è½½æ—¶"),s("code",[t._v("persisted")]),t._v("å€¼ä¸º"),s("code",[t._v("false")]),t._v("ï¼›å¦‚æœé¡µé¢æ˜¯ä»"),s("code",[t._v("bfcache")]),t._v("ä¸­åŠ è½½çš„ï¼Œé‚£ä¹ˆ"),s("code",[t._v("persisted")]),t._v("çš„å€¼å°±æ˜¯"),s("code",[t._v("true")]),t._v("ã€‚")]),t._v(" "),s("p",[t._v("è§£å†³æ€è·¯ï¼š\né¡µé¢åœ¨ç‚¹å‡»å›é€€æŒ‰é’®æ—¶ï¼Œä¼šè§¦å‘pageshowäº‹ä»¶ï¼Œå¦‚æœè¿™ä¸ªé¡µé¢æ˜¯ä»ç¼“å­˜åŠ è½½çš„ï¼Œé‚£ä¹ˆpersistedçš„å€¼ä¸ºtrueï¼Œæ­¤æ—¶è°ƒç”¨reloadï¼Œå¼ºåˆ¶åˆ·æ–°ï¼Œå¯ä»¥é˜»æ­¢é¡µé¢è¿›å…¥bfcacheã€‚æˆ–è€…é‡æ–°è°ƒç”¨ä¸€æ¬¡æ”¶è—æ¥å£ã€‚\nä¸šåŠ¡ä¸Šæ·»åŠ å¦‚ä¸‹ä»£ç ï¼š")]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[t._v("window"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("addEventListener")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'pageshow'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("event")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("event"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("persisted"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),t._v(" reloadï¼Œè¿™æ—¶å€™ä¼šå‘ç°é¡µé¢å±•ç°ä¹‹åä¼šå†æœ‰ä¸€ä¸ªé‡æ–°åŠ è½½çš„è¿‡ç¨‹ï¼Œå¯¹ç”¨æˆ·ä¸æ˜¯å¤ªå‹å¥½ "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n      window"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("location"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("reload")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),t._v(" é‡æ–°è°ƒç”¨æ¥å£"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("å…¶ä»–é€»è¾‘ "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("h3",{attrs:{id:"_3ã€jsç›‘å¬pagehidenäº‹ä»¶é˜»æ­¢é¡µé¢è¿›å…¥bfcache"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3ã€jsç›‘å¬pagehidenäº‹ä»¶é˜»æ­¢é¡µé¢è¿›å…¥bfcache"}},[t._v("#")]),t._v(" 3ã€jsç›‘å¬pagehidenäº‹ä»¶é˜»æ­¢é¡µé¢è¿›å…¥bfcache")]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[t._v("window"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("addEventListener")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'pagehide'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("event")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("event"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("persisted"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" dom "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" document"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("body"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    dom"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("children"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("remove")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("setTimeout")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      dom"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("appendChild")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("\"<script type='text/javascript'>window.location.reload();<\/script>\"")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("h3",{attrs:{id:"_4ã€è®¾ç½®metaæ ‡ç­¾-æ¸…é™¤é¡µé¢ç¼“å­˜"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_4ã€è®¾ç½®metaæ ‡ç­¾-æ¸…é™¤é¡µé¢ç¼“å­˜"}},[t._v("#")]),t._v(" 4ã€è®¾ç½®metaæ ‡ç­¾ï¼Œæ¸…é™¤é¡µé¢ç¼“å­˜")]),t._v(" "),s("div",{staticClass:"language-html extra-class"},[s("pre",{pre:!0,attrs:{class:"language-html"}},[s("code",[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("meta")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("http-equiv")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("Cache-Control"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("content")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("no-cache, no-store, must-revalidate"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("/>")])]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("meta")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("http-equiv")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("Pragma"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("content")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("no-cache"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("/>")])]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("meta")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("http-equiv")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("Expires"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("content")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("0"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("/>")])]),t._v("\n")])])]),s("p",[s("code",[t._v("Cache-Control")]),t._v("æŒ‡å®šè¯·æ±‚å’Œå“åº”éµå¾ªçš„ç¼“å­˜æœºåˆ¶ã€‚åœ¨è¯·æ±‚æ¶ˆæ¯æˆ–å“åº”æ¶ˆæ¯ä¸­è®¾ç½®"),s("code",[t._v("Cache-Control")]),t._v("å¹¶ä¸ä¼šä¿®æ”¹å¦ä¸€ä¸ªæ¶ˆæ¯å¤„ç†è¿‡ç¨‹ä¸­çš„ç¼“å­˜å¤„ç†è¿‡ç¨‹ã€‚")]),t._v(" "),s("ul",[s("li",[t._v("no-cacheï¼šæŒ‡ç¤ºè¯·æ±‚æˆ–å“åº”æ¶ˆæ¯ä¸èƒ½ç¼“å­˜")]),t._v(" "),s("li",[t._v("no-storeï¼šç”¨äºé˜²æ­¢é‡è¦çš„ä¿¡æ¯è¢«æ— æ„çš„å‘å¸ƒã€‚åœ¨è¯·æ±‚æ¶ˆæ¯ä¸­å‘é€å°†ä½¿å¾—è¯·æ±‚å’Œå“åº”æ¶ˆæ¯éƒ½ä¸ä½¿ç”¨ç¼“å­˜ã€‚")]),t._v(" "),s("li",[t._v("must-revalidateï¼šå‘Šè¯‰æµè§ˆå™¨ã€ç¼“å­˜æœåŠ¡å™¨ï¼Œæœ¬åœ°å‰¯æœ¬è¿‡æœŸå‰ï¼Œå¯ä»¥ä½¿ç”¨æœ¬åœ°å‰¯æœ¬ï¼›æœ¬åœ°å‰¯æœ¬ä¸€æ—¦è¿‡æœŸï¼Œå¿…é¡»å»æºæœåŠ¡å™¨è¿›è¡Œæœ‰æ•ˆæ€§æ ¡éªŒã€‚")])]),t._v(" "),s("h2",{attrs:{id:"å‚è€ƒæ–‡æ¡£"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#å‚è€ƒæ–‡æ¡£"}},[t._v("#")]),t._v(" å‚è€ƒæ–‡æ¡£")]),t._v(" "),s("p",[s("a",{attrs:{href:"https://bugs.chromium.org/p/chromium/issues/detail?id=229605",target:"_blank",rel:"noopener noreferrer"}},[t._v("chromium issues"),s("OutboundLink")],1)]),t._v(" "),s("p",[s("a",{attrs:{href:"https://github.com/WebKit/webkit/blob/0fce2cb9b2fd61f9f249f09a14b40ac163ab16c6/Source/WebCore/history/PageCache.cpp",target:"_blank",rel:"noopener noreferrer"}},[t._v("Webkitä¸­bfcacheç›¸å…³é€»è¾‘"),s("OutboundLink")],1)]),t._v(" "),s("p",[s("a",{attrs:{href:"https://github.com/LeuisKen/leuisken.github.io/issues/6",target:"_blank",rel:"noopener noreferrer"}},[t._v("æµè§ˆå™¨å¾€è¿”ç¼“å­˜ï¼ˆBack/Forward cacheï¼‰é—®é¢˜çš„åˆ†æä¸è§£å†³"),s("OutboundLink")],1)]),t._v(" "),s("p",[s("a",{attrs:{href:"https://developers.google.com/web/updates/2019/02/back-forward-cache",target:"_blank",rel:"noopener noreferrer"}},[t._v("back-forward-cache"),s("OutboundLink")],1)]),t._v(" "),s("p",[s("a",{attrs:{href:"http://back-forward-cache-tester.glitch.me",target:"_blank",rel:"noopener noreferrer"}},[t._v("BFCacheæµ‹è¯•åœ°å€"),s("OutboundLink")],1)]),t._v(" "),s("p",[s("a",{attrs:{href:"https://webkit.org/blog/516/webkit-page-cache-ii-the-unload-event/",target:"_blank",rel:"noopener noreferrer"}},[t._v("webkit page cache"),s("OutboundLink")],1)])])}),[],!1,null,null,null);a.default=n.exports}}]);