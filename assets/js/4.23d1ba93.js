(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{370:function(t,s,a){t.exports=a.p+"assets/img/husky.0551ac8e.png"},373:function(t,s,a){t.exports=a.p+"assets/img/save.afaab03c.png"},374:function(t,s,a){t.exports=a.p+"assets/img/cz.f1e46ba6.png"},375:function(t,s,a){t.exports=a.p+"assets/img/commitlint.d000feec.png"},376:function(t,s,a){t.exports=a.p+"assets/img/test_commitlint.63c34a4b.png"},377:function(t,s,a){t.exports=a.p+"assets/img/jest.92dd7e35.png"},378:function(t,s,a){t.exports=a.p+"assets/img/jest_fail.8444e923.png"},483:function(t,s,a){t.exports=a.p+"assets/img/commonjs-result.bde6dce1.png"},557:function(t,s,a){"use strict";a.r(s);var n=a(65),e=Object(n.a)({},(function(){var t=this,s=t.$createElement,n=t._self._c||s;return n("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[n("h1",{attrs:{id:"ä»-0-æ­å»º-rollup-typescript-jest-å·¥å…·åº“"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#ä»-0-æ­å»º-rollup-typescript-jest-å·¥å…·åº“"}},[t._v("#")]),t._v(" ä» 0 æ­å»º rollup + typescript + jest å·¥å…·åº“")]),t._v(" "),n("h2",{attrs:{id:"å‰è¨€"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#å‰è¨€"}},[t._v("#")]),t._v(" å‰è¨€")]),t._v(" "),n("p",[t._v("å…¬å¸ä¸åŒé¡¹ç›®ä¹‹é—´ç”±äºä¸šåŠ¡çš„å…³è”æ€§ï¼Œæ€»æ˜¯ä¼šæ²‰æ·€è®¸å¤šé€šç”¨çš„å·¥å…·æ–¹æ³•ä»¥åŠä¸šåŠ¡åŠŸèƒ½ï¼Œæˆ‘ä»¬å¯ä»¥æ­å»ºä¸€ä¸ªå·¥å…·åº“æ¥ç»™å„ä¸ªé¡¹ç›®ä½¿ç”¨ã€‚çœ‹äº†æœ¬æ–‡ï¼Œä½ èƒ½çŸ¥é“æ€ä¹ˆæ­å»ºä¸€ä¸ªç»Ÿä¸€çš„å·¥å…·åº“ï¼Œå¹¶ä¸”å­¦ä¼šåœ¨å·¥å…·åº“ä¸­ä½¿ç”¨rollupæ‰“åŒ…å·¥å…·é…ç½®babelã€tsã€commonjsç­‰åŠŸèƒ½æ’ä»¶ï¼ˆæœ¬æ–‡æ˜¯"),n("RouterLink",{attrs:{to:"/blog/engineer/vue3_template.html"}},[t._v("ä» 0 æ­å»º vue3+vite+typescript ä¼ä¸šçº§é¡¹ç›®")]),t._v("çš„å§Šå¦¹ç¯‡ï¼‰ã€‚")],1),t._v(" "),n("h2",{attrs:{id:"å®ç°çš„åŠŸèƒ½"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#å®ç°çš„åŠŸèƒ½"}},[t._v("#")]),t._v(" å®ç°çš„åŠŸèƒ½")]),t._v(" "),n("ul",[n("li",[t._v("tsä»£ç æ£€éªŒ")]),t._v(" "),n("li",[t._v("å•å…ƒæµ‹è¯•åŠè¦†ç›–ç‡æ£€æµ‹")]),t._v(" "),n("li",[t._v("æ‰“åŒ…æˆumdã€cmdã€esmæ ¼å¼ä»£ç ")]),t._v(" "),n("li",[t._v("å…¼å®¹ä¼ ç»Ÿæµè§ˆå™¨ï¼Œå¹¶æŒ‰éœ€åŠ è½½polyfill")]),t._v(" "),n("li",[t._v("ç¼–è¾‘å™¨çš„å¿«é€Ÿè¡¥å…¨å’Œæç¤º")]),t._v(" "),n("li",[t._v("è‡ªåŠ¨ç”Ÿæˆ changlog")]),t._v(" "),n("li",[t._v("çº¦æŸç¼–ç é£æ ¼ã€ä¿å­˜æ ¼å¼åŒ–")]),t._v(" "),n("li",[t._v("ä»£ç æäº¤å¼ºåˆ¶æ ¡éªŒ")])]),t._v(" "),n("h2",{attrs:{id:"æ¨¡æ¿ä¾èµ–ç‰ˆæœ¬"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#æ¨¡æ¿ä¾èµ–ç‰ˆæœ¬"}},[t._v("#")]),t._v(" æ¨¡æ¿ä¾èµ–ç‰ˆæœ¬")]),t._v(" "),n("ul",[n("li",[n("code",[t._v("nodeï¼š>=v12.0.0")])]),t._v(" "),n("li",[n("code",[t._v("rollupï¼š^2.55.0")])]),t._v(" "),n("li",[n("code",[t._v("@rollup/plugin-babelï¼š^5.3.0")])]),t._v(" "),n("li",[n("code",[t._v("@rollup/plugin-commonjsï¼š^19.0.2")])]),t._v(" "),n("li",[n("code",[t._v("@rollup/plugin-jsonï¼š^4.1.0")])]),t._v(" "),n("li",[n("code",[t._v("@rollup/plugin-node-resolveï¼š^13.0.4")])]),t._v(" "),n("li",[n("code",[t._v("rollup-plugin-terserï¼š^7.0.2")])]),t._v(" "),n("li",[n("code",[t._v("rollup-plugin-dtsï¼š^4.2.2")])]),t._v(" "),n("li",[n("code",[t._v("typescriptï¼š^4.6.4")])]),t._v(" "),n("li",[n("code",[t._v("@typescript-eslint/eslint-pluginï¼š^5.13.0")])]),t._v(" "),n("li",[n("code",[t._v("@typescript-eslint/parserï¼š^5.13.0")])]),t._v(" "),n("li",[n("code",[t._v("@babel/coreï¼š^7.14.8")])]),t._v(" "),n("li",[n("code",[t._v("@babel/preset-envï¼š^7.14.8")])]),t._v(" "),n("li",[n("code",[t._v("@babel/plugin-transform-runtimeï¼š^7.17.0")])]),t._v(" "),n("li",[n("code",[t._v("@babel/preset-typescriptï¼š^7.18.6")])]),t._v(" "),n("li",[n("code",[t._v("babel-plugin-polyfill-corejs3ï¼š^0.5.2")])]),t._v(" "),n("li",[n("code",[t._v("prettierï¼š^2.5.1")])]),t._v(" "),n("li",[n("code",[t._v("eslintï¼š^8.10.0")])]),t._v(" "),n("li",[n("code",[t._v("eslint-config-airbnb-base: ^15.0.0")])]),t._v(" "),n("li",[n("code",[t._v("eslint-plugin-importï¼š^2.25.4")])]),t._v(" "),n("li",[n("code",[t._v("eslint-import-resolver-aliasï¼š^1.1.2")])]),t._v(" "),n("li",[n("code",[t._v("eslint-config-prettierï¼š^8.5.0")])]),t._v(" "),n("li",[n("code",[t._v("eslint-plugin-prettierï¼š^4.0.0")])]),t._v(" "),n("li",[n("code",[t._v("jestï¼š^28.1.0")])]),t._v(" "),n("li",[n("code",[t._v("ts-jestï¼š^28.0.8")])]),t._v(" "),n("li",[n("code",[t._v("@types/jestï¼š^27.5.0")])]),t._v(" "),n("li",[n("code",[t._v("@jest/globalsï¼š^28.0.3")])])]),t._v(" "),n("h2",{attrs:{id:"åˆå§‹åŒ–é¡¹ç›®"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#åˆå§‹åŒ–é¡¹ç›®"}},[t._v("#")]),t._v(" åˆå§‹åŒ–é¡¹ç›®")]),t._v(" "),n("p",[t._v("æ–°å»ºä¸€ä¸ªé¡¹ç›®ç›®å½•å¦‚ utils , å¹¶ npm init -y åˆå§‹åŒ–é¡¹ç›®ã€‚")]),t._v(" "),n("div",{staticClass:"language-sh extra-class"},[n("pre",{pre:!0,attrs:{class:"language-sh"}},[n("code",[n("span",{pre:!0,attrs:{class:"token function"}},[t._v("mkdir")]),t._v(" utils "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&&")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("cd")]),t._v(" utils\n"),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("npm")]),t._v(" init -y\n")])])]),n("h2",{attrs:{id:"é…ç½®typescript"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#é…ç½®typescript"}},[t._v("#")]),t._v(" é…ç½®Typescript")]),t._v(" "),n("h3",{attrs:{id:"å®‰è£…ä¾èµ–"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#å®‰è£…ä¾èµ–"}},[t._v("#")]),t._v(" å®‰è£…ä¾èµ–")]),t._v(" "),n("div",{staticClass:"language-sh extra-class"},[n("pre",{pre:!0,attrs:{class:"language-sh"}},[n("code",[n("span",{pre:!0,attrs:{class:"token function"}},[t._v("pnpm")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v(" typescript\n")])])]),n("p",[t._v("åˆ›å»º "),n("code",[t._v("types")]),t._v(" ç›®å½•ä½œä¸ºç±»å‹å£°æ˜æ–‡ä»¶ç®¡ç†ç›®å½•")]),t._v(" "),n("div",{staticClass:"language-bash extra-class"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[t._v("utils\n "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("\n "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("- src\n \t "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("- global.d.ts\n "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("- tsconfig.json\n")])])]),n("h3",{attrs:{id:"å¢åŠ é…ç½®"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#å¢åŠ é…ç½®"}},[t._v("#")]),t._v(" å¢åŠ é…ç½®")]),t._v(" "),n("p",[t._v("åœ¨é¡¹ç›®æ ¹ç›®å½•æ–°å¢"),n("code",[t._v(".vscode")]),t._v("æ–‡ä»¶å¤¹ï¼Œåœ¨ä¸‹æ–°å¢"),n("code",[t._v("settings.json")]),t._v("æ–‡ä»¶ã€‚")]),t._v(" "),n("div",{staticClass:"language-json extra-class"},[n("pre",{pre:!0,attrs:{class:"language-json"}},[n("code",[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token property"}},[t._v('"typescript.tsdk"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"./node_modules/typescript/lib"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),n("p",[t._v("æ–°å¢è¿™è¡Œé…ç½®ã€‚æ„ä¹‰æ˜¯é¡¹ç›®ä¸­vscodeä½¿ç”¨çš„tsçš„sdkè·¯å¾„æ˜¯æˆ‘ä»¬ä¾èµ–ä¸­çš„tsï¼Œä¸æ˜¯vscodeå†…ç½®çš„tsç‰ˆæœ¬ï¼ä¿è¯å›¢é˜Ÿä½¿ç”¨çš„éƒ½æ˜¯åŒä¸€ä¸ª"),n("code",[t._v("ts sdk")]),t._v("ã€‚")]),t._v(" "),n("h3",{attrs:{id:"é…ç½®tsconfig-json"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#é…ç½®tsconfig-json"}},[t._v("#")]),t._v(" é…ç½®tsconfig.json")]),t._v(" "),n("div",{staticClass:"language-json extra-class"},[n("pre",{pre:!0,attrs:{class:"language-json"}},[n("code",[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/* åŸºç¡€é…ç½® */")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token property"}},[t._v('"compilerOptions"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ç¼–è¯‘è¿‡ç¨‹ä¸­éœ€è¦å¼•å…¥çš„åº“æ–‡ä»¶çš„åˆ—è¡¨")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token property"}},[t._v('"lib"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"esnext"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"dom"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ç¼–è¯‘åçš„ç›®æ ‡ç‰ˆæœ¬")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token property"}},[t._v('"target"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"esnext"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ç¼–è¯‘åä»£ç éµå¾ªçš„è§„èŒƒ")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token property"}},[t._v('"module"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"esnext"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// å¯ç”¨å®ƒä¼šé˜»æ­¢Typescriptå¯¹å¯¼å…¥çš„åº“è¿›è¡Œç±»å‹æ£€æŸ¥")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token property"}},[t._v('"skipLibCheck"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/* å¼ºç±»å‹æ£€æŸ¥é…ç½® */")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ä¸¥æ ¼æ¨¡å¼, å¼ºçƒˆå»ºè®®å¼€å¯ï¼Œå¦‚æœä¸å¼€å¯ï¼ŒTSå°±æ²¡æœ‰æ„ä¹‰äº†")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token property"}},[t._v('"strict"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// æŒ‡å®š jsx ä»£ç çš„ç”Ÿæˆ: 'preserve', 'react-native', or 'react'")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token property"}},[t._v('"jsx"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"preserve"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// å¿…é¡»æ ‡æ³¨ä¸ºnullç±»å‹,æ‰å¯ä»¥èµ‹å€¼ä¸ºnull")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token property"}},[t._v('"strictNullChecks"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// trueï¼šåœ¨è¡¨è¾¾å¼å’Œå£°æ˜ä¸Šæœ‰éšå«çš„ anyç±»å‹æ—¶æŠ¥é”™")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token property"}},[t._v('"noImplicitAny"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ä¸º trueï¼Œå…è®¸ä»æ²¡æœ‰è®¾ç½®é»˜è®¤å¯¼å‡ºçš„æ¨¡å—ä¸­é»˜è®¤å¯¼å…¥ã€‚è¿™å¹¶ä¸å½±å“ä»£ç çš„æ˜¾ç¤ºï¼Œä»…ä¸ºäº†ç±»å‹æ£€æŸ¥ã€‚")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token property"}},[t._v('"allowSyntheticDefaultImports"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ç”¨æ¥æŒ‡å®šæ˜¯å¦å…è®¸ç¼–è¯‘JSæ–‡ä»¶ï¼Œé»˜è®¤false,å³ä¸ç¼–è¯‘JSæ–‡ä»¶")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v('// "allowJs": true,')]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// å½“thisè¡¨è¾¾å¼çš„å€¼ä¸ºanyç±»å‹çš„æ—¶å€™ï¼Œç”Ÿæˆä¸€ä¸ªé”™è¯¯")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token property"}},[t._v('"noImplicitThis"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/* æ¨¡å—åˆ†æé…ç½® */")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// æ­¤å¤„è®¾ç½®ä¸ºnode,æ‰èƒ½è§£æimport xx from 'xx'")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token property"}},[t._v('"moduleResolution"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"node"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// å…è®¸æˆ‘ä»¬åœ¨ TypeScript æ¨¡å—ä¸­å¯¼å…¥ JSON æ–‡ä»¶")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token property"}},[t._v('"resolveJsonModule"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// å…¼å®¹æ¨¡å¼ï¼šå°† CommonJSæ–‡ä»¶ çš„æ‰€æœ‰å¯¼å‡ºåˆå¹¶ä½œä¸ºä¸€ä¸ª default exportï¼Œæ”¯æŒä½¿ç”¨import XX from 'XX'è¯­æ³•å¯¼å…¥ CommonJS æ¨¡å—ã€‚è¾…åŠ©è§£å†³ESæ¨¡å—ä¸­å¼•å…¥CommonJsæ¨¡å—æ—¶çš„é—®é¢˜ï¼Œä¸»è¦é’ˆå¯¹ESMä¸­æœ‰é»˜è®¤å¯¼å‡ºè€ŒCommonJsæ²¡æœ‰ã€‚")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token property"}},[t._v('"esModuleInterop"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// é…ç½®ç±»å‹å£°æ˜æ–‡ä»¶`d.ts`çš„æŸ¥æ‰¾è·¯å¾„ã€‚é»˜è®¤åœ¨node_modulesä¸‹çš„@typesé‡Œé¢æŸ¥æ‰¾ã€‚")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token property"}},[t._v('"typeRoots"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"./node_modules/@types/"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"./types/"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token property"}},[t._v('"include"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"./src/**/*.ts"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"./types/*.d.ts"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token property"}},[t._v('"exclude"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"node_modules"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"dist"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"docs"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"coverage"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),n("h2",{attrs:{id:"é›†æˆeslint"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#é›†æˆeslint"}},[t._v("#")]),t._v(" é›†æˆeslint")]),t._v(" "),n("p",[t._v("TypeScirpt ä»2019å¹´å¼€å§‹ä¾¿å·²å…¨é¢é‡‡ç”¨"),n("code",[t._v("ESLint")]),t._v("ä½œä¸ºä»£ç æ£€æµ‹å·¥å…·ã€‚å¹¶ä¸”æä¾›äº† TypeScript æ–‡ä»¶çš„è§£æå™¨ "),n("a",{attrs:{href:"https://github.com/typescript-eslint/typescript-eslint/tree/main/packages/parser",target:"_blank",rel:"noopener noreferrer"}},[t._v("@typescript-eslint/parser"),n("OutboundLink")],1),t._v(" å’Œ é€‰é¡¹é…ç½®æ’ä»¶ "),n("a",{attrs:{href:"https://github.com/typescript-eslint/typescript-eslint/tree/main/packages/eslint-plugin",target:"_blank",rel:"noopener noreferrer"}},[t._v("@typescript-eslint/eslint-plugin"),n("OutboundLink")],1),t._v("ã€‚")]),t._v(" "),n("p",[t._v("è¯¦ç»†æè¿°å¯ä»¥æŸ¥çœ‹ "),n("a",{attrs:{href:"https://eslint.org/blog/2019/01/future-typescript-eslint/",target:"_blank",rel:"noopener noreferrer"}},[t._v("the future of TypeScript on ESLint"),n("OutboundLink")],1),t._v("ã€‚")]),t._v(" "),n("h3",{attrs:{id:"å®‰è£…"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#å®‰è£…"}},[t._v("#")]),t._v(" å®‰è£…")]),t._v(" "),n("div",{staticClass:"language-sh extra-class"},[n("pre",{pre:!0,attrs:{class:"language-sh"}},[n("code",[n("span",{pre:!0,attrs:{class:"token function"}},[t._v("pnpm")]),t._v(" i eslint @typescript-eslint/parser @typescript-eslint/eslint-plugin -D\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# pnpm i eslint @typescript-eslint/parser @typescript-eslint/eslint-plugin eslint-plugin-import eslint-import-resolver-typescript -D")]),t._v("\n")])])]),n("h3",{attrs:{id:"é…ç½®-eslintrc-js"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#é…ç½®-eslintrc-js"}},[t._v("#")]),t._v(" é…ç½® .eslintrc.js")]),t._v(" "),n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[t._v("module"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("exports "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("root")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("env")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("browser")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("node")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("es6")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("parser")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'@typescript-eslint/parser'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("parserOptions")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("ecmaVersion")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'latest'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("parser")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'@typescript-eslint/parser'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("sourceType")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'module'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("ecmaFeatures")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),n("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("jsx")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("plugins")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'@typescript-eslint'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("extends")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'eslint:recommended'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'plugin:@typescript-eslint/recommended'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("rules")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v("'import/prefer-default-export'")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'off'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v("'global-require'")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'off'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v("'import/export'")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'off'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v("'@typescript-eslint/ban-ts-comment'")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'off'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("globals")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("system")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// parserOptions: {")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//   project: './tsconfig.json',")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// },")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n")])])]),n("p",[t._v("å¦‚éœ€äº†è§£eslintåŸç†åŠå…·ä½“é…ç½®è§„åˆ™ï¼Œè¯·ç‚¹å‡»"),n("RouterLink",{attrs:{to:"/blog/engineer/eslintrc.html"}},[t._v("ESLintä½¿ç”¨ã€åŸç†åŠé…ç½®è§„åˆ™è¯¦è§£")])],1),t._v(" "),n("h2",{attrs:{id:"é›†æˆ-prettier-ä¸éœ€è¦å°±è·³è¿‡"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#é›†æˆ-prettier-ä¸éœ€è¦å°±è·³è¿‡"}},[t._v("#")]),t._v(" é›†æˆ prettierï¼ˆä¸éœ€è¦å°±è·³è¿‡ï¼‰")]),t._v(" "),n("div",{staticClass:"custom-block tip"},[n("p",{staticClass:"custom-block-title"},[t._v("TIP")]),t._v(" "),n("ol",[n("li",[n("code",[t._v("prettier")]),t._v("ä¸»è¦è´Ÿè´£: é£æ ¼æ£€æŸ¥, æ²¡æœ‰è´¨é‡æ£€æŸ¥ã€‚è™½ç„¶ eslint æœ¬èº«åªæä¾›äº†éƒ¨åˆ†é£æ ¼æ£€æŸ¥ï¼Œä½†æ˜¯è¿™å¯¼è‡´æœ‰éƒ¨åˆ†çš„ä»£ç ä¾ç„¶æ²¡æœ‰å®ç°é£æ ¼æ£€æŸ¥ï¼Œå…·ä½“ç»†èŠ‚ä¸‹é¢ä¼šè¯´ã€‚å¯¹äºå¤§å¤šæ•°å®é™…é¡¹ç›®ï¼Œéƒ½ä¼šä½¿ç”¨"),n("code",[t._v("prettier")]),t._v("è¿›è¡Œé£æ ¼æ£€æŸ¥ã€‚ç”±äºä¼šå‡ºç°å¼•å…¥å¤šä¸ªé£æ ¼æ£€æŸ¥çš„æ’ä»¶å’Œé…ç½® lintï¼Œè¿™å°±å¯¼è‡´å­˜åœ¨éƒ¨åˆ†ä¼šä¸ prettier çš„ lint å‡ºç°å†²çªï¼Œå› æ­¤éœ€è¦ lint é¢„è®¾åŒ…ã€‚")]),t._v(" "),n("li",[n("code",[t._v("eslint-config-prettier")]),t._v("ï¼Œè¿™ä¸ªåŒ…çš„ä½œç”¨æ˜¯å…ˆå…³é—­è¿™äº›ä¸ prettier å†²çªçš„ lint è§„åˆ™ï¼Œç„¶åä¹‹åå†å¯ç”¨ prettier çš„è§„åˆ™ï¼Œä½¿å¾—å†²çªçš„ lint è§„åˆ™ä»¥ prettier ä¸ºå‡†ã€‚")]),t._v(" "),n("li",[n("code",[t._v("eslint-plugin-prettier")]),t._v("æ’ä»¶ä¼šè°ƒç”¨"),n("code",[t._v("prettier")]),t._v("å¯¹ä½ çš„ä»£ç é£æ ¼è¿›è¡Œæ£€æŸ¥ï¼Œå…¶åŸç†æ˜¯å…ˆä½¿ç”¨ prettier å¯¹ä½ çš„ä»£ç è¿›è¡Œæ ¼å¼åŒ–ï¼Œç„¶åä¸æ ¼å¼åŒ–ä¹‹å‰çš„ä»£ç è¿›è¡Œå¯¹æ¯”ï¼Œå¦‚æœè¿‡å‡ºç°äº†ä¸ä¸€è‡´ï¼Œè¿™ä¸ªåœ°æ–¹å°±ä¼šè¢« prettier è¿›è¡Œæ ‡è®°ã€‚")])])]),t._v(" "),n("ol",[n("li",[t._v("å®‰è£…")])]),t._v(" "),n("div",{staticClass:"language-sh extra-class"},[n("pre",{pre:!0,attrs:{class:"language-sh"}},[n("code",[n("span",{pre:!0,attrs:{class:"token function"}},[t._v("pnpm")]),t._v(" i prettier eslint-config-prettier eslint-plugin-prettier -D\n")])])]),n("ol",{attrs:{start:"2"}},[n("li",[t._v("åˆ›å»ºé…ç½®æ–‡ä»¶ï¼š "),n("code",[t._v("prettier.config.js")]),t._v(" æˆ– "),n("code",[t._v(".prettierrc.js")]),t._v(" æˆ– "),n("code",[t._v(".prettierrc")])])]),t._v(" "),n("details",{staticClass:"custom-block details"},[n("summary",[t._v("ç‚¹å‡»æŸ¥çœ‹ä»£ç ")]),t._v(" "),n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[t._v("module"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("exports "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ä¸€è¡Œæœ€å¤š 80 å­—ç¬¦")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("printWidth")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("80")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ä½¿ç”¨ 4 ä¸ªç©ºæ ¼ç¼©è¿›")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("tabWidth")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ä¸ä½¿ç”¨ tab ç¼©è¿›ï¼Œè€Œä½¿ç”¨ç©ºæ ¼")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("useTabs")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// è¡Œå°¾éœ€è¦æœ‰åˆ†å·")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("semi")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ä½¿ç”¨å•å¼•å·ä»£æ›¿åŒå¼•å·")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("singleQuote")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// å¯¹è±¡çš„ key ä»…åœ¨å¿…è¦æ—¶ç”¨å¼•å·")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("quoteProps")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"as-needed"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// jsx ä¸ä½¿ç”¨å•å¼•å·ï¼Œè€Œä½¿ç”¨åŒå¼•å·")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("jsxSingleQuote")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// æœ«å°¾ä½¿ç”¨é€—å·")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("trailingComma")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"all"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// å¤§æ‹¬å·å†…çš„é¦–å°¾éœ€è¦ç©ºæ ¼ { foo: bar }")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("bracketSpacing")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// jsx æ ‡ç­¾çš„åå°–æ‹¬å·éœ€è¦æ¢è¡Œ")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("jsxBracketSameLine")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ç®­å¤´å‡½æ•°ï¼Œåªæœ‰ä¸€ä¸ªå‚æ•°çš„æ—¶å€™ï¼Œä¹Ÿéœ€è¦æ‹¬å·")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("arrowParens")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"always"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// æ¯ä¸ªæ–‡ä»¶æ ¼å¼åŒ–çš„èŒƒå›´æ˜¯æ–‡ä»¶çš„å…¨éƒ¨å†…å®¹")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("rangeStart")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("rangeEnd")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("Infinity")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// æ˜¯å¦éœ€è¦å†™æ–‡ä»¶å¼€å¤´çš„ @prettier")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("requirePragma")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// æ˜¯å¦è‡ªåŠ¨åœ¨æ–‡ä»¶å¼€å¤´æ’å…¥ @prettier")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("insertPragma")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ä½¿ç”¨é»˜è®¤çš„æŠ˜è¡Œæ ‡å‡†")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("proseWrap")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"preserve"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// æ ¹æ®æ˜¾ç¤ºæ ·å¼å†³å®š html è¦ä¸è¦æŠ˜è¡Œ")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("htmlWhitespaceSensitivity")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"css"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// æ¢è¡Œç¬¦ä½¿ç”¨ lf")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("endOfLine")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"lf"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])])]),t._v(" "),n("ol",{attrs:{start:"3"}},[n("li",[t._v("ä¿®æ”¹ "),n("code",[t._v(".eslintrc.js")]),t._v(" é…ç½®")])]),t._v(" "),n("details",{staticClass:"custom-block details"},[n("summary",[t._v("ç‚¹å‡»æŸ¥çœ‹ä»£ç ")]),t._v(" "),n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[t._v("module"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("exports "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("plugins")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'prettier'")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("extends")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'prettier'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'plugin:prettier/recommended'")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])])]),t._v(" "),n("p",[t._v("æ›´å¤šé…ç½®ï¼Œå¯ä»¥æŸ¥çœ‹"),n("a",{attrs:{href:"https://prettier.io/docs/en/options.html#print-width",target:"_blank",rel:"noopener noreferrer"}},[t._v("Prettier Options"),n("OutboundLink")],1),t._v("\nåœ¨è®¾ç½®ä¸­ï¼Œæœç´¢ "),n("code",[t._v("save")]),t._v(" ï¼Œå‹¾é€‰ "),n("code",[t._v("Format On Save")]),t._v("ï¼š\n"),n("img",{attrs:{src:a(373),alt:"format on save"}}),t._v("\nç„¶ååœ¨ "),n("code",[t._v(".vscodeæ–‡ä»¶å¤¹")]),t._v("ä¸‹çš„ "),n("code",[t._v("setting.json")]),t._v(" ä¸­å¢åŠ é…ç½®ï¼š")]),t._v(" "),n("div",{staticClass:"language-json extra-class"},[n("pre",{pre:!0,attrs:{class:"language-json"}},[n("code",[t._v("  "),n("span",{pre:!0,attrs:{class:"token property"}},[t._v('"editor.codeActionsOnSave"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token property"}},[t._v('"source.fixAll"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token property"}},[t._v('"[javascript]"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token property"}},[t._v('"editor.defaultFormatter"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"dbaeumer.vscode-eslint"')]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token property"}},[t._v('"[typescript]"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token property"}},[t._v('"editor.defaultFormatter"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"dbaeumer.vscode-eslint"')]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token property"}},[t._v('"editor.defaultFormatter"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"esbenp.prettier-vscode"')]),t._v("\n")])])]),n("p",[t._v("æŒ‡å®šé»˜è®¤æ ¼å¼åŒ–å·¥å…·å¾ˆé‡è¦ã€‚å³ä½¿ä½ çš„eslintä»¥åŠå…¶ä»–é…ç½®é¡¹éƒ½å¯¹ï¼Œä½†æ˜¯ä¿å­˜çš„æ—¶å€™ä»£ç é—ªæ¥é—ªå»é‚£è¯´æ˜ä½ çš„é»˜è®¤æ ¼å¼åŒ–å·¥å…·ä¸æ­£ç¡®ã€‚")]),t._v(" "),n("h2",{attrs:{id:"ä½¿ç”¨rollup"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#ä½¿ç”¨rollup"}},[t._v("#")]),t._v(" ä½¿ç”¨rollup")]),t._v(" "),n("h3",{attrs:{id:"ä¸ºä»€ä¹ˆä¸ä½¿ç”¨webpack"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#ä¸ºä»€ä¹ˆä¸ä½¿ç”¨webpack"}},[t._v("#")]),t._v(" ä¸ºä»€ä¹ˆä¸ä½¿ç”¨webpackï¼Ÿ")]),t._v(" "),n("p",[t._v("ä¸€è¯´åˆ°æ‰“åŒ…å·¥å…·å¤§å®¶éƒ½æƒ³åˆ°webpackï¼Œå› ä¸ºæˆ‘ä»¬ç”¨åˆ°çš„vueï¼Œreactè„šæ‰‹æ¶éƒ½æ˜¯åŸºäºwebpackçš„ã€‚webpack çš„ä¸€ä¸ªç†å¿µæ˜¯â€œä¸‡ç‰©çš†æ˜¯æ¨¡å—â€ï¼Œåœ¨æ­¤ç†å¿µä¸‹ï¼Œä»–æœ‰å„ç§loaderï¼Œèƒ½å¤Ÿå¸®åŠ©æˆ‘ä»¬å¤„ç†å„ç±»èµ„æºï¼Œè¿™é’ˆå¯¹äºå¼€å‘æ„å»º "),n("code",[t._v("webåº”ç”¨")]),t._v(" æ˜¯å¾ˆæœ‰æ•ˆçš„ï¼Œ"),n("code",[t._v("5.x")]),t._v("ç‰ˆæœ¬ å¼•å…¥çš„"),n("a",{attrs:{href:"https://webpack.docschina.org/concepts/module-federation",target:"_blank",rel:"noopener noreferrer"}},[t._v("æ¨¡å—è”é‚¦"),n("OutboundLink")],1),t._v("æ›´æ˜¯å¥ åŸºäº†"),n("code",[t._v("å¾®åº”ç”¨")]),t._v("æ—¶ä»£çš„éœ¸ä¸»åœ°ä½ã€‚ä½†æ˜¯ä»–ç”Ÿæˆä»£ç æœ‰å¾ˆå¤šä¸æ˜¯æˆ‘ä»¬æ‰€å†™çš„é€»è¾‘ä»£ç ï¼Œæ¯”å¦‚ä¸€äº›ä»–è‡ªæœ‰çš„æ¨¡å—åŠ è½½åŠŸèƒ½:\n"),n("img",{attrs:{src:"https://img-blog.csdnimg.cn/img_convert/62b1963191e66e3e5b4c33ff73570c7a.png",alt:"webpackæ¨¡å—ä»£ç "}}),t._v("\nå¦‚æœä½ è¦å¼€å‘jsåº“ï¼Œé‚£webpackçš„ç¹çå’Œæ‰“åŒ…åçš„æ–‡ä»¶ä½“ç§¯å°±ä¸å¤ªé€‚ç”¨äº†ã€‚æœ‰éœ€æ±‚å°±æœ‰å·¥å…·ï¼Œæ‰€ä»¥rollupçš„äº§ç”Ÿå°±æ˜¯é’ˆå¯¹å¼€å‘jsåº“çš„ã€‚")]),t._v(" "),n("p",[n("a",{attrs:{href:"https://rollupjs.org/guide/en/",target:"_blank",rel:"noopener noreferrer"}},[t._v("rollup"),n("OutboundLink")],1),t._v("æ˜¯ä¸€ä¸ªâ€œJavaScriptæ¨¡å—æ‰“åŒ…å™¨â€ï¼Œè‡´åŠ›äºå°†å°å—çš„ä»£ç ç¼–è¯‘æˆå¤§çš„å¤æ‚çš„ä»£ç ã€‚ç›¸æ¯”äº webpackï¼Œrollup.jsçš„ä¼˜åŠ¿åœ¨äºï¼š")]),t._v(" "),n("ul",[n("li",[t._v("api ç®€å•ï¼Œå­¦ä¹ æˆæœ¬ä½ã€‚")]),t._v(" "),n("li",[t._v("å› ä¸ºä¸“æ³¨æ„å»ºå‡ºçš„ä»£ç ä½“ç§¯æ›´å°ã€‚ï¼ˆæ„å»ºç»“æœå°±æ˜¯çº¯çº¯çš„ jsï¼Œå¹¶ä¸ä¼šè¢« "),n("code",[t._v("__webpack_require__")]),t._v(" ä¹‹ç±»çš„ä»£ç å¢åŠ ä»£ç é‡ï¼‰")]),t._v(" "),n("li",[t._v("vue/react/angularç­‰è®¸å¤šæµè¡Œåº“éƒ½åœ¨ç”¨ä»–ä½œä¸ºæ‰“åŒ…å·¥å…·ï¼Œçƒ­é—¨å·¥å…· "),n("code",[t._v("vite")]),t._v(" é‡‡ç”¨äº†å®ƒå½“ç”Ÿäº§æ„å»ºå·¥å…·ã€‚ï¼ˆæœ€è¿‘å„å¤§å‚éƒ½åœ¨çº·çº·è¯•æ°´ "),n("code",[t._v("vite")]),t._v(" è½åœ°ï¼Œä¸èƒ½ä¸è¯´æ˜¯ä¸ªæœºä¼šå§ï¼Ÿï¼‰")]),t._v(" "),n("li",[t._v("å¦‚æœéœ€è¦ï¼Œä»–å¯ä»¥åŒæ—¶å¸®æˆ‘ä»¬ç”Ÿæˆæ”¯æŒ "),n("code",[t._v("umd/commonjs/es")]),t._v("çš„jsä»£ç ")])]),t._v(" "),n("h3",{attrs:{id:"rollupæ’ä»¶"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#rollupæ’ä»¶"}},[t._v("#")]),t._v(" rollupæ’ä»¶")]),t._v(" "),n("p",[t._v("æˆ‘ä»¬éœ€è¦å¯¹rollupæ·»åŠ ä¸€äº›è‡ªå®šä¹‰çš„é…ç½®ï¼Œä»¥æ‰©å±•rollupèƒ½åŠ›ã€‚")]),t._v(" "),n("ul",[n("li",[t._v("å°† CommonJS æ¨¡å—è½¬æ¢ä¸º ES6")]),t._v(" "),n("li",[t._v("ä½¿ç”¨"),n("code",[t._v("node è§£æç®—æ³•")]),t._v("è§£æ"),n("code",[t._v("esm")]),t._v("è·¯å¾„å")]),t._v(" "),n("li",[t._v("é›†æˆbabelï¼Œå°†ä»£ç è½¬è¯‘æˆes5ä»£ç ï¼Œä»¥é€‚åº”ä¼ ç»Ÿæµè§ˆå™¨")]),t._v(" "),n("li",[t._v("å¯¹"),n("code",[t._v("esm")]),t._v("è·¯å¾„åä½¿ç”¨aliasåˆ«å")]),t._v(" "),n("li",[t._v("è‡ªåŠ¨å¯¼å‡ºtsç±»å‹å£°æ˜æ–‡ä»¶")])]),t._v(" "),n("h4",{attrs:{id:"rollup-plugin-commonjsæ’ä»¶"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#rollup-plugin-commonjsæ’ä»¶"}},[t._v("#")]),t._v(" @rollup/plugin-commonjsæ’ä»¶")]),t._v(" "),n("div",{staticClass:"custom-block tip"},[n("p",{staticClass:"custom-block-title"},[t._v("TIP")]),t._v(" "),n("p",[t._v("å®˜æ–¹æ–‡æ¡£ç®€ä»‹ï¼šå°† CommonJS æ¨¡å—è½¬æ¢ä¸º ES6ï¼Œè¿™æ ·å®ƒä»¬å°±å¯ä»¥åŒ…å«åœ¨ Rollup åŒ…ä¸­ã€‚")])]),t._v(" "),n("p",[t._v("æˆ‘ç»™ç¿»è¯‘ä¸‹ï¼š"),n("strong",[t._v("rollup.js é»˜è®¤æ”¯æŒçš„æ˜¯ esm æ ¼å¼çš„æ¨¡å—åŒ–ï¼Œä½†æœ‰äº†å®ƒï¼Œä½ å°±èƒ½åœ¨é¡¹ç›®é‡Œå¯¼å…¥ commonjs æ ¼å¼çš„æ–‡ä»¶/æ¨¡å—ã€‚")]),t._v("ã€‚")]),t._v(" "),n("p",[t._v("ä¸¾ä¸ªğŸŒ°ï¼š")]),t._v(" "),n("p",[t._v("æœ‰ä¸¤ä¸ªæ–‡ä»¶ï¼Œåˆ†åˆ«æ˜¯ "),n("code",[t._v("index.js")]),t._v(" å’Œ "),n("code",[t._v("utils.js")]),t._v("ã€‚")]),t._v(" "),n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// utils.js")]),t._v("\nmodule"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("exports "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("42")]),t._v("\n")])])]),n("p",[n("code",[t._v("utils.js")]),t._v(" çš„å¯¼å‡ºæ¨¡å¼ "),n("code",[t._v("module.exports")]),t._v(" æ˜¯ "),n("code",[t._v("commonjs")]),t._v(" æ ¼å¼çš„ã€‚")]),t._v(" "),n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// index.js")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" utils "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"./utils"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("printUtils")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  console"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token template-string"}},[n("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("the utils is ")]),n("span",{pre:!0,attrs:{class:"token interpolation"}},[n("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("${")]),t._v("utils"),n("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("}")])]),n("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),n("p",[t._v("å½“æˆ‘ä»¬æ²¡æœ‰ä½¿ç”¨æ’ä»¶ï¼Œç›´æ¥æ‹¿rollupè¿›è¡Œæ‰“åŒ…æ—¶ï¼Œæ§åˆ¶å°ä¼šç›´æ¥æŠ¥é”™ï¼š\n"),n("code",[t._v("Error: 'default' is not exported by utils.js")])]),t._v(" "),n("p",[t._v("ä¹Ÿå°±æ˜¯è¯´ï¼š"),n("code",[t._v("utils.js")]),t._v(" æ‰€ä½¿ç”¨çš„ "),n("code",[t._v("commonjs")]),t._v(" çš„å¯¼å‡ºæ–¹å¼ï¼Œå†³å®šäº†å®ƒæ— æ³•è¢«æ™®é€šjsæ­£å¸¸importã€‚å› æ­¤ï¼Œæˆ‘ä»¬éœ€è¦"),n("code",[t._v("@rollup/plugin-commonjs")]),t._v("æ’ä»¶æ¥å¯¼å…¥commonjsæ ¼å¼çš„æ–‡ä»¶/æ¨¡å—ã€‚\nå¼•å…¥ä¹‹åï¼Œç„¶åæ‰“åŒ…ï¼š\n"),n("img",{attrs:{src:a(483),alt:"commonjsè¾“å‡º"}}),t._v("\ncommonjsæ ¼å¼çš„æ–‡ä»¶ï¼Œä¾¿è¢«æ­£å¸¸æ‰“åŒ…åˆ°è¾“å‡ºæ–‡ä»¶ä¸­ã€‚")]),t._v(" "),n("h4",{attrs:{id:"rollup-plugin-node-resolveæ’ä»¶"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#rollup-plugin-node-resolveæ’ä»¶"}},[t._v("#")]),t._v(" @rollup/plugin-node-resolveæ’ä»¶")]),t._v(" "),n("div",{staticClass:"custom-block tip"},[n("p",{staticClass:"custom-block-title"},[t._v("TIP")]),t._v(" "),n("p",[t._v("å®˜æ–¹æ–‡æ¡£ç®€ä»‹ï¼šä½¿ç”¨ "),n("a",{attrs:{href:"http://nodejs.cn/api/modules.html#all-together",target:"_blank",rel:"noopener noreferrer"}},[t._v("node è§£æç®—æ³•"),n("OutboundLink")],1),t._v(" æ¥å®šä½æ¨¡å—ï¼Œç”¨äºä½¿ç”¨ node_modules ä¸­çš„ç¬¬ä¸‰æ–¹æ¨¡å—ã€‚")])]),t._v(" "),n("p",[t._v("rollup.js é»˜è®¤çš„æ–‡ä»¶å®šä½æ–¹å¼å±äº "),n("code",[t._v("esm")]),t._v("ï¼Œä¸èƒ½ç›´æ¥è§£æ"),n("code",[t._v("ts")]),t._v("åç¼€åæ–‡ä»¶ã€‚")]),t._v(" "),n("p",[t._v("ä¸¾ä¸ªğŸŒ°ï¼š")]),t._v(" "),n("p",[t._v("æ¯”å¦‚ï¼š"),n("code",[t._v("src/index.ts")]),t._v("ç›®å½•ä¸‹å¼•ç”¨äº†"),n("code",[t._v("utils.ts")]),t._v("æ–‡ä»¶ã€‚")]),t._v(" "),n("p",[t._v("å½“æˆ‘ä»¬æ²¡æœ‰ä½¿ç”¨æ’ä»¶ï¼Œç›´æ¥æ‹¿rollupè¿›è¡Œæ‰“åŒ…æ—¶ï¼Œæ§åˆ¶å°ä¼šç›´æ¥æŠ¥é”™ï¼š\n"),n("code",[t._v("Error: Could not resolve './environment' from src/index.ts")]),t._v("ã€‚")]),t._v(" "),n("p",[t._v("åœ¨ "),n("code",[t._v("@rollup/plugin-node-resolve")]),t._v(" æ’ä»¶çš„å¸®åŠ©ä¸‹ï¼Œæ‰èƒ½æˆåŠŸå‘½ä¸­ 'src/environment.ts' æ–‡ä»¶ã€‚")]),t._v(" "),n("h4",{attrs:{id:"rollup-plugin-babelæ’ä»¶"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#rollup-plugin-babelæ’ä»¶"}},[t._v("#")]),t._v(" @rollup/plugin-babelæ’ä»¶")]),t._v(" "),n("div",{staticClass:"custom-block tip"},[n("p",{staticClass:"custom-block-title"},[t._v("TIP")]),t._v(" "),n("p",[t._v("å®˜æ–¹æ–‡æ¡£ç®€ä»‹ï¼šä¸€ä¸ª Rollup æ’ä»¶ï¼Œç”¨äº Rollup å’Œ Babel ä¹‹é—´çš„æ— ç¼é›†æˆã€‚")])]),t._v(" "),n("p",[t._v("ç†Ÿæ‚‰ Babel çš„åŒå­¦åº”è¯¥å¾ˆå®¹æ˜“æ˜ç™½å®ƒçš„ç”¨é€”ï¼Œä½¿ç”¨æœ¬æ’ä»¶ï¼Œå¯ä»¥é€šè¿‡ Babel çš„èƒ½åŠ›å°†ä½ æ‰€å†™çš„ es6/es7 ä»£ç ç¼–è¯‘è½¬æ¢ä¸º es5 çš„ï¼Œä»¥é€‚ç”¨ä¼ ç»Ÿæµè§ˆå™¨ã€‚")]),t._v(" "),n("p",[t._v("ä¸¾ä¸ªğŸŒ°ï¼š")]),t._v(" "),n("p",[t._v("æ¯”å¦‚ï¼š"),n("code",[t._v("src/index.js")]),t._v("ç¼–å†™å¦‚ä¸‹ä»£ç ï¼š")]),t._v(" "),n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("sleep")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("seconds")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Promise")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("resolve")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("setTimeout")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("resolve")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" seconds"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("printUtils")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("async")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("await")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("sleep")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("3000")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  console"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'I am awake...'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),n("ul",[n("li",[t._v("ä¸ä½¿ç”¨æ’ä»¶æ‰“åŒ…å‡ºæ¥çš„ä»£ç ï¼šåŸºæœ¬æ²¡æœ‰å˜åŒ–ï¼Œè¿˜æ˜¯æœ‰ async å’Œ awaitã€‚")]),t._v(" "),n("li",[t._v("ä½¿ç”¨æ’ä»¶æ‰“åŒ…å‡ºæ¥çš„ä»£ç ï¼šæ²¡æœ‰ await å’Œ async äº†ï¼Œç¼–è¯‘æˆäº†å…¼å®¹æ€§æ›´å¼ºçš„ä»£ç ã€‚")])]),t._v(" "),n("h4",{attrs:{id:"rollup-plugin-aliasæ’ä»¶"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#rollup-plugin-aliasæ’ä»¶"}},[t._v("#")]),t._v(" @rollup/plugin-aliasæ’ä»¶")]),t._v(" "),n("div",{staticClass:"custom-block tip"},[n("p",{staticClass:"custom-block-title"},[t._v("TIP")]),t._v(" "),n("p",[t._v("å®˜æ–¹æ–‡æ¡£ç®€ä»‹ï¼šä¸€ä¸ªåœ¨æ„ä»¶åŒ…æ—¶å®šä¹‰â€œåˆ«åâ€çš„ Rollup æ’ä»¶ã€‚")])]),t._v(" "),n("p",[t._v("ç¿»è¯‘æˆäººè¯ä¹Ÿå°±æ˜¯ï¼šä½¿ç”¨è¿™ä¸ªæ’ä»¶ï¼Œä½ å¯ä»¥åœ¨å¼•å…¥æ–‡ä»¶æ—¶ï¼Œä½¿ç”¨ä¸€ä¸ª "),n("code",[t._v("åˆ«å")]),t._v(" æ¥ä»£æ›¿åŸæœ‰çš„é‚£äº›å›ºå®šçš„è·¯å¾„ã€‚")]),t._v(" "),n("p",[t._v("ä¸¾ä¸ªğŸŒ°ï¼š")]),t._v(" "),n("p",[t._v("æ¯”å¦‚ï¼š"),n("code",[t._v("src/index.js")]),t._v("ç¼–å†™å¦‚ä¸‹ä»£ç ï¼š")]),t._v(" "),n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" utils "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"@/utils"')]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("printUtils")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("async")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  console"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token template-string"}},[n("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("utils is ")]),n("span",{pre:!0,attrs:{class:"token interpolation"}},[n("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("${")]),t._v("utils"),n("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("}")])]),n("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),n("ul",[n("li",[t._v("ä¸ä½¿ç”¨æ’ä»¶æ‰“åŒ…ä¹‹åçš„äº§ç‰©ä¸­"),n("code",[t._v("@/utils")]),t._v("æ²¡æœ‰è§£æåˆ°å¯¹åº”çš„æ–‡ä»¶")])]),t._v(" "),n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" utils "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"@/utils"')]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("printUtils")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("async")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  console"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token template-string"}},[n("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("answer is ")]),n("span",{pre:!0,attrs:{class:"token interpolation"}},[n("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("${")]),t._v("answer"),n("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("}")])]),n("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" printUtils "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),n("ul",[n("li",[t._v("ä½¿ç”¨æ’ä»¶æ‰“åŒ…ä¹‹åï¼Œ"),n("code",[t._v("@/utils")]),t._v("èƒ½å¤Ÿè§£æ")])]),t._v(" "),n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" utils "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("42")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("printUtils")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("async")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  console"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token template-string"}},[n("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("answer is ")]),n("span",{pre:!0,attrs:{class:"token interpolation"}},[n("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("${")]),t._v("utils"),n("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("}")])]),n("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" printUtils "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),n("h4",{attrs:{id:"rollup-plugin-dtsæ’ä»¶"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#rollup-plugin-dtsæ’ä»¶"}},[t._v("#")]),t._v(" rollup-plugin-dtsæ’ä»¶")]),t._v(" "),n("div",{staticClass:"custom-block tip"},[n("p",{staticClass:"custom-block-title"},[t._v("TIP")]),t._v(" "),n("p",[t._v("å®˜æ–¹æ–‡æ¡£ç®€ä»‹ï¼šä¸€ä¸ªå¯ä»¥è‡ªåŠ¨å¯¼å‡º "),n("code",[t._v(".d.ts")]),t._v(" çš„ Rollup æ’ä»¶ã€‚")])]),t._v(" "),n("p",[t._v("psï¼šè¯¥æ’ä»¶ä¼šè‡ªåŠ¨å°†ä»»ä½•å¤–éƒ¨åº“ï¼ˆ@typesä¾‹å¦‚ï¼‰æ ‡è®°ä¸ºexternalï¼Œå› æ­¤è¿™äº›åº“å°†è¢«æ’é™¤åœ¨æ†ç»‘ä¹‹å¤–")]),t._v(" "),n("h3",{attrs:{id:"é…ç½®rollup-config-tsæ–‡ä»¶"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#é…ç½®rollup-config-tsæ–‡ä»¶"}},[t._v("#")]),t._v(" é…ç½®rollup.config.tsæ–‡ä»¶")]),t._v(" "),n("div",{staticClass:"language-ts extra-class"},[n("pre",{pre:!0,attrs:{class:"language-ts"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" nodeResolve "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'@rollup/plugin-node-resolve'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" dts "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'rollup-plugin-dts'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" json "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'@rollup/plugin-json'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" commonjs "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'@rollup/plugin-commonjs'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" terser "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'rollup-plugin-terser'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" babel "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'@rollup/plugin-babel'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" path "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'path'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("default")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        input"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" path"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("resolve")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("__dirname"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'./src/index.ts'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        output"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            name"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'UTILS'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            file"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'dist/index.umd.js'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            format"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'umd'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        plugins"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n            "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("nodeResolve")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n                browser"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                extensions"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'.js'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'.ts'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("commonjs")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("json")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("babel")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n                babelrc"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                babelHelpers"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'runtime'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                exclude"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'node_modules/**'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                extensions"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'.js'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'.ts'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("terser")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        input"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" path"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("resolve")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("__dirname"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'./src/index.ts'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        output"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n            "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n                file"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'dist/index.cjs.js'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                format"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'cjs'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n                file"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'dist/index.esm.js'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                format"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'es'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        plugins"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n            "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("nodeResolve")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n                modulesOnly"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                extensions"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'.js'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'.ts'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("commonjs")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("babel")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n                babelrc"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                babelHelpers"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'runtime'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                exclude"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'node_modules/**'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                extensions"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'.js'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'.ts'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("terser")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        input"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'./src/index.ts'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        output"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" file"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'dist/index.d.ts'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" format"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'es'")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        plugins"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("dts")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n")])])]),n("h2",{attrs:{id:"é›†æˆ-husky-lint-staged"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#é›†æˆ-husky-lint-staged"}},[t._v("#")]),t._v(" é›†æˆ husky + lint-staged")]),t._v(" "),n("ol",[n("li",[t._v("å®‰è£… husky")])]),t._v(" "),n("p",[n("code",[t._v("husky")]),t._v(" æ˜¯ä¸€ä¸ªä¸º git å®¢æˆ·ç«¯å¢åŠ  "),n("code",[t._v("hook")]),t._v(" çš„å·¥å…·ã€‚å®‰è£…åï¼Œå®ƒä¼šè‡ªåŠ¨åœ¨ä»“åº“ä¸­çš„ "),n("code",[t._v(".git/")]),t._v(" ç›®å½•ä¸‹å¢åŠ ç›¸åº”çš„é’©å­ï¼›æ¯”å¦‚ "),n("code",[t._v("pre-commit")]),t._v(" é’©å­å°±ä¼šåœ¨ä½ æ‰§è¡Œ "),n("code",[t._v("git commit")]),t._v(" çš„è§¦å‘ã€‚")]),t._v(" "),n("p",[t._v("é‚£ä¹ˆæˆ‘ä»¬å¯ä»¥åœ¨ "),n("code",[t._v("pre-commit")]),t._v(" ä¸­å®ç°ä¸€äº›æ¯”å¦‚ "),n("code",[t._v("lint æ£€æŸ¥")]),t._v("ã€"),n("code",[t._v("å•å…ƒæµ‹è¯•")]),t._v("ã€"),n("code",[t._v("ä»£ç ç¾åŒ–")]),t._v("ç­‰æ“ä½œã€‚å½“ç„¶ï¼Œ"),n("code",[t._v("pre-commit")]),t._v(" é˜¶æ®µæ‰§è¡Œçš„å‘½ä»¤å½“ç„¶è¦ä¿è¯å…¶é€Ÿåº¦ä¸è¦å¤ªæ…¢ï¼Œæ¯æ¬¡ commit éƒ½ç­‰å¾ˆä¹…ä¹Ÿä¸æ˜¯ä»€ä¹ˆå¥½çš„ä½“éªŒã€‚")]),t._v(" "),n("div",{staticClass:"language-bash extra-class"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[t._v("npx husky-init "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&&")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("npm")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v("\n")])])]),n("p",[t._v("è¿™è¡Œå‘½ä»¤åšäº†å››ä»¶äº‹ï¼š")]),t._v(" "),n("ul",[n("li",[t._v("å®‰è£… husky åˆ°å¼€å‘ä¾èµ–")]),t._v(" "),n("li",[t._v("åœ¨é¡¹ç›®æ ¹ç›®å½•ä¸‹åˆ›å»º .husky ç›®å½•")]),t._v(" "),n("li",[t._v("åœ¨ .husky ç›®å½•åˆ›å»º pre-commit hookï¼Œå¹¶åˆå§‹åŒ– pre-commit å‘½ä»¤ä¸º npm test")]),t._v(" "),n("li",[t._v('ä¿®æ”¹ package.json çš„ scriptsï¼Œå¢åŠ  "prepare": "husky install"')])]),t._v(" "),n("p",[t._v("å®‰è£…æˆåŠŸåä¼šå‘ç°é¡¹ç›®ä¸­å¤šäº†ä¸€ä¸ª"),n("code",[t._v(".husky")]),t._v("æ–‡ä»¶å¤¹:\n"),n("img",{attrs:{src:a(370),alt:"husky"}})]),t._v(" "),n("p",[t._v("åˆ°è¿™é‡Œï¼Œhusky é…ç½®å®Œæ¯•ï¼Œç°åœ¨æˆ‘ä»¬æ¥ä½¿ç”¨å®ƒï¼š")]),t._v(" "),n("p",[t._v("husky åŒ…å«å¾ˆå¤š "),n("code",[t._v("hook")]),t._v("ï¼ˆé’©å­ï¼‰ï¼Œå¸¸ç”¨æœ‰ï¼š"),n("code",[t._v("pre-commit")]),t._v("ã€"),n("code",[t._v("commit-msg")]),t._v("ã€"),n("code",[t._v("pre-push")]),t._v("ã€‚è¿™é‡Œï¼Œæˆ‘ä»¬ä½¿ç”¨ pre-commit æ¥è§¦å‘ ESLint å‘½ä»¤ã€‚")]),t._v(" "),n("p",[t._v("ä¿®æ”¹ .husky/pre-commit hook æ–‡ä»¶çš„è§¦å‘å‘½ä»¤ï¼š")]),t._v(" "),n("div",{staticClass:"language-sh extra-class"},[n("pre",{pre:!0,attrs:{class:"language-sh"}},[n("code",[t._v("eslint --fix ./src --ext .vue,.js,.ts\n")])])]),n("p",[t._v("ä¸Šé¢è¿™ä¸ª "),n("code",[t._v("pre-commit")]),t._v(" hook æ–‡ä»¶çš„ä½œç”¨æ˜¯ï¼š")]),t._v(" "),n("p",[t._v("å½“æˆ‘ä»¬æ‰§è¡Œ "),n("code",[t._v('git commit -m "xxx"')]),t._v(" æ—¶ï¼Œä¼šå…ˆå¯¹ src ç›®å½•ä¸‹æ‰€æœ‰çš„ .vueã€.jsã€.ts  æ–‡ä»¶æ‰§è¡Œ eslint --fix å‘½ä»¤ï¼Œå¦‚æœ ESLint é€šè¿‡ï¼ŒæˆåŠŸ commitï¼Œå¦åˆ™ç»ˆæ­¢ commitã€‚")]),t._v(" "),n("p",[t._v("ä½†æ˜¯åˆå­˜åœ¨ä¸€ä¸ªé—®é¢˜ï¼šæœ‰æ—¶å€™æˆ‘ä»¬æ˜æ˜åªæ”¹åŠ¨äº†ä¸€ä¸¤ä¸ªæ–‡ä»¶ï¼Œå´è¦å¯¹æ‰€æœ‰çš„æ–‡ä»¶æ‰§è¡Œ eslint --fixã€‚")]),t._v(" "),n("p",[t._v("å‡å¦‚è¿™æ˜¯ä¸€ä¸ªå†å²é¡¹ç›®ï¼Œæˆ‘ä»¬åœ¨ä¸­é€”é…ç½®äº†"),n("code",[t._v("ESLint")]),t._v("è§„åˆ™ï¼Œé‚£ä¹ˆåœ¨æäº¤ä»£ç æ—¶ï¼Œä¹Ÿä¼šå¯¹å…¶ä»–æœªä¿®æ”¹çš„â€œå†å²â€æ–‡ä»¶éƒ½è¿›è¡Œæ£€æŸ¥ï¼Œå¯èƒ½ä¼šé€ æˆå¤§é‡æ–‡ä»¶å‡ºç° "),n("code",[t._v("ESLint")]),t._v("é”™è¯¯ï¼Œæ˜¾ç„¶ä¸æ˜¯æˆ‘ä»¬æƒ³è¦çš„ç»“æœã€‚\næˆ‘ä»¬è¦åšåˆ°åªç”¨"),n("code",[t._v("ESLint")]),t._v("ä¿®å¤è‡ªå·±æ­¤æ¬¡å†™çš„ä»£ç ï¼Œè€Œä¸å»å½±å“å…¶ä»–çš„ä»£ç ã€‚æ‰€ä»¥æˆ‘ä»¬è¿˜éœ€å€ŸåŠ©ä¸€ä¸ªç¥å¥‡çš„å·¥å…·"),n("code",[t._v("lint-staged")]),t._v("ã€‚")]),t._v(" "),n("ol",{attrs:{start:"2"}},[n("li",[t._v("é…ç½®lint-staged")])]),t._v(" "),n("p",[n("code",[t._v("lint-staged")]),t._v(" è¿™ä¸ªå·¥å…·ä¸€èˆ¬ç»“åˆ husky æ¥ä½¿ç”¨ï¼Œå®ƒå¯ä»¥è®© husky çš„ hook è§¦å‘çš„å‘½ä»¤åªä½œç”¨äº git addé‚£äº›æ–‡ä»¶ï¼ˆå³ git æš‚å­˜åŒºçš„æ–‡ä»¶ï¼‰ï¼Œè€Œä¸ä¼šå½±å“åˆ°å…¶ä»–æ–‡ä»¶ã€‚")]),t._v(" "),n("p",[t._v("æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬ä½¿ç”¨ lint-staged ç»§ç»­ä¼˜åŒ–é¡¹ç›®ã€‚")]),t._v(" "),n("div",{staticClass:"language-bash extra-class"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token function"}},[t._v("pnpm")]),t._v(" i lint-staged -D\n")])])]),n("p",[t._v("åœ¨ "),n("code",[t._v("package.json")]),t._v(" é‡Œå¢åŠ  lint-staged é…ç½®é¡¹")]),t._v(" "),n("div",{staticClass:"language-json extra-class"},[n("pre",{pre:!0,attrs:{class:"language-json"}},[n("code",[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  ...\n  "),n("span",{pre:!0,attrs:{class:"token property"}},[t._v('"lint-staged"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token property"}},[t._v('"*.{js,ts,vue}"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"eslint --cache --fix"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n     "),n("span",{pre:!0,attrs:{class:"token property"}},[t._v('"*.{vue,less}"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"stylelint --fix  --custom-syntax postcss-less"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),n("p",[t._v("è¿™è¡Œå‘½ä»¤è¡¨ç¤ºï¼šåªå¯¹ "),n("code",[t._v("git æš‚å­˜åŒº")]),t._v("çš„ "),n("code",[t._v(".vueã€.jsã€.ts")]),t._v(" æ–‡ä»¶æ‰§è¡Œ "),n("code",[t._v("eslint --fix")]),t._v("ã€‚")]),t._v(" "),n("ol",{attrs:{start:"3"}},[n("li",[t._v("ä¿®æ”¹ "),n("code",[t._v(".husky/pre-commit")]),t._v(" hook çš„è§¦å‘å‘½ä»¤ä¸ºï¼š"),n("code",[t._v("npx lint-staged")]),t._v(" "),n("img",{attrs:{src:a(370),alt:"husky"}})])]),t._v(" "),n("p",[t._v("è‡³æ­¤ï¼Œ"),n("code",[t._v("husky")]),t._v(" å’Œ "),n("code",[t._v("lint-staged")]),t._v(" ç»„åˆé…ç½®å®Œæˆã€‚")]),t._v(" "),n("p",[t._v("ç°åœ¨æˆ‘ä»¬æäº¤ä»£ç æ—¶å°±ä¼šå˜æˆè¿™æ ·ï¼š")]),t._v(" "),n("p",[t._v("å‡å¦‚æˆ‘ä»¬ä¿®æ”¹äº† src ç›®å½•ä¸‹çš„ "),n("code",[t._v("user.vue")]),t._v(" ä»¥åŠ æ ¹ç›®å½•ä¸‹çš„ "),n("code",[t._v("vite.config.ts")]),t._v(" æ–‡ä»¶ï¼Œç„¶å "),n("code",[t._v("git add ./src/")]),t._v("ï¼Œæœ€å "),n("code",[t._v('git commit -m "test..."')]),t._v("ï¼Œè¿™æ—¶å€™å°±ä¼šåªå¯¹ "),n("code",[t._v("user.vue")]),t._v(" è¿™ä¸¤ä¸ªæ–‡ä»¶æ‰§è¡Œ "),n("code",[t._v("eslint --fix")]),t._v(" å’Œ "),n("code",[t._v("stylelint --fix")]),t._v("ã€‚å¦‚æœ ESLint å’Œ stylelinté€šè¿‡ï¼ŒæˆåŠŸæäº¤ï¼Œå¦åˆ™ç»ˆæ­¢æäº¤ã€‚ä»è€Œä¿è¯äº†æˆ‘ä»¬æäº¤åˆ° Git ä»“åº“çš„ä»£ç éƒ½æ˜¯è§„èŒƒçš„ã€‚")]),t._v(" "),n("h2",{attrs:{id:"ä»£ç æäº¤è§„èŒƒç»Ÿä¸€"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#ä»£ç æäº¤è§„èŒƒç»Ÿä¸€"}},[t._v("#")]),t._v(" ä»£ç æäº¤è§„èŒƒç»Ÿä¸€")]),t._v(" "),n("blockquote",[n("p",[t._v("ä¸ºäº†ä½¿å›¢é˜Ÿå¤šäººåä½œæ›´åŠ çš„è§„èŒƒï¼Œæ‰€ä»¥éœ€è¦æ¯æ¬¡åœ¨ git æäº¤çš„æ—¶å€™ï¼Œåšä¸€æ¬¡ç¡¬æ€§è§„èŒƒæäº¤ï¼Œè§„èŒƒ git çš„æäº¤ä¿¡æ¯ã€‚")])]),t._v(" "),n("p",[t._v("å¦‚æœ git commit çš„æè¿°ä¿¡æ¯ç²¾å‡†ï¼Œåœ¨åæœŸç»´æŠ¤å’Œ Bug å¤„ç†æ—¶ä¼šå˜å¾—æœ‰æ®å¯æŸ¥ï¼Œé¡¹ç›®å¼€å‘å‘¨æœŸå†…è¿˜å¯ä»¥æ ¹æ®è§„èŒƒçš„æäº¤ä¿¡æ¯å¿«é€Ÿç”Ÿæˆå¼€å‘æ—¥å¿—ï¼Œä»è€Œæ–¹ä¾¿æˆ‘ä»¬è¿½è¸ªé¡¹ç›®å’ŒæŠŠæ§è¿›åº¦ã€‚")]),t._v(" "),n("p",[t._v("è¿™é‡Œï¼Œæˆ‘ä»¬ä½¿ç”¨ç¤¾åŒºæœ€æµè¡Œã€æœ€çŸ¥åã€æœ€å—è®¤å¯çš„ "),n("a",{attrs:{href:"https://github.com/angular/angular/commits/master",target:"_blank",rel:"noopener noreferrer"}},[t._v("Angular å›¢é˜Ÿæäº¤è§„èŒƒ"),n("OutboundLink")],1),t._v("ã€‚")]),t._v(" "),n("h3",{attrs:{id:"é›†æˆ-commitizen-å®ç°æäº¤è§„èŒƒ"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#é›†æˆ-commitizen-å®ç°æäº¤è§„èŒƒ"}},[t._v("#")]),t._v(" é›†æˆ "),n("a",{attrs:{href:"https://github.com/commitizen/cz-cli",target:"_blank",rel:"noopener noreferrer"}},[t._v("Commitizen"),n("OutboundLink")],1),t._v(" å®ç°æäº¤è§„èŒƒ")]),t._v(" "),n("ol",[n("li",[t._v("å®‰è£…")])]),t._v(" "),n("div",{staticClass:"language-sh extra-class"},[n("pre",{pre:!0,attrs:{class:"language-sh"}},[n("code",[n("span",{pre:!0,attrs:{class:"token function"}},[t._v("pnpm")]),t._v(" i -D commitizen cz-customizable\n")])])]),n("ol",{attrs:{start:"2"}},[n("li",[t._v("é…ç½®"),n("code",[t._v("package.json")])])]),t._v(" "),n("details",{staticClass:"custom-block details"},[n("summary",[t._v("ç‚¹å‡»æŸ¥çœ‹ä»£ç ")]),t._v(" "),n("div",{staticClass:"language-json extra-class"},[n("pre",{pre:!0,attrs:{class:"language-json"}},[n("code",[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  ...\n  "),n("span",{pre:!0,attrs:{class:"token property"}},[t._v('"scripts"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token property"}},[t._v('"commit"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"cz"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\n  "),n("span",{pre:!0,attrs:{class:"token property"}},[t._v('"config"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token property"}},[t._v('"commitizen"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token property"}},[t._v('"path"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"node_modules/cz-customizable"')]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  ...\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])]),t._v(" "),n("ol",{attrs:{start:"3"}},[n("li",[t._v("è‡ªå®šä¹‰æç¤ºåˆ™æ·»åŠ  "),n("code",[t._v(".cz-config.js")])])]),t._v(" "),n("details",{staticClass:"custom-block details"},[n("summary",[t._v("ç‚¹å‡»æŸ¥çœ‹ä»£ç ")]),t._v(" "),n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[t._v("module"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("exports "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// å¯é€‰ç±»å‹")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("types")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("value")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'feat'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("name")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'feat:     æ–°åŠŸèƒ½'")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("value")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'fix'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("name")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'fix:      ä¿®å¤'")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("value")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'docs'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("name")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'docs:     æ–‡æ¡£å˜æ›´'")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("value")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'style'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("name")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'style:    ä»£ç é£æ ¼ç›¸å…³(ä¸å½±å“ä»£ç è¿è¡Œçš„å˜åŠ¨)'")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("value")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'refactor'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("name")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'refactor: é‡æ„(æ—¢ä¸æ˜¯å¢åŠ featureï¼Œä¹Ÿä¸æ˜¯ä¿®å¤bug)'")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("value")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'perf'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("name")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'perf:     æ€§èƒ½ä¼˜åŒ–'")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("value")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'test'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("name")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'test:     æµ‹è¯•ç›¸å…³'")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("value")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'chore'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("name")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'chore:    ä¾èµ–æ›´æ–°/è„šæ‰‹æ¶é…ç½®ä¿®æ”¹ç­‰'")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("value")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'revert'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("name")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'revert:   æ’¤é”€ä¿®æ”¹'")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("value")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'workflow'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("name")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'workflow:    å·¥ä½œæµæ”¹è¿›'")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("value")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'ci'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("name")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'ci:    æŒç»­é›†æˆ'")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("value")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'types'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("name")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'types:    ç±»å‹å®šä¹‰æ–‡ä»¶æ›´æ”¹'")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("value")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'wip'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("name")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'wip:    å¼€å‘ä¸­'")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// æ¶ˆæ¯æ­¥éª¤")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("messages")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("type")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'è¯·é€‰æ‹©æäº¤ç±»å‹:'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("customScope")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'è¯·è¾“å…¥ä¿®æ”¹èŒƒå›´(å¯é€‰):'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("subject")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'è¯·ç®€è¦æè¿°æäº¤(å¿…å¡«):'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("body")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'è¯·è¾“å…¥è¯¦ç»†æè¿°(å¯é€‰):'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("footer")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'è¯·è¾“å…¥è¦å…³é—­çš„issue(å¯é€‰):'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("confirmCommit")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'ç¡®è®¤ä½¿ç”¨ä»¥ä¸Šä¿¡æ¯æäº¤ï¼Ÿ(y/n/e/h)'")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// è·³è¿‡é—®é¢˜")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("skipQuestions")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'body'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'footer'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// subjectæ–‡å­—é•¿åº¦é»˜è®¤æ˜¯72")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("subjectLimit")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("72")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])])]),t._v(" "),n("ol",{attrs:{start:"4"}},[n("li",[t._v("äº¤äº’ç•Œé¢æµ‹è¯•")])]),t._v(" "),n("details",{staticClass:"custom-block details"},[n("summary",[t._v("ç‚¹å‡»æŸ¥çœ‹å›¾ç‰‡")]),t._v(" "),n("p",[n("img",{attrs:{src:a(374),alt:"commitizen"}})])]),t._v(" "),n("h3",{attrs:{id:"é›†æˆ-commitlint-éªŒè¯æäº¤è§„èŒƒ"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#é›†æˆ-commitlint-éªŒè¯æäº¤è§„èŒƒ"}},[t._v("#")]),t._v(" é›†æˆ commitlint éªŒè¯æäº¤è§„èŒƒ")]),t._v(" "),n("p",[t._v("åœ¨â€œä»£ç è§„èŒƒâ€ç« èŠ‚ï¼Œæˆ‘ä»¬å·²ç»è®²åˆ°è¿‡ï¼Œå°½ç®¡åˆ¶å®šäº†è§„èŒƒï¼Œä½†åœ¨å¤šäººåä½œçš„é¡¹ç›®ä¸­ï¼Œæ€»æœ‰äº›äººä¾æ—§æˆ‘è¡Œæˆ‘ç´ ï¼Œå› æ­¤æäº¤ä»£ç è¿™ä¸ªç¯èŠ‚ï¼Œæˆ‘ä»¬ä¹Ÿå¢åŠ ä¸€ä¸ªé™åˆ¶ï¼šåªè®©ç¬¦åˆè§„èŒƒçš„ commit message é€šè¿‡ï¼Œæˆ‘ä»¬å€ŸåŠ© "),n("code",[t._v("@commitlint/config-conventional")]),t._v(" å’Œ "),n("code",[t._v("@commitlint/cli")]),t._v(" æ¥å®ç°ã€‚")]),t._v(" "),n("ol",[n("li",[t._v("å®‰è£…")])]),t._v(" "),n("div",{staticClass:"language-sh extra-class"},[n("pre",{pre:!0,attrs:{class:"language-sh"}},[n("code",[n("span",{pre:!0,attrs:{class:"token function"}},[t._v("pnpm")]),t._v(" i @commitlint/config-conventional @commitlint/cli -D\n")])])]),n("ol",{attrs:{start:"2"}},[n("li",[t._v("æ–°å¢é…ç½® "),n("code",[t._v("commitlint.config.js")])])]),t._v(" "),n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[t._v("module"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("exports "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" \n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("extends")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'@commitlint/config-conventional'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),n("ol",{attrs:{start:"3"}},[n("li",[t._v("ä½¿ç”¨ husky çš„ "),n("code",[t._v("commit-msg")]),t._v(" hook è§¦å‘éªŒè¯æäº¤ä¿¡æ¯çš„å‘½ä»¤")])]),t._v(" "),n("div",{staticClass:"language-sh extra-class"},[n("pre",{pre:!0,attrs:{class:"language-sh"}},[n("code",[t._v("npx husky "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("add")]),t._v(" .husky/commit-msg "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"npx --no-install commitlint --edit '),n("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$1")]),t._v('"')]),t._v("\n")])])]),n("p",[t._v("ä½¿ç”¨ husky å‘½ä»¤åœ¨ "),n("code",[t._v(".husky")]),t._v(" ç›®å½•ä¸‹åˆ›å»º "),n("code",[t._v("commit-msg")]),t._v(" æ–‡ä»¶ï¼Œå¹¶åœ¨æ­¤æ‰§è¡Œ "),n("code",[t._v("commit message")]),t._v(" çš„éªŒè¯å‘½ä»¤ã€‚\n"),n("img",{attrs:{src:a(375),alt:"commitlint"}}),t._v("\n4. "),n("code",[t._v("commitlint")]),t._v(" éªŒè¯")]),t._v(" "),n("ul",[n("li",[t._v("ä¸ç¬¦åˆè§„èŒƒçš„æäº¤ä¿¡æ¯\nå¦‚ä¸‹å›¾ï¼Œæäº¤ä¿¡æ¯ "),n("code",[t._v("test commitlint")]),t._v(" ä¸ç¬¦åˆè§„èŒƒï¼Œæäº¤å¤±è´¥ã€‚\n"),n("img",{attrs:{src:a(376),alt:"test commitlint"}})]),t._v(" "),n("li",[t._v("ç¬¦åˆè§„èŒƒçš„æäº¤ä¿¡æ¯\næäº¤ä¿¡æ¯ "),n("code",[t._v("chore: commitlint test")]),t._v(" ç¬¦åˆè§„èŒƒï¼ŒæˆåŠŸæäº¤åˆ°ä»“åº“ã€‚")])]),t._v(" "),n("h2",{attrs:{id:"å•å…ƒæµ‹è¯•"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#å•å…ƒæµ‹è¯•"}},[t._v("#")]),t._v(" å•å…ƒæµ‹è¯•")]),t._v(" "),n("blockquote",[n("p",[t._v("å•å…ƒæµ‹è¯•å…è®¸ä½ å°†ç‹¬ç«‹å•å…ƒçš„ä»£ç è¿›è¡Œéš”ç¦»æµ‹è¯•ï¼Œå®Œæ•´çš„æµ‹è¯•èƒ½ä¸ºä»£ç å’Œä¸šåŠ¡æä¾›è´¨é‡ä¿è¯ï¼Œå‡å°‘ Bug çš„å‡ºç°ã€‚é€šè¿‡ç¼–å†™ç»†è‡´ä¸”æœ‰æ„ä¹‰çš„æµ‹è¯•ï¼Œä½ èƒ½å¤Ÿæœ‰ä¿¡å¿ƒåœ¨æ„å»ºæ–°ç‰¹æ€§æˆ–é‡æ„å·²æœ‰ä»£ç çš„åŒæ—¶ï¼Œä¿æŒåº”ç”¨çš„åŠŸèƒ½å’Œç¨³å®šã€‚")])]),t._v(" "),n("h3",{attrs:{id:"å®‰è£…ä¾èµ–-2"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#å®‰è£…ä¾èµ–-2"}},[t._v("#")]),t._v(" å®‰è£…ä¾èµ–")]),t._v(" "),n("div",{staticClass:"language-sh extra-class"},[n("pre",{pre:!0,attrs:{class:"language-sh"}},[n("code",[n("span",{pre:!0,attrs:{class:"token function"}},[t._v("pnpm")]),t._v(" i jest ts-jest @types/jest @jest/globals -D\n")])])]),n("h3",{attrs:{id:"é…ç½®jest-config-jsæ–‡ä»¶"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#é…ç½®jest-config-jsæ–‡ä»¶"}},[t._v("#")]),t._v(" é…ç½®"),n("code",[t._v("jest.config.js")]),t._v("æ–‡ä»¶")]),t._v(" "),n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[t._v("module"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("exports "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("preset")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'ts-jest'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("testEnvironment")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'node'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("transform")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v("'^.+.ts$'")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'ts-jest'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("moduleFileExtensions")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'js'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'ts'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("extensionsToTreatAsEsm")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'.ts'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// testEnvironment: 'jsdom',")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("modulePaths")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'<rootDir>/src'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("collectCoverage")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("coverageDirectory")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'coverage'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("globals")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v("'ts-jest'")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),n("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("useESM")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            "),n("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("tsconfig")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n                "),n("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("allowJs")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),n("ol",{attrs:{start:"3"}},[n("li",[t._v("æ‰§è¡Œå•å…ƒæµ‹è¯•")])]),t._v(" "),n("p",[t._v("åœ¨æ ¹ç›®å½•ä¸‹ "),n("code",[t._v("package.json")]),t._v(' æ–‡ä»¶çš„ scripts ä¸­ï¼Œæ·»åŠ ä¸€æ¡å•å…ƒæµ‹è¯•å‘½ä»¤ï¼š "test:unit": "jest"ã€‚\næ‰§è¡Œå‘½ä»¤ '),n("code",[t._v("npm run test:unit")]),t._v(" å³å¯è¿›è¡Œå•å…ƒæµ‹è¯•ï¼Œjest ä¼šæ ¹æ® "),n("code",[t._v("jest.config.js")]),t._v(" é…ç½®æ–‡ä»¶å»æŸ¥æ‰¾ "),n("strong",[t._v("tests")]),t._v(" ç›®å½•ä¸‹çš„ .ts æ–‡ä»¶æˆ–å…¶ä»–ä»»æ„ç›®å½•ä¸‹çš„ .spec.ts å’Œ .test.ts æ–‡ä»¶ï¼Œç„¶åæ‰§è¡Œå•å…ƒæµ‹è¯•æ–¹æ³•ã€‚")]),t._v(" "),n("blockquote",[n("p",[t._v("ä½ å¯ä»¥åœ¨ "),n("code",[t._v("jest.config.js")]),t._v(" é…ç½®æ–‡ä»¶ä¸­ï¼Œè‡ªç”±é…ç½®å•å…ƒæµ‹è¯•æ–‡ä»¶çš„ç›®å½•ã€‚")])]),t._v(" "),n("ul",[n("li",[t._v("å•å…ƒæµ‹è¯•å…¨éƒ¨é€šè¿‡æ—¶çš„ç»ˆç«¯æ˜¾ç¤ºä¿¡æ¯\n"),n("img",{attrs:{src:a(377),alt:"jest"}})]),t._v(" "),n("li",[t._v("å•å…ƒæµ‹è¯•æœªå…¨éƒ¨é€šè¿‡æ—¶çš„ç»ˆç«¯æ˜¾ç¤ºä¿¡æ¯\n"),n("img",{attrs:{src:a(378),alt:"jest_fail"}}),t._v("\nå½“å•å…ƒæµ‹è¯•æ²¡æœ‰å…¨éƒ¨é€šè¿‡æ—¶ï¼Œæˆ‘ä»¬éœ€è¦æ ¹æ®æŠ¥é”™ä¿¡æ¯å»ä¼˜åŒ–å¯¹åº”ç»„ä»¶çš„ä»£ç ï¼Œè¿›ä¸€æ­¥æé«˜é¡¹ç›®å¥å£®æ€§ã€‚ä½†æ˜¯å†™å•å…ƒæµ‹è¯•æ˜¯ä»¶æ¯”è¾ƒç—›è‹¦çš„äº‹ï¼Œæˆ‘ä¸ªäººè§‰å¾—ä¹Ÿæ²¡å¿…è¦å…¨éƒ¨ç»„ä»¶éƒ½å†™å•å…ƒæµ‹è¯•ï¼Œæ ¹æ®é¡¹ç›®å®é™…æƒ…å†µæœ‰é’ˆå¯¹æ€§å»å†™å°±è¡Œäº†ã€‚")])]),t._v(" "),n("ol",{attrs:{start:"4"}},[n("li",[t._v("å•å…ƒæµ‹è¯•çº¦æŸ")])]),t._v(" "),n("p",[t._v("å‰é¢ï¼Œæˆ‘ä»¬ä½¿ç”¨ "),n("code",[t._v("husky")]),t._v(" åœ¨ Git çš„ "),n("code",[t._v("pre-commit")]),t._v(" å’Œ "),n("code",[t._v("commit-msg")]),t._v(" é˜¶æ®µåˆ†åˆ«çº¦æŸä»£ç é£æ ¼è§„èŒƒå’Œæäº¤ä¿¡æ¯è§„èŒƒã€‚è¿™ä¸€æ­¥ï¼Œæˆ‘ä»¬åœ¨ "),n("code",[t._v("pre-push")]),t._v(" é˜¶æ®µè¿›è¡Œå•å…ƒæµ‹è¯•ï¼Œåªæœ‰å•å…ƒæµ‹è¯•å…¨éƒ¨é€šè¿‡æ‰è®©ä»£ç  push åˆ°è¿œç«¯ä»“åº“ï¼Œå¦åˆ™ç»ˆæ­¢ pushã€‚")]),t._v(" "),n("p",[t._v("ä½¿ç”¨ husky å‘½ä»¤åœ¨ "),n("code",[t._v(".husky")]),t._v(" ç›®å½•ä¸‹è‡ªåŠ¨åˆ›å»º "),n("code",[t._v("pre-push")]),t._v(" hook æ–‡ä»¶ï¼Œå¹¶åœ¨æ­¤æ‰§è¡Œå•å…ƒæµ‹è¯•å‘½ä»¤ "),n("code",[t._v("npm run test:unit")]),t._v("ã€‚")]),t._v(" "),n("div",{staticClass:"language-sh extra-class"},[n("pre",{pre:!0,attrs:{class:"language-sh"}},[n("code",[t._v("npx husky "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("add")]),t._v(" .husky/pre-push "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"npm run test:unit '),n("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$1")]),t._v('"')]),t._v("\n")])])]),n("p",[t._v("ç°åœ¨ï¼Œæˆ‘ä»¬åœ¨ git push æ—¶å°±èƒ½å…ˆè¿›è¡Œå•å…ƒæµ‹è¯•äº†ï¼Œåªæœ‰å•å…ƒæµ‹è¯•å…¨éƒ¨é€šè¿‡ï¼Œæ‰èƒ½æˆåŠŸ pushã€‚")]),t._v(" "),n("h2",{attrs:{id:"å†™åœ¨æœ€å"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#å†™åœ¨æœ€å"}},[t._v("#")]),t._v(" å†™åœ¨æœ€å")]),t._v(" "),n("blockquote",[n("p",[n("code",[t._v("å…¬ä¼—å·")]),t._v("ï¼š"),n("code",[t._v("å‰ç«¯å¼€å‘çˆ±å¥½è€…")]),t._v(" ä¸“æ³¨åˆ†äº« "),n("code",[t._v("web")]),t._v(" å‰ç«¯ç›¸å…³"),n("code",[t._v("æŠ€æœ¯æ–‡ç« ")]),t._v("ã€"),n("code",[t._v("è§†é¢‘æ•™ç¨‹")]),t._v("èµ„æºã€çƒ­ç‚¹èµ„è®¯ç­‰ï¼Œå¦‚æœå–œæ¬¢æˆ‘çš„åˆ†äº«ï¼Œç»™ ğŸŸğŸŸ ç‚¹ä¸€ä¸ª"),n("code",[t._v("èµ")]),t._v(" ğŸ‘ æˆ–è€… â•"),n("code",[t._v("å…³æ³¨")]),t._v(" éƒ½æ˜¯å¯¹æˆ‘æœ€å¤§çš„æ”¯æŒã€‚")])]),t._v(" "),n("p",[t._v("æ¬¢è¿"),n("code",[t._v("é•¿æŒ‰å›¾ç‰‡åŠ å¥½å‹")]),t._v("ï¼Œæˆ‘ä¼šç¬¬ä¸€æ—¶é—´å’Œä½ åˆ†äº«"),n("code",[t._v("å‰ç«¯è¡Œä¸šè¶‹åŠ¿")]),t._v("ï¼Œ"),n("code",[t._v("é¢è¯•èµ„æº")]),t._v("ï¼Œ"),n("code",[t._v("å­¦ä¹ é€”å¾„")]),t._v("ç­‰ç­‰ã€‚")])])}),[],!1,null,null,null);s.default=e.exports}}]);