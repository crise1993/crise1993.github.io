(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{434:function(t,a,s){t.exports=s.p+"assets/img/composite-overlap.d7381e50.png"},435:function(t,a,s){t.exports=s.p+"assets/img/composite-overlap2.437338b2.png"},436:function(t,a,s){t.exports=s.p+"assets/img/composite-overlap3.b496e67d.png"},437:function(t,a,s){t.exports=s.p+"assets/img/layer-border.8dcad124.png"},530:function(t,a,s){"use strict";s.r(a);var e=s(65),n=Object(e.a)({},(function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("h1",{attrs:{id:"åˆæˆå±‚è¯¦è§£"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#åˆæˆå±‚è¯¦è§£"}},[t._v("#")]),t._v(" åˆæˆå±‚è¯¦è§£")]),t._v(" "),e("p",[t._v("åœ¨"),e("RouterLink",{attrs:{to:"/blog/broswer/render-mechanism.html#_5-åˆ†å±‚å¸ƒå±€æ ‘-ç”Ÿæˆlayer-tree"}},[t._v("æµè§ˆå™¨æ¸²æŸ“åŸç†")]),t._v("ä¸€æ–‡ä¸­å·²ç»è®²è¿‡"),e("code",[t._v("æ¸²æŸ“å±‚")]),t._v("çš„æ¦‚å¿µï¼Œåœ¨æ­¤å°±ä¸å¤šåšèµ˜è¿°ã€‚ä¸‹é¢æˆ‘ä»¬è¯´ä¸‹ åˆæˆå±‚æ¦‚å¿µã€æå‡è§„åˆ™ã€å·¥ä½œåŸç†ï¼Œä¼˜åŒ–ä»¥åŠè°ƒè¯•æ‰‹æ®µç­‰ã€‚")],1),t._v(" "),e("h2",{attrs:{id:"ä¸ºä»€ä¹ˆéœ€è¦graphicslayer"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#ä¸ºä»€ä¹ˆéœ€è¦graphicslayer"}},[t._v("#")]),t._v(" ä¸ºä»€ä¹ˆéœ€è¦GraphicsLayerï¼Ÿ")]),t._v(" "),e("p",[t._v("å±‚å ä¸Šä¸‹æ–‡ã€åŠé€æ˜ã€maskç­‰ç­‰é—®é¢˜é€šè¿‡RenderLayerè§£å†³äº†ã€‚ä½†æ˜¯æµè§ˆå™¨é‡Œé¢ç»å¸¸æœ‰åŠ¨ç”»ã€videoã€canvasã€3dçš„cssç­‰ä¸œè¥¿ã€‚è¿™æ„å‘³ç€é¡µé¢åœ¨æœ‰è¿™äº›å…ƒç´ æ—¶ï¼Œé¡µé¢æ˜¾ç¤ºä¼šç»å¸¸å˜åŠ¨ï¼Œä¹Ÿå°±æ„å‘³ç€ä½å›¾ä¼šç»å¸¸å˜åŠ¨ã€‚æ¯ç§’60å¸§çš„åŠ¨æ•ˆé‡Œï¼Œæ¯æ¬¡å˜åŠ¨éƒ½é‡ç»˜æ•´ä¸ªä½å›¾æ˜¯å¾ˆææ€–çš„æ€§èƒ½å¼€é”€ã€‚")]),t._v(" "),e("p",[t._v("å› æ­¤æµè§ˆå™¨ä¸ºäº†ä¼˜åŒ–è¿™ä¸€è¿‡ç¨‹ã€‚å¼•å‡ºäº†"),e("code",[t._v("GraphicsLayers")]),t._v("å’Œ"),e("code",[t._v("GraphicsContext")]),t._v("ã€‚")]),t._v(" "),e("h2",{attrs:{id:"æ¦‚å¿µ"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#æ¦‚å¿µ"}},[t._v("#")]),t._v(" æ¦‚å¿µ")]),t._v(" "),e("blockquote",[e("p",[t._v("PS: Chromeä¿®æ”¹äº† â€œBlinkå¼•æ“â€ çš„ä¸€äº›å®ç°ï¼ŒæŸäº›æˆ‘ä»¬ä¹‹å‰ç†ŸçŸ¥çš„ç±»åæœ‰äº†å˜åŒ–ï¼Œæ¯”å¦‚ RenderObject å˜æˆäº† LayoutObjectï¼ŒRenderLayer å˜æˆäº† PaintLayerï¼ˆæ„Ÿå…´è¶£å¯ä»¥æŸ¥çœ‹"),e("a",{attrs:{href:"https://www.chromium.org/blink/slimming-paint",target:"_blank",rel:"noopener noreferrer"}},[t._v("Slimming Paint"),e("OutboundLink")],1),t._v("ï¼‰ã€‚åç»­æ–‡æ¡ˆæˆ‘ä»¬è¿˜æ˜¯ä¾ç„¶ä½¿ç”¨åŸæ¥çš„å‘½åè¿›è¡Œä¹¦å†™ã€‚")])]),t._v(" "),e("p",[t._v("æŸäº›ç‰¹æ®Šçš„æ¸²æŸ“å±‚ä¼šè¢«è®¤ä¸ºæ˜¯åˆæˆå±‚ï¼ˆCompositing Layersï¼‰ï¼Œåˆæˆå±‚æ‹¥æœ‰å•ç‹¬çš„ GraphicsLayerï¼Œè€Œå…¶ä»–ä¸æ˜¯åˆæˆå±‚çš„æ¸²æŸ“å±‚ï¼Œåˆ™å’Œå…¶ç¬¬ä¸€ä¸ªæ‹¥æœ‰ GraphicsLayer çˆ¶å±‚å…¬ç”¨ä¸€ä¸ªã€‚")]),t._v(" "),e("p",[t._v("æ¯ä¸ª GraphicsLayer éƒ½æœ‰ä¸€ä¸ª "),e("code",[t._v("GraphicsContext")]),t._v("ï¼ŒGraphicsContext è´Ÿè´£è¾“å‡ºè¯¥å±‚çš„ä½å›¾ï¼ˆGraphicsContextå°†"),e("code",[t._v("RGBå›¾åƒ")]),t._v("ï¼Œ"),e("code",[t._v("GMYKå›¾åƒ")]),t._v(" æˆ–è€… "),e("code",[t._v("é»‘ç™½å›¾åƒ")]),t._v("ç»˜åˆ¶åˆ°ä¸€ä¸ªä½å›¾å¯¹è±¡ä¸­ï¼‰ï¼Œä½å›¾æ˜¯å­˜å‚¨åœ¨å…±äº«å†…å­˜ä¸­ï¼Œä½œä¸ºçº¹ç†ä¸Šä¼ åˆ° GPU ä¸­ï¼Œæœ€åç”± GPU å°†å¤šå±‚ä½å›¾è¿›è¡Œåˆæˆï¼Œç„¶å draw åˆ°å±å¹•ä¸Šï¼Œæ­¤æ—¶ï¼Œæˆ‘ä»¬çš„é¡µé¢ä¹Ÿå°±å±•ç°åˆ°äº†å±å¹•ä¸Šã€‚")]),t._v(" "),e("h2",{attrs:{id:"åˆæˆå±‚æå‡è§„åˆ™"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#åˆæˆå±‚æå‡è§„åˆ™"}},[t._v("#")]),t._v(" åˆæˆå±‚æå‡è§„åˆ™")]),t._v(" "),e("p",[t._v("æ¸²æŸ“å±‚æå‡ä¸ºåˆæˆå±‚æœ‰ä¸€ä¸ªå…ˆå†³æ¡ä»¶ï¼Œè¯¥æ¸²æŸ“å±‚å¿…é¡»æ˜¯ SelfPaintingLayerï¼ˆåŸºæœ¬å¯è®¤ä¸ºæ˜¯"),e("RouterLink",{attrs:{to:"/blog/broswer/render-mechanism.html#_5-åˆ†å±‚å¸ƒå±€æ ‘-ç”Ÿæˆlayer-tree"}},[t._v("æµè§ˆå™¨æ¸²æŸ“åŸç†")]),t._v("ä¸€æ–‡ä¸­æåˆ°çš„ NormalPaintLayerï¼‰ã€‚ä»¥ä¸‹æ‰€è®¨è®ºçš„æ¸²æŸ“å±‚æå‡ä¸ºåˆæˆå±‚çš„æƒ…å†µéƒ½æ˜¯åœ¨è¯¥æ¸²æŸ“å±‚ä¸º SelfPaintingLayer å‰æä¸‹çš„ã€‚")],1),t._v(" "),e("p",[t._v("ä¸€æ—¦ä¸€ä¸ªå…ƒç´ æå‡ä¸ºäº†åˆæˆå±‚å°±ä¼šæœ‰è‡ªå·±çš„ç»˜å›¾ä¸Šä¸‹æ–‡ï¼Œå¯ä»¥ç‹¬ç«‹äºæ™®é€šæ–‡æ¡£æµä¸­ï¼Œæ”¹åŠ¨åå¯ä»¥é¿å…æ•´ä¸ªé¡µé¢é‡ç»˜ï¼Œæå‡æ€§èƒ½ï¼š")]),t._v(" "),e("ul",[e("li",[t._v("å½“éœ€è¦ repaint æ—¶ï¼Œåªéœ€è¦ repaint æœ¬èº«ï¼Œä¸ä¼šå½±å“åˆ°å…¶ä»–çš„å±‚")]),t._v(" "),e("li",[t._v("å¯¹äº transform å’Œ opacity æ•ˆæœï¼Œä¸ä¼šè§¦å‘ layout å’Œ paint")])]),t._v(" "),e("h3",{attrs:{id:"ç›´æ¥åŸå› -direct-reason"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#ç›´æ¥åŸå› -direct-reason"}},[t._v("#")]),t._v(" ç›´æ¥åŸå› ï¼ˆdirect reasonï¼‰")]),t._v(" "),e("ul",[e("li",[t._v("ç¡¬ä»¶åŠ é€Ÿçš„ iframe å…ƒç´ ï¼ˆæ¯”å¦‚ iframe åµŒå…¥çš„é¡µé¢ä¸­æœ‰åˆæˆå±‚ï¼‰")]),t._v(" "),e("li",[t._v("ä½¿ç”¨åŠ é€Ÿè§†é¢‘è§£ç çš„ video å…ƒç´ ")]),t._v(" "),e("li",[t._v("è¦†ç›–åœ¨ video å…ƒç´ ä¸Šçš„è§†é¢‘æ§åˆ¶æ ")]),t._v(" "),e("li",[t._v("æ‹¥æœ‰ 3Dï¼ˆWebGLï¼‰ä¸Šä¸‹æ–‡æˆ–ç¡¬ä»¶åŠ é€Ÿçš„ 2D ä¸Šä¸‹æ–‡çš„ canvas å…ƒç´ ")]),t._v(" "),e("li",[t._v("ç¡¬ä»¶åŠ é€Ÿçš„æ’ä»¶ï¼Œæ¯”å¦‚ flash ç­‰")]),t._v(" "),e("li",[t._v("åœ¨ DPI è¾ƒé«˜çš„å±å¹•ä¸Šï¼Œfix å®šä½çš„å…ƒç´ ä¼šè‡ªåŠ¨åœ°è¢«æå‡åˆ°åˆæˆå±‚ä¸­ã€‚ä½†åœ¨ DPI è¾ƒä½çš„è®¾å¤‡ä¸Šå´å¹¶éå¦‚æ­¤ï¼Œå› ä¸ºè¿™ä¸ªæ¸²æŸ“å±‚çš„æå‡ä¼šä½¿å¾—å­—ä½“æ¸²æŸ“æ–¹å¼ç”±å­åƒç´ å˜ä¸ºç°é˜¶ "),e("RouterLink",{attrs:{to:"/demo/fixed-transform.html"}},[t._v("demo")])],1),t._v(" "),e("li",[t._v("3D æˆ–é€è§†å˜æ¢(perspective transform) CSS å±æ€§ï¼Œå¦‚"),e("code",[t._v("transform: translateZ(0)")]),t._v(" æˆ– "),e("code",[t._v("transform: translate3d(10px,10px,10px)")])]),t._v(" "),e("li",[e("a",{attrs:{href:"https://developer.mozilla.org/zh-CN/docs/Web/CSS/backface-visibility",target:"_blank",rel:"noopener noreferrer"}},[t._v("backface-visibility"),e("OutboundLink")],1),t._v(" ä¸º hidden")]),t._v(" "),e("li",[t._v("overflow ä¸ä¸º visibleã€‚æœ‰éœ€è¦å‰ªè£(clip)çš„å†…å®¹ï¼Œå½“å†…å®¹å±•ç¤ºä¸ä¸‹è¢«éšè—æˆ–å‡ºç°æ»šåŠ¨æ¡æ—¶ï¼Œå†…å®¹å…ƒç´  å’Œ æ»šåŠ¨æ¡ ä¼šæå‡æˆåˆæˆå±‚")]),t._v(" "),e("li",[t._v("å¯¹ opacityã€transformã€fliterã€backdropfilter åº”ç”¨äº† animation æˆ– transitionï¼ˆéœ€è¦æ˜¯ active çš„ animation æˆ–è€… transitionï¼Œå½“ animation æˆ–è€… transition æ•ˆæœæœªå¼€å§‹æˆ–ç»“æŸåï¼Œæå‡åˆæˆå±‚ä¹Ÿä¼šå¤±æ•ˆï¼‰")]),t._v(" "),e("li",[e("a",{attrs:{href:"https://developer.mozilla.org/zh-CN/docs/Web/CSS/will-change",target:"_blank",rel:"noopener noreferrer"}},[t._v("will-change"),e("OutboundLink")],1),t._v(" è®¾ç½®ä¸º opacityã€transformã€topã€leftã€bottomã€rightï¼ˆå…¶ä¸­ topã€left ç­‰éœ€è¦è®¾ç½®æ˜ç¡®çš„å®šä½å±æ€§ï¼Œå¦‚ relative ç­‰ï¼‰")])]),t._v(" "),e("h3",{attrs:{id:"åä»£å…ƒç´ åŸå› "}},[e("a",{staticClass:"header-anchor",attrs:{href:"#åä»£å…ƒç´ åŸå› "}},[t._v("#")]),t._v(" åä»£å…ƒç´ åŸå› ")]),t._v(" "),e("ul",[e("li",[t._v("æœ‰åˆæˆå±‚åä»£åŒæ—¶æœ¬èº«æœ‰ transformã€opactiyï¼ˆå°äº 1ï¼‰ã€maskã€fliterã€reflection å±æ€§")]),t._v(" "),e("li",[t._v("æœ‰åˆæˆå±‚åä»£åŒæ—¶æœ¬èº« overflow ä¸ä¸º visibleï¼ˆå¦‚æœæœ¬èº«æ˜¯å› ä¸ºæ˜ç¡®çš„å®šä½å› ç´ äº§ç”Ÿçš„ SelfPaintingLayerï¼Œåˆ™éœ€è¦ z-index ä¸ä¸º autoï¼‰")]),t._v(" "),e("li",[t._v("æœ‰åˆæˆå±‚åä»£åŒæ—¶æœ¬èº« fixed å®šä½")]),t._v(" "),e("li",[t._v("æœ‰ 3D transfrom çš„åˆæˆå±‚åä»£åŒæ—¶æœ¬èº«æœ‰ preserves-3d å±æ€§")]),t._v(" "),e("li",[t._v("æœ‰ 3D transfrom çš„åˆæˆå±‚åä»£åŒæ—¶æœ¬èº«æœ‰ perspective")])]),t._v(" "),e("h3",{attrs:{id:"overlap-é‡å åŸå› "}},[e("a",{staticClass:"header-anchor",attrs:{href:"#overlap-é‡å åŸå› "}},[t._v("#")]),t._v(" overlap é‡å åŸå› ")]),t._v(" "),e("p",[t._v("å…ƒç´ æœ‰ä¸€ä¸ªå…„å¼Ÿå…ƒç´ åœ¨åˆæˆå±‚æ¸²æŸ“ï¼Œå¹¶ä¸”è¯¥å…„å¼Ÿå…ƒç´ çš„ z-index è¾ƒå°ï¼Œé‚£è¿™ä¸ªå…ƒç´ ä¹Ÿä¼šè¢«æå‡åˆ°åˆæˆå±‚ã€‚")]),t._v(" "),e("h4",{attrs:{id:"å¦‚ä½•ç®—æ˜¯é‡å "}},[e("a",{staticClass:"header-anchor",attrs:{href:"#å¦‚ä½•ç®—æ˜¯é‡å "}},[t._v("#")]),t._v(" å¦‚ä½•ç®—æ˜¯é‡å ï¼Ÿ")]),t._v(" "),e("p",[t._v("é‚£å¦‚ä½•ç®—æ˜¯é‡å å‘¢ï¼Œæœ€å¸¸è§å’Œå®¹æ˜“ç†è§£çš„å°±æ˜¯ "),e("em",[e("strong",[t._v("å…ƒç´ çš„ border-boxï¼ˆcontent+padding+borderï¼‰å’Œåˆæˆå±‚çš„æœ‰é‡å ")])]),t._v("ï¼Œå½“ç„¶ margin area çš„é‡å æ˜¯æ— æ•ˆçš„ã€‚")]),t._v(" "),e("p",[t._v("å…¶ä»–çš„è¿˜æœ‰ä¸€äº›ä¸å¸¸è§çš„æƒ…å†µï¼Œä¹Ÿç®—æ˜¯åŒåˆæˆå±‚é‡å çš„æ¡ä»¶ï¼Œå¦‚ä¸‹ï¼š")]),t._v(" "),e("ul",[e("li",[t._v("filter æ•ˆæœåŒåˆæˆå±‚é‡å ")]),t._v(" "),e("li",[t._v("transform å˜æ¢ååŒåˆæˆå±‚é‡å ")]),t._v(" "),e("li",[t._v("overflow scroll æƒ…å†µä¸‹åŒåˆæˆå±‚é‡å ã€‚å³å¦‚æœä¸€ä¸ª overflow scrollï¼ˆä¸ç®¡ overflow:auto è¿˜æ˜¯ overflow:scrollï¼Œåªè¦æ˜¯èƒ½ scroll å³å¯ï¼‰ çš„å…ƒç´ åŒä¸€ä¸ªåˆæˆå±‚é‡å ï¼Œåˆ™å…¶å¯è§†å­å…ƒç´ ä¹ŸåŒè¯¥åˆæˆå±‚é‡å ")])]),t._v(" "),e("h4",{attrs:{id:"ä¸ºä»€ä¹ˆä¼šå› ä¸ºé‡å åŸå› è€Œäº§ç”Ÿåˆæˆå±‚å‘¢"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#ä¸ºä»€ä¹ˆä¼šå› ä¸ºé‡å åŸå› è€Œäº§ç”Ÿåˆæˆå±‚å‘¢"}},[t._v("#")]),t._v(" ä¸ºä»€ä¹ˆä¼šå› ä¸ºé‡å åŸå› è€Œäº§ç”Ÿåˆæˆå±‚å‘¢ï¼Ÿ")]),t._v(" "),e("p",[e("img",{attrs:{src:s(434),alt:"é‡å "}}),t._v("\nè“è‰²çš„çŸ©å½¢é‡å åœ¨ç»¿è‰²çŸ©å½¢ä¹‹ä¸Šï¼ŒåŒæ—¶å®ƒä»¬çš„çˆ¶å…ƒç´ æ˜¯ä¸€ä¸ª GraphicsLayerã€‚æ­¤æ—¶å‡è®¾ç»¿è‰²çŸ©å½¢ä¸ºä¸€ä¸ª GraphicsLayerï¼Œå¦‚æœ overlap æ— æ³•æå‡åˆæˆå±‚çš„è¯ï¼Œé‚£ä¹ˆè“è‰²çŸ©å½¢ä¸ä¼šæå‡ä¸ºåˆæˆå±‚ï¼Œä¹Ÿå°±ä¼šå’Œçˆ¶å…ƒç´ å…¬ç”¨ä¸€ä¸ª GraphicsLayerã€‚\n"),e("img",{attrs:{src:s(435),alt:"é‡å "}}),t._v("\næ­¤æ—¶ï¼Œæ¸²æŸ“é¡ºåºå°±ä¼šå‘ç”Ÿé”™è¯¯ï¼Œå› æ­¤ä¸ºä¿è¯æ¸²æŸ“é¡ºåºï¼Œoverlap ä¹Ÿæˆä¸ºäº†åˆæˆå±‚äº§ç”Ÿçš„åŸå› ï¼Œä¹Ÿå°±æ˜¯å¦‚ä¸‹çš„æ­£å¸¸æƒ…å½¢ã€‚\n"),e("img",{attrs:{src:s(436),alt:"é‡å "}})]),t._v(" "),e("h2",{attrs:{id:"åˆæˆå±‚è°ƒè¯•"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#åˆæˆå±‚è°ƒè¯•"}},[t._v("#")]),t._v(" åˆæˆå±‚è°ƒè¯•")]),t._v(" "),e("p",[t._v("ä½¿ç”¨ Chrome DevTools å·¥å…·ï¼Œé€šè¿‡"),e("code",[t._v("More tools â€”> Layers")]),t._v("é¢æ¿ï¼Œå‹¾é€‰ä¸Šâ€Paintsâ€œå’Œâ€Slow scroll rectsâ€œå¯ä»¥æŸ¥çœ‹ç½‘ç«™å…·ä½“æ˜¯å¦‚ä½•åˆ’åˆ†å±‚çš„ã€‚\n"),e("img",{attrs:{src:s(437),alt:"åˆæˆå±‚æŸ¥çœ‹"}}),t._v("\næ‰“å¼€"),e("code",[t._v("More tools â€”> Rendering")]),t._v("é¢æ¿ï¼Œå‹¾é€‰ä¸Š "),e("code",[t._v("Layer borders")]),t._v("ï¼Œé¡µé¢ä¸Šçš„åˆæˆå±‚ä¼šç”¨é’è‰²æˆ–é»„è‰²è¾¹æ¡†æ¡†å‡ºæ¥ã€‚")]),t._v(" "),e("p",[t._v("æœ‰äº†è¿™ä¸ªè§†å›¾ï¼Œä½ å°±èƒ½çŸ¥é“é¡µé¢ä¸­åˆ°åº•æœ‰å¤šå°‘ä¸ªåˆæˆå±‚ï¼Œç‚¹å‡» â€œLayers -> Details -> Paint Profilerâ€ï¼Œæˆ‘ä»¬å¯ä»¥æŸ¥çœ‹åˆæˆå±‚çš„å…·ä½“ç»˜åˆ¶æ­¥éª¤ä»¥åŠç»˜åˆ¶æ—¶é•¿ã€‚å¦‚æœä½ åœ¨å¯¹é¡µé¢æ»šåŠ¨æˆ–æ¸å˜æ•ˆæœçš„æ€§èƒ½åˆ†æä¸­å‘ç° Composite è¿‡ç¨‹è€—è´¹äº†å¤ªå¤šæ—¶é—´ï¼Œé‚£ä¹ˆä½ å¯ä»¥ä»è¿™ä¸ªè§†å›¾é‡Œçœ‹åˆ°é¡µé¢ä¸­æœ‰å¤šå°‘ä¸ªæ¸²æŸ“å±‚ï¼Œå®ƒä»¬ä¸ºä½•è¢«åˆ›å»ºï¼Œä»è€Œå¯¹åˆæˆå±‚çš„æ•°é‡è¿›è¡Œä¼˜åŒ–ã€‚")]),t._v(" "),e("h3",{attrs:{id:"compositing-reason-åˆæˆåŸå› "}},[e("a",{staticClass:"header-anchor",attrs:{href:"#compositing-reason-åˆæˆåŸå› "}},[t._v("#")]),t._v(" Compositing Reason â€” åˆæˆåŸå› ")]),t._v(" "),e("ul",[e("li",[t._v("n/a è¡¨ç¤ºåœ¨åˆæˆè¿‡ç¨‹ä¸­æ²¡æœ‰ç‰¹åˆ«éœ€è¦è¯´æ˜æˆ–è®°å½•çš„æ­¥éª¤æˆ–åŸå› ã€‚è¿™ç§æƒ…å†µå¯èƒ½å‘ç”Ÿåœ¨ä»¥ä¸‹æƒ…å†µä¸‹ï¼š\n"),e("ul",[e("li",[t._v("ç®€å•åˆæˆï¼šå½“å›¾åƒæˆ–è§†é¢‘çš„åˆæˆè¿‡ç¨‹éå¸¸ç®€å•ï¼Œæ²¡æœ‰éœ€è¦ç‰¹åˆ«è§£é‡Šçš„æ­¥éª¤æˆ–åŸå› æ—¶ï¼Œå°±ä¼šå‡ºç°è¿™ç§æƒ…å†µ")]),t._v(" "),e("li",[t._v("æ²¡æœ‰ç‰¹æ®Šè°ƒæ•´ï¼šæœ‰æ—¶ï¼Œåˆæˆè¿‡ç¨‹ä¸­å¯èƒ½ä¸éœ€è¦å¯¹å›¾åƒæˆ–è§†é¢‘è¿›è¡Œé¢å¤–çš„è°ƒæ•´æˆ–ä¿®é¥°ï¼Œå› æ­¤ä¸ä¼šæœ‰ç‰¹åˆ«çš„åŸå› æˆ–æ­¥éª¤")]),t._v(" "),e("li",[t._v('ä¸é€‚ç”¨äºç‰¹å®šæƒ…å†µï¼šæœ‰æ—¶å€™ï¼Œåœ¨è®°å½•åˆæˆè¿‡ç¨‹ä¸­ï¼Œå¯èƒ½ä¼šæœ‰æŸäº›æ­¥éª¤ä¸é€‚ç”¨äºç‰¹å®šçš„æƒ…å†µï¼Œå› æ­¤åœ¨é‚£äº›æ­¥éª¤ä¸Šå¯èƒ½ä¼šæ ‡è®°ä¸º "n/a"')])])]),t._v(" "),e("li",[t._v("Has a 3d transform")]),t._v(" "),e("li",[t._v("Is an accelerated video")]),t._v(" "),e("li",[t._v("Is an accelerated canvas, or is a display list backed canvas that was promoted to a layer based on a performance heuristic.")]),t._v(" "),e("li",[t._v("Is an accelerated plugin")]),t._v(" "),e("li",[t._v("Is an accelerated iFrame")]),t._v(" "),e("li",[t._v("Is an accelerated SVG root")]),t._v(" "),e("li",[t._v("Has backface-visibility: hidden")]),t._v(" "),e("li",[t._v("Has an active accelerated transform animation or transition")]),t._v(" "),e("li",[t._v("Has an active accelerated opacity animation or transition")]),t._v(" "),e("li",[t._v("Has an active accelerated filter animation or transition")]),t._v(" "),e("li",[t._v("Has an active accelerated backdrop filter animation or transition")]),t._v(" "),e("li",[t._v("Is DOM overlay for WebXR immersive-ar mode")]),t._v(" "),e("li",[t._v("Is fixed or sticky position")]),t._v(" "),e("li",[t._v("Is a scrollable overflow element")]),t._v(" "),e("li",[t._v("Scroll parent is not an ancestor")]),t._v(" "),e("li",[t._v("Has clipping ancestor")]),t._v(" "),e("li",[t._v("Is overlay controls for video")]),t._v(" "),e("li",[t._v("Has a will-change: transform compositing hint")]),t._v(" "),e("li",[t._v("Has a will-change: opacity compositing hint")]),t._v(" "),e("li",[t._v("Has a will-change: filter compositing hint")]),t._v(" "),e("li",[t._v("Has a will-change: backdrop-filter compositing hint")]),t._v(" "),e("li",[t._v("Has a will-change compositing hint other than transform and opacity")]),t._v(" "),e("li",[t._v("Has a backdrop filter")]),t._v(" "),e("li",[t._v("Is a mask for backdrop filter")]),t._v(" "),e("li",[t._v("Is the document.rootScroller")]),t._v(" "),e("li",[t._v("Might overlap other composited content")]),t._v(" "),e("li",[t._v("Overlaps other composited content")]),t._v(" "),e("li",[t._v("Parent with composited negative z-index content")]),t._v(" "),e("li",[t._v("Layer was separately composited because it could not be squashed")]),t._v(" "),e("li",[t._v("Has opacity that needs to be applied by compositor because of composited descendants")]),t._v(" "),e("li",[t._v("Has a mask that needs to be known by compositor because of composited descendants")]),t._v(" "),e("li",[t._v("Has a reflection that needs to be known by compositor because of composited descendants")]),t._v(" "),e("li",[t._v("Has a filter effect that needs to be known by compositor because of composited descendants")]),t._v(" "),e("li",[t._v("Has a blending effect that needs to be known by compositor because of composited descendants")]),t._v(" "),e("li",[t._v("Has a perspective transform that needs to be known by compositor because of 3d descendants")]),t._v(" "),e("li",[t._v("Has a preserves-3d property that needs to be known by compositor because of 3d descendants")]),t._v(" "),e("li",[t._v("Should isolate descendants to apply a blend effect")]),t._v(" "),e("li",[t._v("Is a fullscreen video element with composited descendants")]),t._v(" "),e("li",[t._v("Is the root layer")]),t._v(" "),e("li",[t._v("Secondary layer, the horizontal scrollbar layer")]),t._v(" "),e("li",[t._v("Secondary layer, the vertical scrollbar layer")]),t._v(" "),e("li",[t._v("Secondary layer, the scroll corner layer")]),t._v(" "),e("li",[t._v("Secondary layer, to house contents that can be scrolled")]),t._v(" "),e("li",[t._v("Secondary layer, home for a group of squashable content")]),t._v(" "),e("li",[t._v("Secondary layer, to contain any normal flow and positive z-index contents on top of a negative z-index layer")]),t._v(" "),e("li",[t._v("Secondary layer, to contain the mask contents")]),t._v(" "),e("li",[t._v("Layer painted on top of other layers as decoration")]),t._v(" "),e("li",[t._v("Layer for link highlight, frame overlay, etc")]),t._v(" "),e("li",[t._v("Ancestor in same 3D rendering context has a hidden backface")])]),t._v(" "),e("h3",{attrs:{id:"å±‚æ¶ˆè€—å†…å­˜"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#å±‚æ¶ˆè€—å†…å­˜"}},[t._v("#")]),t._v(" å±‚æ¶ˆè€—å†…å­˜")]),t._v(" "),e("p",[t._v("å±‚åˆæˆçš„è¿‡ç¨‹ä¼šäº§ç”Ÿå†…å­˜æ¶ˆè€—ï¼Œé‚£ä¹ˆæˆ‘ä»¬å¦‚ä½•æ¥è¯„ä¼°å±‚æ¶ˆè€—çš„å†…å­˜ï¼Œä¸‹é¢ä¸¾ä¾‹æ¥è¯´æ˜ï¼š")]),t._v(" "),e("div",{staticClass:"language-html extra-class"},[e("pre",{pre:!0,attrs:{class:"language-html"}},[e("code",[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("html")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("body")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("div")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("id")]),e("span",{pre:!0,attrs:{class:"token attr-value"}},[e("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("div1"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("div")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("div")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("id")]),e("span",{pre:!0,attrs:{class:"token attr-value"}},[e("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("div2"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("div")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("body")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("style")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),e("span",{pre:!0,attrs:{class:"token style"}},[e("span",{pre:!0,attrs:{class:"token language-css"}},[t._v("\n"),e("span",{pre:!0,attrs:{class:"token selector"}},[t._v("#div1, #div2")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v("will-change")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" transform"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),e("span",{pre:!0,attrs:{class:"token selector"}},[t._v("#div1")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v("width")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" 100px"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v("height")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" 100px"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v("background")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("rgba")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("255"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" 0"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" 0"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),e("span",{pre:!0,attrs:{class:"token selector"}},[t._v("#div2")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v("width")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" 10px"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v("height")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" 10px"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v("background")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("rgba")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("255"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" 0"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" 0"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v("will-change")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" transform"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v("transform")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("scale")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("10"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n")])]),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("style")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("html")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])]),e("p",[t._v("å¦‚ä¸Šï¼Œæˆ‘ä»¬åˆ›å»ºäº†ä¸¤ä¸ªå®¹å™¨ div1 å’Œ div2ï¼Œdiv1 çš„ç‰©ç†å°ºå¯¸æ˜¯ "),e("code",[t._v("100Ã—100pxï¼ˆ100Ã—100Ã—3 = 30000 å­—èŠ‚ï¼‰")]),t._v("ï¼Œè€Œ div2 åªæœ‰ "),e("code",[t._v("10Ã—10pxï¼ˆ10Ã—10Ã—3 = 300 å­—èŠ‚ï¼‰")]),t._v(" ä½†æ”¾å¤§äº† 10 å€ã€‚ div2 ç”±äºå­˜åœ¨ "),e("code",[t._v("will-change")]),t._v(" å±æ€§ï¼Œtransform åŠ¨ç”»å°†é€šè¿‡ GPU æ¥æ¸²æŸ“å›¾å±‚ã€‚ æˆ‘ä»¬é€šè¿‡å›¾åƒçš„é«˜åº¦ä¹˜ä»¥å›¾åƒçš„å®½åº¦æ¥è·å¾—å›¾åƒä¸­åƒç´ çš„æ•°é‡ã€‚ç„¶åï¼Œæˆ‘ä»¬å°†å…¶ä¹˜ä»¥3ï¼Œå› ä¸ºæ¯ä¸ªåƒç´ éƒ½ç”¨ä¸‰ä¸ªå­—èŠ‚ï¼ˆRGBï¼‰æè¿°ã€‚é‚£ä¹ˆä¸éš¾ç†è§£ï¼Œå¦‚æœå›¾åƒåŒ…å«é€æ˜åŒºåŸŸï¼Œæˆ‘ä»¬è¦ä¹˜ä»¥4ï¼Œå› ä¸ºéœ€è¦é¢å¤–çš„å­—èŠ‚æ¥æè¿°é€æ˜åº¦ï¼šï¼ˆRGBAï¼‰ï¼š100Ã—100Ã—4 = 40000 å­—èŠ‚ã€‚")]),t._v(" "),e("p",[t._v("æ‰€ä»¥ï¼Œå¯¹äºå›¾ç‰‡å’Œçº¯è‰²å±‚å…ƒç´ ï¼Œæˆ‘ä»¬å¯ä»¥å°†å›¾ç‰‡æˆ–å…ƒç´ çš„å°ºå¯¸å‡å°‘åˆ°åŸå§‹çš„5%â€”â€”10%ï¼Œç„¶åä½¿ç”¨scaleå°†å®ƒä»¬æ”¾å¤§ï¼›ç”¨æˆ·ä¸ä¼šçœ‹åˆ°ä»€ä¹ˆåŒºåˆ«ï¼Œä½†æ˜¯ä½ å¯ä»¥å‡å°‘èµ„æºè¯·æ±‚è€—æ—¶å’Œå¤§é‡çš„å­˜å‚¨ç©ºé—´ã€‚")]),t._v(" "),e("h2",{attrs:{id:"å±‚çˆ†ç‚¸ä¸å±‚å‹ç¼©"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#å±‚çˆ†ç‚¸ä¸å±‚å‹ç¼©"}},[t._v("#")]),t._v(" å±‚çˆ†ç‚¸ä¸å±‚å‹ç¼©")]),t._v(" "),e("h3",{attrs:{id:"å±‚å‹ç¼©"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#å±‚å‹ç¼©"}},[t._v("#")]),t._v(" å±‚å‹ç¼©")]),t._v(" "),e("p",[t._v("ç”±äºé‡å çš„åŸå› ï¼Œå¯èƒ½éšéšä¾¿ä¾¿å°±ä¼šäº§ç”Ÿå‡ºå¤§é‡åˆæˆå±‚æ¥ï¼Œè€Œæ¯ä¸ªåˆæˆå±‚éƒ½è¦æ¶ˆè€— CPU å’Œå†…å­˜èµ„æºï¼Œå²‚ä¸æ˜¯ä¸¥é‡å½±å“é¡µé¢æ€§èƒ½ã€‚è¿™ä¸€ç‚¹æµè§ˆå™¨ä¹Ÿè€ƒè™‘åˆ°äº†ï¼Œå› æ­¤å°±æœ‰äº†"),e("code",[t._v("å±‚å‹ç¼©ï¼ˆLayer Squashingï¼‰")]),t._v("çš„å¤„ç†ã€‚å¦‚æœå¤šä¸ªæ¸²æŸ“å±‚åŒä¸€ä¸ªåˆæˆå±‚é‡å æ—¶ï¼Œè¿™äº›æ¸²æŸ“å±‚ä¼šè¢«å‹ç¼©åˆ°ä¸€ä¸ª GraphicsLayer ä¸­ï¼Œä»¥é˜²æ­¢ç”±äºé‡å åŸå› å¯¼è‡´å¯èƒ½å‡ºç°çš„â€œå±‚çˆ†ç‚¸â€ã€‚")]),t._v(" "),e("p",[t._v("æµè§ˆå™¨çš„è‡ªåŠ¨çš„å±‚å‹ç¼©ä¹Ÿä¸æ˜¯ä¸‡èƒ½çš„ï¼Œæœ‰å¾ˆå¤šç‰¹å®šæƒ…å†µä¸‹ï¼Œæµè§ˆå™¨æ˜¯æ— æ³•è¿›è¡Œå±‚å‹ç¼©çš„ã€‚ å¦‚ä¸‹æ‰€ç¤ºï¼Œè€Œè¿™äº›æƒ…å†µä¹Ÿæ˜¯æˆ‘ä»¬åº”è¯¥å°½é‡é¿å…çš„ï¼š")]),t._v(" "),e("ul",[e("li",[t._v("æ— æ³•è¿›è¡Œä¼šæ‰“ç ´æ¸²æŸ“é¡ºåºçš„å‹ç¼©")]),t._v(" "),e("li",[t._v("video å…ƒç´ çš„æ¸²æŸ“å±‚æ— æ³•è¢«å‹ç¼©åŒæ—¶ä¹Ÿæ— æ³•å°†åˆ«çš„æ¸²æŸ“å±‚å‹ç¼©åˆ° video æ‰€åœ¨çš„åˆæˆå±‚ä¸Š")]),t._v(" "),e("li",[t._v("iframeã€plugin çš„æ¸²æŸ“å±‚æ— æ³•è¢«å‹ç¼©åŒæ—¶ä¹Ÿæ— æ³•å°†åˆ«çš„æ¸²æŸ“å±‚å‹ç¼©åˆ°å…¶æ‰€åœ¨çš„åˆæˆå±‚ä¸Š")]),t._v(" "),e("li",[t._v("æ— æ³•å‹ç¼©æœ‰ reflection å±æ€§çš„æ¸²æŸ“å±‚ï¼ˆsquashingReflectionDisallowedï¼‰")]),t._v(" "),e("li",[t._v("æ— æ³•å‹ç¼©æœ‰ blend mode å±æ€§çš„æ¸²æŸ“å±‚ï¼ˆsquashingBlendingDisallowedï¼‰")]),t._v(" "),e("li",[t._v("å½“æ¸²æŸ“å±‚åŒåˆæˆå±‚æœ‰ä¸åŒçš„è£å‰ªå®¹å™¨ï¼ˆclipping containerï¼‰æ—¶ï¼Œè¯¥æ¸²æŸ“å±‚æ— æ³•å‹ç¼©ï¼ˆsquashingClippingContainerMismatchï¼‰")]),t._v(" "),e("li",[t._v("ç›¸å¯¹äºåˆæˆå±‚æ»šåŠ¨çš„æ¸²æŸ“å±‚æ— æ³•è¢«å‹ç¼©ï¼ˆscrollsWithRespectToSquashingLayerï¼‰")]),t._v(" "),e("li",[t._v("å½“æ¸²æŸ“å±‚åŒåˆæˆå±‚æœ‰ä¸åŒçš„å…·æœ‰ opacity çš„ç¥–å…ˆå±‚ï¼ˆä¸€ä¸ªè®¾ç½®äº† opacity ä¸”å°äº 1ï¼Œä¸€ä¸ªæ²¡æœ‰è®¾ç½® opacityï¼Œä¹Ÿç®—æ˜¯ä¸åŒï¼‰æ—¶ï¼Œè¯¥æ¸²æŸ“å±‚æ— æ³•å‹ç¼©ï¼ˆsquashingOpacityAncestorMismatchï¼ŒåŒ squashingClippingContainerMismatchï¼‰")]),t._v(" "),e("li",[t._v("å½“æ¸²æŸ“å±‚åŒåˆæˆå±‚æœ‰ä¸åŒçš„å…·æœ‰ transform çš„ç¥–å…ˆå±‚æ—¶ï¼Œè¯¥æ¸²æŸ“å±‚æ— æ³•å‹ç¼©ï¼ˆsquashingTransformAncestorMismatchï¼ŒåŒä¸Šï¼‰")]),t._v(" "),e("li",[t._v("å½“æ¸²æŸ“å±‚åŒåˆæˆå±‚æœ‰ä¸åŒçš„å…·æœ‰ filter çš„ç¥–å…ˆå±‚æ—¶ï¼Œè¯¥æ¸²æŸ“å±‚æ— æ³•å‹ç¼©ï¼ˆsquashingFilterAncestorMismatchï¼ŒåŒä¸Šï¼‰")]),t._v(" "),e("li",[t._v("å½“è¦†ç›–çš„åˆæˆå±‚æ­£åœ¨è¿è¡ŒåŠ¨ç”»æ—¶ï¼Œè¯¥æ¸²æŸ“å±‚æ— æ³•å‹ç¼©ï¼ˆsquashingLayerIsAnimatingï¼‰ï¼Œå½“åŠ¨ç”»æœªå¼€å§‹æˆ–è€…è¿è¡Œå®Œæ¯•ä»¥åï¼Œè¯¥æ¸²æŸ“å±‚æ‰å¯ä»¥è¢«å‹ç¼©")])]),t._v(" "),e("p",[t._v("å¦‚æœå¤šä¸ªæ¸²æŸ“å±‚åŒä¸€ä¸ªåˆæˆå±‚é‡å æ—¶ï¼Œè¿™äº›æ¸²æŸ“å±‚ä¼šè¢«å‹ç¼©åˆ°ä¸€ä¸ª GraphicsLayer ä¸­ï¼Œä»¥é˜²æ­¢ç”±äºé‡å åŸå› å¯¼è‡´å¯èƒ½å‡ºç°çš„â€œå±‚çˆ†ç‚¸â€ã€‚")]),t._v(" "),e("h3",{attrs:{id:"å±‚çˆ†ç‚¸"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#å±‚çˆ†ç‚¸"}},[t._v("#")]),t._v(" å±‚çˆ†ç‚¸")]),t._v(" "),e("p",[e("em",[e("strong",[t._v("å±‚çˆ†ç‚¸ï¼ŒæŒ‡çš„æ˜¯ç”±äºé‡å è€Œå¯¼è‡´çš„å¤§é‡é¢å¤– Composited Layer çš„é—®é¢˜")])]),t._v("ã€‚é€šè¿‡ä¹‹å‰çš„ä»‹ç»ï¼Œæˆ‘ä»¬çŸ¥é“åŒåˆæˆå±‚é‡å ä¹Ÿä¼šä½¿å…ƒç´ æå‡ä¸ºåˆæˆå±‚ï¼Œè™½ç„¶æœ‰æµè§ˆå™¨çš„å±‚å‹ç¼©æœºåˆ¶ï¼Œä½†æ˜¯ä¹Ÿæœ‰å¾ˆå¤šæ— æ³•è¿›è¡Œå‹ç¼©çš„æƒ…å†µã€‚ä¹Ÿå°±æ˜¯è¯´é™¤äº†æˆ‘ä»¬æ˜¾å¼çš„å£°æ˜çš„åˆæˆå±‚ï¼Œè¿˜å¯èƒ½ç”±äºé‡å åŸå› ä¸ç»æ„é—´äº§ç”Ÿä¸€äº›ä¸åœ¨é¢„æœŸçš„åˆæˆå±‚ï¼Œæç«¯ä¸€ç‚¹å¯èƒ½ä¼šäº§ç”Ÿå¤§é‡çš„é¢å¤–åˆæˆå±‚ï¼Œå‡ºç°å±‚çˆ†ç‚¸çš„ç°è±¡ã€‚")]),t._v(" "),e("p",[t._v("è§£å†³å±‚çˆ†ç‚¸çš„é—®é¢˜ï¼Œæœ€ä½³æ–¹æ¡ˆæ˜¯æ‰“ç ´ overlap çš„æ¡ä»¶ï¼Œä¹Ÿå°±æ˜¯è¯´è®©å…¶ä»–å…ƒç´ ä¸è¦å’Œåˆæˆå±‚å…ƒç´ é‡å ï¼Œè­¬å¦‚å·§å¦™çš„ä½¿ç”¨ "),e("code",[t._v("z-index")]),t._v(" å±æ€§ã€‚")]),t._v(" "),e("h2",{attrs:{id:"æ€§èƒ½ä¼˜åŒ–"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#æ€§èƒ½ä¼˜åŒ–"}},[t._v("#")]),t._v(" æ€§èƒ½ä¼˜åŒ–")]),t._v(" "),e("p",[t._v("æå‡ä¸ºåˆæˆå±‚ç®€å•è¯´æ¥æœ‰ä»¥ä¸‹å‡ ç‚¹å¥½å¤„ï¼š")]),t._v(" "),e("ul",[e("li",[t._v("åˆæˆå±‚çš„ä½å›¾ï¼Œä¼šäº¤ç”± GPU åˆæˆï¼Œæ¯” CPU å¤„ç†è¦å¿«")]),t._v(" "),e("li",[t._v("å½“éœ€è¦ repaint æ—¶ï¼Œåªéœ€è¦ repaint è‡ªèº«åˆæˆå±‚ï¼Œä¸ä¼šå½±å“åˆ°å…¶ä»–çš„åˆæˆå±‚")]),t._v(" "),e("li",[t._v("å¯¹äº transform å’Œ opacity æ•ˆæœï¼Œä¸ä¼šè§¦å‘ layout å’Œ paint\nåˆ©ç”¨åˆæˆå±‚å¯¹äºæå‡é¡µé¢æ€§èƒ½æ–¹é¢æœ‰å¾ˆå¤§çš„ä½œç”¨ï¼Œå› æ­¤æˆ‘ä»¬ä¹Ÿæ€»ç»“äº†ä¸€ä¸‹å‡ ç‚¹ä¼˜åŒ–å»ºè®®ã€‚")])]),t._v(" "),e("h3",{attrs:{id:"æå‡åŠ¨ç”»æ•ˆæœçš„å…ƒç´ "}},[e("a",{staticClass:"header-anchor",attrs:{href:"#æå‡åŠ¨ç”»æ•ˆæœçš„å…ƒç´ "}},[t._v("#")]),t._v(" æå‡åŠ¨ç”»æ•ˆæœçš„å…ƒç´ ")]),t._v(" "),e("p",[t._v("æå‡åˆæˆå±‚çš„æœ€å¥½æ–¹å¼æ˜¯ä½¿ç”¨ CSS çš„ will-change å±æ€§ã€‚ä»åˆæˆå±‚æå‡è§„åˆ™ä¸€èŠ‚ï¼Œå¯ä»¥çŸ¥é“ will-change è®¾ç½®ä¸º opacityã€transformã€topã€leftã€bottomã€right å¯ä»¥å°†å…ƒç´ æå‡ä¸ºåˆæˆå±‚ã€‚")]),t._v(" "),e("div",{staticClass:"language-css extra-class"},[e("pre",{pre:!0,attrs:{class:"language-css"}},[e("code",[e("span",{pre:!0,attrs:{class:"token selector"}},[t._v("div")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v("will-change")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" transform"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),e("p",[t._v("ä½†æ˜¯å…¼å®¹æ€§ä¸å¤ªå¥½ï¼Œå¯¹äºé‚£äº›ç›®å‰è¿˜ä¸æ”¯æŒ will-change å±æ€§çš„æµè§ˆå™¨ï¼Œç›®å‰å¸¸ç”¨çš„æ˜¯ä½¿ç”¨ä¸€ä¸ª 3D transform å±æ€§æ¥å¼ºåˆ¶æå‡ä¸ºåˆæˆå±‚ï¼š")]),t._v(" "),e("div",{staticClass:"language-css extra-class"},[e("pre",{pre:!0,attrs:{class:"language-css"}},[e("code",[e("span",{pre:!0,attrs:{class:"token selector"}},[t._v("div")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v("transform")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("translateZ")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("0"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),e("p",[t._v("ä½†éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œä¸è¦åˆ›å»ºå¤ªå¤šçš„æ¸²æŸ“å±‚ã€‚å› ä¸ºæ¯åˆ›å»ºä¸€ä¸ªæ–°çš„æ¸²æŸ“å±‚ï¼Œå°±æ„å‘³ç€æ–°çš„å†…å­˜åˆ†é…å’Œæ›´å¤æ‚çš„å±‚ç®¡ç†ã€‚ä¹‹åæˆ‘ä»¬ä¼šè¯¦ç»†è®¨è®ºã€‚")]),t._v(" "),e("p",[t._v("å¦‚æœä½ å·²ç»æŠŠä¸€ä¸ªå…ƒç´ æ”¾åˆ°ä¸€ä¸ªæ–°çš„åˆæˆå±‚é‡Œï¼Œé‚£ä¹ˆå¯ä»¥ä½¿ç”¨ "),e("code",[t._v("Performance â€”â€”> Timeline")]),t._v(" æ¥ç¡®è®¤è¿™ä¹ˆåšæ˜¯å¦çœŸçš„æ”¹è¿›äº†æ¸²æŸ“æ€§èƒ½ã€‚åˆ«ç›²ç›®æå‡åˆæˆå±‚ï¼Œä¸€å®šè¦åˆ†æå…¶å®é™…æ€§èƒ½è¡¨ç°ã€‚")]),t._v(" "),e("h3",{attrs:{id:"css3ç¡¬ä»¶åŠ é€Ÿ"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#css3ç¡¬ä»¶åŠ é€Ÿ"}},[t._v("#")]),t._v(" css3ç¡¬ä»¶åŠ é€Ÿ")]),t._v(" "),e("div",{staticClass:"custom-block tip"},[e("p",{staticClass:"custom-block-title"},[t._v("ç¡¬ä»¶åŠ é€Ÿ")]),t._v(" "),e("p",[t._v("GPUï¼ˆGraphics Processing Unitï¼‰ æ˜¯å›¾åƒå¤„ç†å™¨ã€‚GPU ç¡¬ä»¶åŠ é€Ÿæ˜¯æŒ‡åº”ç”¨ GPU çš„å›¾å½¢æ€§èƒ½å¯¹æµè§ˆå™¨ä¸­çš„ä¸€äº›å›¾å½¢æ“ä½œäº¤ç»™ GPU æ¥å®Œæˆï¼Œå› ä¸º GPU æ˜¯ä¸“é—¨ä¸ºå¤„ç†å›¾å½¢è€Œè®¾è®¡ï¼Œæ‰€ä»¥å®ƒåœ¨é€Ÿåº¦å’Œèƒ½è€—ä¸Šæ›´æœ‰æ•ˆç‡ã€‚ GPU åŠ é€Ÿå¯ä»¥ä¸ä»…åº”ç”¨äº3Dï¼Œè€Œä¸”ä¹Ÿå¯ä»¥åº”ç”¨äº2Dã€‚è¿™é‡Œï¼Œ GPU åŠ é€Ÿé€šå¸¸åŒ…æ‹¬ä»¥ä¸‹å‡ ä¸ªéƒ¨åˆ†ï¼šCanvas2Dï¼Œå¸ƒå±€åˆæˆï¼ˆLayout Compositingï¼‰, CSS3è½¬æ¢ï¼ˆtransitionsï¼‰ï¼ŒCSS3 3Då˜æ¢ï¼ˆtransformsï¼‰ï¼ŒWebGLå’Œè§†é¢‘(video)ã€‚")])]),t._v(" "),e("p",[t._v("ä½¿ç”¨css3ç¡¬ä»¶åŠ é€Ÿï¼Œå¯ä»¥è®©"),e("code",[t._v("transform")]),t._v("ã€"),e("code",[t._v("opacity")]),t._v("ã€"),e("code",[t._v("filters")]),t._v("è¿™äº›åŠ¨ç”»ä¸ä¼šå¼•èµ·é‡æ’å’Œé‡ç»˜ã€‚ä½†æ˜¯å¯¹äºåŠ¨ç”»çš„å…¶å®ƒå±æ€§ï¼Œæ¯”å¦‚"),e("code",[t._v("background-color")]),t._v("è¿™äº›ï¼Œè¿˜æ˜¯ä¼šå¼•èµ·é‡æ’å’Œé‡ç»˜çš„ï¼Œä¸è¿‡å®ƒè¿˜æ˜¯å¯ä»¥æå‡è¿™äº›åŠ¨ç”»çš„æ€§èƒ½ã€‚")]),t._v(" "),e("div",{staticClass:"language-css extra-class"},[e("pre",{pre:!0,attrs:{class:"language-css"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/*\n * æ ¹æ®ä¸Šé¢çš„ç»“è®º\n * å°† 2d transform æ¢æˆ 3d\n * å°±å¯ä»¥å¼ºåˆ¶å¼€å¯ GPU åŠ é€Ÿ\n * æé«˜åŠ¨ç”»æ€§èƒ½\n */")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token selector"}},[t._v("div")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/* transform: translate(10px, 10px); */")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v("transform")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("translate3d")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("10px"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" 10px"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" 0"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),e("p",[t._v("ä½†æ˜¯å¦‚æœä½ ä¸ºå¤ªå¤šå…ƒç´ ä½¿ç”¨css3ç¡¬ä»¶åŠ é€Ÿï¼Œä¼šå¯¼è‡´å†…å­˜å ç”¨è¾ƒå¤§ï¼Œä¼šæœ‰æ€§èƒ½é—®é¢˜ï¼Œæˆ‘ä»¬åº”è¯¥é¿å…å¼•èµ·éšå¼åˆæˆå±‚çš„æå‡ã€‚å¦å¤–åœ¨åŠ¨ç”»ç»“æŸçš„æ—¶å€™å¾—å…³é—­ç¡¬ä»¶åŠ é€Ÿï¼Œä¸ç„¶ä¼šäº§ç”Ÿå­—ä½“æ¨¡ç³Šï¼ˆç”±äºGPUå’ŒCPUçš„ç®—æ³•çš„ä¸åŒï¼Œåœ¨GPUæ¸²æŸ“å­—ä½“ä¼šå¯¼è‡´æŠ—é”¯é½¿æ— æ•ˆï¼‰ã€‚")]),t._v(" "),e("h3",{attrs:{id:"é¿å…éšå¼åˆæˆ"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#é¿å…éšå¼åˆæˆ"}},[t._v("#")]),t._v(" é¿å…éšå¼åˆæˆ")]),t._v(" "),e("p",[t._v("ä¿æŒåŠ¨ç”»çš„å¯¹è±¡çš„z-indexå°½å¯èƒ½çš„é«˜ï¼Œè¿™æ ·å¯ä»¥å°½é‡é¿å…å…„å¼Ÿå…ƒç´ è¢«éšå¼çš„æå‡æˆåˆæˆå±‚ã€‚ç†æƒ³çš„ï¼Œè¿™äº›å…ƒç´ åº”è¯¥æ˜¯bodyå…ƒç´ çš„ç›´æ¥å­å…ƒç´ ã€‚å½“ç„¶ï¼Œè¿™ä¸æ˜¯æ€»å¯èƒ½çš„ã€‚æ‰€ä»¥ä½ å¯ä»¥å…‹éš†ä¸€ä¸ªå…ƒç´ ï¼ŒæŠŠå®ƒæ”¾åœ¨bodyå…ƒç´ ä¸‹ä»…ä»…æ˜¯ä¸ºäº†åšåŠ¨ç”»ã€‚")]),t._v(" "),e("p",[t._v("å°†å…ƒç´ ä¸Šè®¾ç½®will-change CSSå±æ€§ï¼Œå…ƒç´ ä¸Šæœ‰äº†è¿™ä¸ªå±æ€§ï¼Œæµè§ˆå™¨ä¼šæå‡è¿™ä¸ªå…ƒç´ æˆä¸ºä¸€ä¸ªå¤åˆå±‚ï¼ˆä¸æ˜¯æ€»æ˜¯ï¼‰ã€‚è¿™æ ·åŠ¨ç”»å°±å¯ä»¥å¹³æ»‘çš„å¼€å§‹å’Œç»“æŸã€‚ä½†æ˜¯ä¸è¦æ»¥ç”¨è¿™ä¸ªå±æ€§ï¼Œå¦åˆ™ä¼šå¤§å¤§å¢åŠ å†…å­˜æ¶ˆè€—ã€‚")]),t._v(" "),e("h3",{attrs:{id:"å‡å°‘ç»˜åˆ¶åŒºåŸŸ"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#å‡å°‘ç»˜åˆ¶åŒºåŸŸ"}},[t._v("#")]),t._v(" å‡å°‘ç»˜åˆ¶åŒºåŸŸ")]),t._v(" "),e("p",[t._v("å¯¹äºä¸éœ€è¦é‡æ–°ç»˜åˆ¶çš„åŒºåŸŸåº”å°½é‡é¿å…ç»˜åˆ¶ï¼Œä»¥å‡å°‘ç»˜åˆ¶åŒºåŸŸã€‚")]),t._v(" "),e("p",[t._v("ä¸¾ä¸ªğŸŒ°ï¼šä¸€ä¸ª fix åœ¨é¡µé¢é¡¶éƒ¨çš„å›ºå®šä¸å˜çš„å¯¼èˆª headerï¼Œåœ¨é¡µé¢å†…å®¹æŸä¸ªåŒºåŸŸ repaint æ—¶ï¼Œæ•´ä¸ªå±å¹•åŒ…æ‹¬ fix çš„ header ä¹Ÿä¼šè¢«é‡ç»˜ã€‚")]),t._v(" "),e("p",[t._v("è€Œå¯¹äºå›ºå®šä¸å˜çš„åŒºåŸŸï¼Œæˆ‘ä»¬æœŸæœ›å…¶å¹¶ä¸ä¼šè¢«é‡ç»˜ï¼Œå› æ­¤å¯ä»¥é€šè¿‡ä¹‹å‰çš„æ–¹æ³•ï¼Œå°†å…¶æå‡ä¸ºç‹¬ç«‹çš„åˆæˆå±‚ã€‚")]),t._v(" "),e("p",[t._v("å‡å°‘ç»˜åˆ¶åŒºåŸŸï¼Œéœ€è¦ä»”ç»†åˆ†æé¡µé¢ï¼ŒåŒºåˆ†ç»˜åˆ¶åŒºåŸŸï¼Œå‡å°‘é‡ç»˜åŒºåŸŸç”šè‡³é¿å…é‡ç»˜ã€‚")]),t._v(" "),e("h2",{attrs:{id:"æœ€å-åˆç†ç®¡ç†åˆæˆå±‚"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#æœ€å-åˆç†ç®¡ç†åˆæˆå±‚"}},[t._v("#")]),t._v(" æœ€å â€” åˆç†ç®¡ç†åˆæˆå±‚")]),t._v(" "),e("p",[t._v("çœ‹å®Œä¸Šé¢çš„æ–‡ç« ï¼Œä½ ä¼šå‘ç°æå‡åˆæˆå±‚ä¼šè¾¾åˆ°æ›´å¥½çš„æ€§èƒ½ã€‚è¿™çœ‹ä¸Šå»éå¸¸è¯±äººï¼Œä½†æ˜¯é—®é¢˜æ˜¯ï¼Œåˆ›å»ºä¸€ä¸ªæ–°çš„åˆæˆå±‚å¹¶ä¸æ˜¯å…è´¹çš„ï¼Œå®ƒå¾—æ¶ˆè€—é¢å¤–çš„å†…å­˜å’Œç®¡ç†èµ„æºã€‚å®é™…ä¸Šï¼Œåœ¨å†…å­˜èµ„æºæœ‰é™çš„è®¾å¤‡ä¸Šï¼Œåˆæˆå±‚å¸¦æ¥çš„æ€§èƒ½æ”¹å–„ï¼Œå¯èƒ½è¿œè¿œèµ¶ä¸ä¸Šè¿‡å¤šåˆæˆå±‚å¼€é”€ç»™é¡µé¢æ€§èƒ½å¸¦æ¥çš„è´Ÿé¢å½±å“ã€‚åŒæ—¶ï¼Œç”±äºæ¯ä¸ªæ¸²æŸ“å±‚çš„çº¹ç†éƒ½éœ€è¦ä¸Šä¼ åˆ° GPU å¤„ç†ï¼Œå› æ­¤æˆ‘ä»¬è¿˜éœ€è¦è€ƒè™‘ CPU å’Œ GPU ä¹‹é—´çš„å¸¦å®½é—®é¢˜ã€ä»¥åŠæœ‰å¤šå¤§å†…å­˜ä¾› GPU å¤„ç†è¿™äº›çº¹ç†çš„é—®é¢˜ã€‚")]),t._v(" "),e("h2",{attrs:{id:"å‚è€ƒæ–‡æ¡£"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#å‚è€ƒæ–‡æ¡£"}},[t._v("#")]),t._v(" å‚è€ƒæ–‡æ¡£")]),t._v(" "),e("p",[e("a",{attrs:{href:"https://www.chromium.org/developers/design-documents/gpu-accelerated-compositing-in-chrome",target:"_blank",rel:"noopener noreferrer"}},[t._v("GPU Accelerated Compositing in Chrome"),e("OutboundLink")],1)]),t._v(" "),e("p",[e("a",{attrs:{href:"https://fed.taobao.org/blog/taofed/do71ct/performance-composite",target:"_blank",rel:"noopener noreferrer"}},[t._v("æ— çº¿æ€§èƒ½ä¼˜åŒ–ï¼šComposite"),e("OutboundLink")],1)])])}),[],!1,null,null,null);a.default=n.exports}}]);