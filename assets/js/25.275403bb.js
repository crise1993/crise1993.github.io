(window.webpackJsonp=window.webpackJsonp||[]).push([[25],{485:function(t,s,a){t.exports=a.p+"assets/img/visibilitychange.3aedb7f8.png"},568:function(t,s,a){"use strict";a.r(s);var n=a(65),e=Object(n.a)({},(function(){var t=this,s=t.$createElement,n=t._self._c||s;return n("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[n("h1",{attrs:{id:"pageshowã€pagehideã€visibilitychangeå¯¹æ¯”"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#pageshowã€pagehideã€visibilitychangeå¯¹æ¯”"}},[t._v("#")]),t._v(" pageshowã€pagehideã€visibilitychangeå¯¹æ¯”")]),t._v(" "),n("h2",{attrs:{id:"ä¸€ã€å‰è¨€"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#ä¸€ã€å‰è¨€"}},[t._v("#")]),t._v(" ä¸€ã€å‰è¨€")]),t._v(" "),n("p",[t._v("ç§»åŠ¨ç«¯å¼€å‘ï¼Œ"),n("code",[t._v("visibilitychange")]),t._v("çš„å…¼å®¹æ€§çš„é—®é¢˜ï¼Œç»™æˆ‘ä»¬çš„å¼€å‘å¸¦æ¥äº†å¾ˆå¤§çš„å›°æ‰°ã€‚ä¸¾ä¸ªğŸŒ°ï¼š\nå‡è®¾æœ‰Aï¼ŒBä¸¤ä¸ªé¡µé¢")]),t._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[t._v("Aï¼šå•†å“åˆ—è¡¨é¡µ\nBï¼šå•†å“è¯¦æƒ…é¡µ\n")])])]),n("p",[t._v("æŸä¸€å¤©ä¸‡æ¶çš„äº§å“æ¥äº†ä¸€ä¸ªæ•°æ®ç»Ÿè®¡çš„éœ€æ±‚ã€‚\näº§å“ï¼šå°ç‹ï¼Œè¿™é‡Œæœ‰ä¸€ä¸ªæ•°æ®ç»Ÿè®¡æ–¹é¢çš„éœ€æ±‚ï¼Œç”¨æˆ·æ¯æ¬¡è®¿é—®é¡µé¢Aæˆ–è€…å½“é¡µé¢Aä»ç¨‹åºåå°åˆ‡æ¢åˆ°å‰å°çš„æ—¶å€™ï¼Œéœ€è¦è¿›è¡Œä¸€æ¬¡PVçš„åŸ‹ç‚¹ä¸ŠæŠ¥ã€‚è¿™ä¸ªéœ€æ±‚æ˜¯å¤§è€æ¿æå‡ºæ¥çš„ï¼Œå¥½å¥½å¹²å“¦ï¼Œä»Šå¤©å¿…é¡»å¼„å¥½ã€‚\nå°ç‹ï¼šä¸€è„¸é»‘çº¿ï¼ŒğŸ¤·â€â™€ï¸ï¼Œå˜´é‡Œmmpã€‚æœäº†ä¸ªæœï¼Œæ‰¾åˆ°äº†æµè§ˆå™¨çš„"),n("code",[t._v("pageshow")]),t._v("å’Œ"),n("code",[t._v("visibilitychange")]),t._v("äº‹ä»¶ï¼ŒåˆæŸ¥äº†ä¸‹è¿™ä¸¤ä¸ªäº‹ä»¶çš„"),n("a",{attrs:{href:"https://caniuse.com/?search=visibilitychange",target:"_blank",rel:"noopener noreferrer"}},[t._v("å…¼å®¹æ€§"),n("OutboundLink")],1),t._v("ï¼Œå¥½å®¶ä¼™ï¼Œ"),n("code",[t._v("96.68%")]),t._v("ï¼Œç§»åŠ¨ç«¯å‡ ä¹å®Œå…¨å…¼å®¹ï¼Œå°±æ˜¯å®ƒäº†ï¼Œå¼€å¹²ã€‚")]),t._v(" "),n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[t._v("document"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("addEventListener")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'pageshow'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),t._v(" ä¸ŠæŠ¥åŸ‹ç‚¹ "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\ndocument"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("addEventListener")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'visibilitychange'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("document"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("visibilityState "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("===")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'visible'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),t._v(" ä¸ŠæŠ¥åŸ‹ç‚¹ "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),n("p",[t._v("å°ç‹ï¼šåŠå°æ—¶åï¼Œso easyï¼Œåˆ†åˆ†é’Ÿå°±å¼„å®Œäº†ï¼ŒçœŸçˆ½ï¼Œåˆå¯ä»¥æ‘¸ä¸€ä¸‹åˆçš„é±¼äº†...")]),t._v(" "),n("p",[n("code",[t._v("2 hours later..")])]),t._v(" "),n("p",[t._v("æµ‹è¯•ï¼š.æäº†ä¸€å †bugï¼Œå¹¶åœ¨ç¾¤é‡Œ@ä½ å’Œäº§å“ã€‚")]),t._v(" "),n("p",[t._v("äº§å“ï¼šå°ç‹ï¼Œä½ è¿™æ˜¯æ€ä¹ˆå¼„çš„ï¼Œæ€ä¹ˆè¿™ä¹ˆå¤šæµè§ˆå™¨è¿”å›çš„æ—¶å€™æ²¡æœ‰ä¸ŠæŠ¥"),n("code",[t._v("PVåŸ‹ç‚¹")]),t._v("ï¼Œè¿™ä¸è¡Œå•Šã€‚")]),t._v(" "),n("p",[t._v("å°ç‹ï¼šä¸å¯èƒ½ï¼Œæˆ‘æ˜æ˜åœ¨ç”µè„‘ä¸Šæµ‹çš„å¥½å¥½çš„ï¼Œæ¯ä¸ªèŠ‚ç‚¹éƒ½æœ‰ä¸ŠæŠ¥ï¼Œæˆ‘æ‰¾æµ‹è¯•å»ã€‚")]),t._v(" "),n("p",[t._v("å°ç‹æ°”åŠ¿æ±¹æ±¹çš„æ‰¾åˆ°æµ‹è¯•ï¼Œæ‰¾æµ‹è¯•ç†è®º...")]),t._v(" "),n("p",[t._v("æµ‹è¯•ï¼šç¿»äº†ä¸€ä¸ªğŸ™„ï¼Œå¹¶ç”©ç»™å°ç‹ä¸€å¼ æµ‹è¯•ç»Ÿè®¡è¡¨ã€‚\nå°ç‹ï¼šæ¥è¿‡æ¥ä¸€çœ‹ï¼Œå¥½å®¶ä¼™ï¼Œ"),n("code",[t._v("ios")]),t._v("ä¸Šæµè§ˆå™¨è¡¨ç°æ²¡å•¥é—®é¢˜ï¼Œä½†å®‰å“å„ä¸ªæµè§ˆå™¨è¡¨ç°éƒ½ä¸ä¸€æ ·ï¼Œæœ‰çš„è¿”å›ä¸ŠæŠ¥ä¸€æ¬¡ï¼Œæœ‰ä¼šåˆ™ä¼šä¸ŠæŠ¥ä¸¤æ¬¡åŸ‹ç‚¹ã€‚")]),t._v(" "),n("p",[t._v("å°ç‹é™·å…¥äº†æ·±æ·±çš„è‡ªæˆ‘æ€€ç–‘ä¸­...")]),t._v(" "),n("h2",{attrs:{id:"äºŒã€å®šä¹‰"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#äºŒã€å®šä¹‰"}},[t._v("#")]),t._v(" äºŒã€å®šä¹‰")]),t._v(" "),n("h3",{attrs:{id:"pageshow-pagehideäº‹ä»¶"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#pageshow-pagehideäº‹ä»¶"}},[t._v("#")]),t._v(" pageshow/pagehideäº‹ä»¶")]),t._v(" "),n("p",[n("code",[t._v("pageshow/pagehide")]),t._v(" æŒ‡çš„æ˜¯é¡µé¢çš„è¿›å…¥ä¸ç¦»å¼€ã€‚")]),t._v(" "),n("p",[n("code",[t._v("pageshow")]),t._v(" äº‹ä»¶åœ¨ç”¨æˆ·æµè§ˆç½‘é¡µæ—¶è§¦å‘("),n("code",[t._v("onload")]),t._v("ä¹‹å)ã€‚ç±»ä¼¼äº "),n("code",[t._v("onload")]),t._v(" äº‹ä»¶ï¼Œä½†"),n("code",[t._v("onload")]),t._v("åªåœ¨é¡µé¢ç¬¬ä¸€æ¬¡åŠ è½½æ—¶è§¦å‘ï¼Œ"),n("code",[t._v("pageshow")]),t._v(" äº‹ä»¶ä¼šåœ¨æ¯æ¬¡åŠ è½½é¡µé¢æ—¶è§¦å‘ï¼Œå³ "),n("code",[t._v("onload")]),t._v(" äº‹ä»¶å½“é¡µé¢ä»æµè§ˆå™¨ç¼“å­˜ä¸­è¯»å–æ—¶ä¸è§¦å‘(å¦‚é€šè¿‡å‰è¿›/åé€€è¿›å…¥é¡µé¢æ—¶)ã€‚")]),t._v(" "),n("p",[n("code",[t._v("pagehide")]),t._v(" äº‹ä»¶åœ¨ç”¨æˆ·ç¦»å¼€ç½‘é¡µæ—¶è§¦å‘("),n("code",[t._v("onunload")]),t._v("ä¹‹å‰)")]),t._v(" "),n("h3",{attrs:{id:"visibilitychangeäº‹ä»¶"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#visibilitychangeäº‹ä»¶"}},[t._v("#")]),t._v(" visibilitychangeäº‹ä»¶")]),t._v(" "),n("p",[n("code",[t._v("visibilitychange")]),t._v(" æŒ‡çš„æ˜¯é¡µé¢çš„å¯è§æ€§ã€‚")]),t._v(" "),n("p",[n("code",[t._v("visibilitychange")]),t._v("ä¼šåœ¨é¡µé¢è¢«éšè—æˆ–æ˜¾ç¤ºæ—¶(å¦‚æµè§ˆå™¨tabåˆ‡æ¢ã€çª—å£è¢«æœ€å°åŒ–ç­‰)è§¦å‘ï¼Œé…åˆ"),n("code",[t._v("document.hidden")]),t._v("æˆ–è€…"),n("code",[t._v("document.visibilityState")]),t._v('çš„å±æ€§å¯ä»¥å®ç°é¡µé¢å‰å°/åå°åˆ‡æ¢çš„åŠŸèƒ½ï¼ˆæ¯”å¦‚åˆ‡åˆ°åå°æ—¶åœæ­¢å£°éŸ³æ’­æ”¾ï¼Œåˆ‡åˆ°å‰å°æ—¶æ¢å¤æ’­æ”¾"ç­‰åŠŸèƒ½ï¼‰')]),t._v(" "),n("h2",{attrs:{id:"ä¸‰ã€æµ‹è¯•å¯¹æ¯”åŠåˆ†æ"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#ä¸‰ã€æµ‹è¯•å¯¹æ¯”åŠåˆ†æ"}},[t._v("#")]),t._v(" ä¸‰ã€æµ‹è¯•å¯¹æ¯”åŠåˆ†æ")]),t._v(" "),n("h3",{attrs:{id:"å¯¹ç…§æµ‹è¯•"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#å¯¹ç…§æµ‹è¯•"}},[t._v("#")]),t._v(" å¯¹ç…§æµ‹è¯•")]),t._v(" "),n("p",[t._v("æˆ‘ä»¬å¯ä»¥é€šè¿‡ä¸€æ®µä»£ç äº†è§£ä»¥ä¸Šä¸¤è€…åŠŸèƒ½ä¸Šçš„åŒºåˆ«ï¼š")]),t._v(" "),n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[t._v("window"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("addEventListener")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'pageshow'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    console"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'pageshow: é¡µé¢æ˜¾ç¤º'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nwindow"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("addEventListener")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'pagehide'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    console"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'pagehide: é¡µé¢éšè—'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\ndocument"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("addEventListener")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'visibilitychange'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("document"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("hidden"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        console"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'visibilitychange: é¡µé¢éšè—'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("else")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        console"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'visibilitychange: é¡µé¢æ˜¾ç¤º'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),n("h3",{attrs:{id:"æµ‹è¯•ç»“è®º"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#æµ‹è¯•ç»“è®º"}},[t._v("#")]),t._v(" æµ‹è¯•ç»“è®º")]),t._v(" "),n("h4",{attrs:{id:"_1-é¡µé¢è¿›å…¥-åŒ…æ‹¬åˆ·æ–°ä¼šè§¦å‘pageshow-ç¦»å¼€éƒ½ä¼šè§¦å‘pagehide"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_1-é¡µé¢è¿›å…¥-åŒ…æ‹¬åˆ·æ–°ä¼šè§¦å‘pageshow-ç¦»å¼€éƒ½ä¼šè§¦å‘pagehide"}},[t._v("#")]),t._v(" 1. é¡µé¢è¿›å…¥ï¼ŒåŒ…æ‹¬åˆ·æ–°ä¼šè§¦å‘"),n("code",[t._v("pageshow")]),t._v("ï¼Œç¦»å¼€éƒ½ä¼šè§¦å‘"),n("code",[t._v("pagehide")]),t._v("ï¼›")]),t._v(" "),n("h4",{attrs:{id:"_2-é¡µé¢å‰å°-åå°åˆ‡æ¢-é€‰é¡¹å¡åˆ‡æ¢-åªä¼šè§¦å‘-visibilitychange-æ˜¾ç¤ºä¸éšè—"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_2-é¡µé¢å‰å°-åå°åˆ‡æ¢-é€‰é¡¹å¡åˆ‡æ¢-åªä¼šè§¦å‘-visibilitychange-æ˜¾ç¤ºä¸éšè—"}},[t._v("#")]),t._v(" 2. é¡µé¢å‰å°/åå°åˆ‡æ¢(é€‰é¡¹å¡åˆ‡æ¢)ï¼Œåªä¼šè§¦å‘ "),n("code",[t._v("visibilitychange")]),t._v(" æ˜¾ç¤ºä¸éšè—ï¼›")]),t._v(" "),n("h4",{attrs:{id:"_3-å‰è¿›å’Œåé€€-æœ‰çš„æµè§ˆå™¨-webkitå†…æ ¸-ä¼šä¿ç•™ä¹‹å‰çš„æ•°æ®-æœ‰çš„åˆ™æ˜¯ç›´æ¥åˆ·æ–°-æ¯”å¦‚chromeæµè§ˆå™¨ä½¿ç”¨blinkå†…æ ¸-å‰è¿›åé€€ç›´æ¥åˆ·æ–°-ã€‚"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_3-å‰è¿›å’Œåé€€-æœ‰çš„æµè§ˆå™¨-webkitå†…æ ¸-ä¼šä¿ç•™ä¹‹å‰çš„æ•°æ®-æœ‰çš„åˆ™æ˜¯ç›´æ¥åˆ·æ–°-æ¯”å¦‚chromeæµè§ˆå™¨ä½¿ç”¨blinkå†…æ ¸-å‰è¿›åé€€ç›´æ¥åˆ·æ–°-ã€‚"}},[t._v("#")]),t._v(" 3. å‰è¿›å’Œåé€€ï¼Œæœ‰çš„æµè§ˆå™¨ï¼ˆ"),n("code",[t._v("webkit")]),t._v("å†…æ ¸ï¼‰ä¼šä¿ç•™ä¹‹å‰çš„æ•°æ®ï¼Œæœ‰çš„åˆ™æ˜¯ç›´æ¥åˆ·æ–°ï¼ˆæ¯”å¦‚"),n("code",[t._v("chrome")]),t._v("æµè§ˆå™¨ä½¿ç”¨"),n("code",[t._v("blink")]),t._v("å†…æ ¸ï¼Œå‰è¿›åé€€ç›´æ¥åˆ·æ–°ï¼‰ã€‚")]),t._v(" "),n("h4",{attrs:{id:"_4-å‰è¿›å’Œåé€€-ä¼šä¿ç•™ä¹‹å‰è®¿é—®æ•°æ®çš„æ‰€æœ‰æµè§ˆå™¨ä¸­"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_4-å‰è¿›å’Œåé€€-ä¼šä¿ç•™ä¹‹å‰è®¿é—®æ•°æ®çš„æ‰€æœ‰æµè§ˆå™¨ä¸­"}},[t._v("#")]),t._v(" 4. å‰è¿›å’Œåé€€ï¼Œä¼šä¿ç•™ä¹‹å‰è®¿é—®æ•°æ®çš„æ‰€æœ‰æµè§ˆå™¨ä¸­ï¼š")]),t._v(" "),n("div",{staticClass:"custom-block tip"},[n("p",{staticClass:"custom-block-title"},[t._v("TIP")]),t._v(" "),n("ul",[n("li",[t._v("éƒ½ä¼šä¾æ¬¡è§¦å‘ "),n("code",[t._v("pagehide")]),t._v("ï¼Œå’Œ "),n("code",[t._v("pageshow")]),t._v("ï¼Œä½†æ˜¯æœ‰çš„æµè§ˆå™¨ä¼šè§¦å‘ "),n("code",[t._v("visibilitychange")]),t._v("ï¼Œæœ‰çš„åˆ™ä¸ä¼šï¼›")]),t._v(" "),n("li",[n("code",[t._v("ios")]),t._v("æ‰‹æœºä¸Šæ‰€æœ‰çš„æµè§ˆå™¨éƒ½æ˜¯ä½¿ç”¨"),n("code",[t._v("webkit")]),t._v("å†…æ ¸ï¼Œå‰è¿›åé€€éƒ½ä¸ä¼šè§¦å‘"),n("code",[t._v("visibilitychange")]),t._v("äº‹ä»¶ã€‚")]),t._v(" "),n("li",[n("code",[t._v("android")]),t._v("æ‰‹æœºä¸Šï¼Œæœ‰çš„å‰è¿›åé€€ä¼šè§¦å‘"),n("code",[t._v("visibilitychange")]),t._v("äº‹ä»¶ï¼Œæ¯”å¦‚"),n("code",[t._v("åä¸ºè‡ªå¸¦æµè§ˆå™¨")]),t._v("ï¼Œ"),n("code",[t._v("UCæµè§ˆå™¨")]),t._v("ç­‰ï¼›")]),t._v(" "),n("li",[n("code",[t._v("android")]),t._v("æ‰‹æœºä¸Šï¼Œæœ‰çš„å‰è¿›åé€€ä¸ä¼šè§¦å‘"),n("code",[t._v("visibilitychange")]),t._v("äº‹ä»¶ï¼Œæ¯”å¦‚"),n("code",[t._v("ç™¾åº¦APP``qqæµè§ˆå™¨")]),t._v("ç­‰ï¼›")]),t._v(" "),n("li",[n("code",[t._v("android")]),t._v("æ‰‹æœºä¸Šï¼Œæœ‰çš„å‰è¿›åé€€ä¼šæ‰“å¼€ä¸€ä¸ªæ–°çš„"),n("code",[t._v("webview")]),t._v("ï¼Œæ¯”å¦‚"),n("code",[t._v("å°ç±³è‡ªå¸¦æµè§ˆå™¨")]),t._v("ï¼Œè¿™æ—¶å€™ç›¸å½“äºé¡µé¢åˆ‡å›å‰å°/åå°ï¼Œä¹Ÿä¼šè§¦å‘"),n("code",[t._v("visibilitychange")]),t._v("äº‹ä»¶ã€‚")])])]),t._v(" "),n("p",[t._v("å¤§å®¶è‹¥æœ‰å…´è¶£ï¼Œå¯ä»¥"),n("a",{attrs:{href:"https://www.zhangxinxu.com/study/202111/page-toggle.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("è®¿é—®è¿™é‡Œ"),n("OutboundLink")],1),t._v("æ„Ÿå—ä¸‹æ¯ä¸ªæµè§ˆå™¨äº‹ä»¶å˜åŒ–çš„è§¦å‘ã€‚")]),t._v(" "),n("h3",{attrs:{id:"åŸå› åˆ†æ"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#åŸå› åˆ†æ"}},[t._v("#")]),t._v(" åŸå› åˆ†æ")]),t._v(" "),n("ol",[n("li",[t._v("ç”±äº"),n("code",[t._v("webkit")]),t._v("å†…æ ¸ä¸­"),n("code",[t._v("bf-cache")]),t._v("çš„å­˜åœ¨ï¼Œäºæ˜¯ä¾¿å¯ä»¥è§£é‡Šç¬¬3ç‚¹ï¼Œä¸ºä»€ä¹ˆæœ‰çš„æµè§ˆå™¨ä¼šä¿ç•™ä¹‹å‰çš„æ•°æ®äº†ï¼Œåœ¨æœ‰"),n("code",[t._v("bfcache")]),t._v("çš„æƒ…å†µä¸‹ï¼Œæµè§ˆå™¨ä¼šä¿ç•™ä¹‹å‰çš„æ•°æ®ã€‚")])]),t._v(" "),n("div",{staticClass:"custom-block tip"},[n("p",{staticClass:"custom-block-title"},[t._v("TIP")]),t._v(" "),n("p",[n("code",[t._v("bf-cache")]),t._v("ï¼Œåˆç§°"),n("code",[t._v("å¾€è¿”ç¼“å­˜")]),t._v("ï¼Œå…·ä½“ä»‹ç»å¯ä»¥æŸ¥çœ‹æˆ‘çš„å¦ä¸€ç¯‡æ–‡ç« "),n("RouterLink",{attrs:{to:"/blog/js/bfcache.html"}},[t._v("bfcacheé—®é¢˜åŠè§£å†³æ–¹æ¡ˆ")]),t._v("ã€‚")],1)]),t._v(" "),n("ol",{attrs:{start:"2"}},[n("li",[t._v("è‡³äºç¬¬4ç‚¹ï¼Œ"),n("code",[t._v("visibilitychange")]),t._v("äº‹ä»¶ä¸åŒçš„è¡¨ç°ï¼Œå®˜æ–¹ä¹Ÿç»™äº†è¯¦ç»†è§£é‡Šï¼Œä½¿ç”¨"),n("code",[t._v("webkit")]),t._v("å†…æ ¸çš„æµè§ˆå™¨ï¼Œä¼šæœ‰è¿™æ–¹é¢çš„bugã€‚è€Œä¸”å®˜æ–¹ä¹Ÿä¸æ¨èï¼Œä½¿ç”¨"),n("code",[t._v("visibilitychange")]),t._v("äº‹ä»¶ç›‘å¬é¡µé¢æ˜¯å¦ç¦»å¼€ã€‚\n"),n("img",{attrs:{src:a(485),alt:"visibilitychange"}})])]),t._v(" "),n("h2",{attrs:{id:"å››ã€ç»ˆæè§£å†³æ–¹æ¡ˆ"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#å››ã€ç»ˆæè§£å†³æ–¹æ¡ˆ"}},[t._v("#")]),t._v(" å››ã€ç»ˆæè§£å†³æ–¹æ¡ˆ")]),t._v(" "),n("p",[t._v("äº†è§£äº†"),n("code",[t._v("pageshow")]),t._v(","),n("code",[t._v("pagehide")]),t._v("ä»¥åŠ"),n("code",[t._v("visibilitychange")]),t._v("ç­‰äº‹ä»¶åœ¨æµè§ˆå™¨ä¸­çš„è¡¨ç°ä¹‹åï¼Œé‚£ä¹ˆæœ‰æ²¡æœ‰ä¸€ç»Ÿæ±Ÿæ¹–çš„è§£å†³æ–¹æ¡ˆå‘¢ï¼Ÿ")]),t._v(" "),n("p",[t._v("å¿…é¡»æœ‰ã€‚ä¸šåŠ¡ä¸Šå¯ä»¥æ·»åŠ å¦‚ä¸‹ä»£ç ï¼š")]),t._v(" "),n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("_sendPageLoad")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("document"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("visibilityState "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("===")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'visible'")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("||")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),t._v("document"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("hidden"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token constant"}},[t._v("TODO")]),t._v("ï¼šä¸ŠæŠ¥"),n("span",{pre:!0,attrs:{class:"token constant"}},[t._v("PV")]),t._v("åŸ‹ç‚¹ "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("_listenPageShow")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[n("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("event")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" Event")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("event"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("persisted"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ä»å¾€è¿”ç¼“å­˜åŠ è½½")]),t._v("\n     "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token constant"}},[t._v("TODO")]),t._v("ï¼šä¸ŠæŠ¥"),n("span",{pre:!0,attrs:{class:"token constant"}},[t._v("PV")]),t._v("åŸ‹ç‚¹ "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("_listenPageHide")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[n("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("event")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" Event")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("event"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("persisted"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    document"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("removeEventListener")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'visibilitychange'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" _sendPageLoad"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\nwindow"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("addEventListener")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'pageshow'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" _listenPageShow"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nwindow"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("addEventListener")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'pagehide'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" _listenPageHide"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\ndocument"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("addEventListener")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'visibilitychange'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" _sendPageLoad"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("onload")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("_sendPageLoad")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("onbeforeunload")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  window"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("removeEventListener")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'pageshow'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" _listenPageShow"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  window"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("removeEventListener")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'pagehide'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" _listenPageHide"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  document"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("removeEventListener")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'visibilitychange'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" _sendPageLoad"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n")])])]),n("ul",[n("li",[t._v("ç›‘å¬"),n("code",[t._v("onload")]),t._v("ï¼Œåœ¨é¡µé¢ç¬¬ä¸€æ¬¡åŠ è½½çš„æ—¶å€™è§¦å‘åŸ‹ç‚¹äº‹ä»¶ã€‚")]),t._v(" "),n("li",[t._v("ç›‘å¬"),n("code",[t._v("pageshow")]),t._v("äº‹ä»¶ï¼Œå½“é¡µé¢è¿”å›è§¦å‘ç¼“å­˜é€»è¾‘æ—¶ï¼Œevent.persistedä¸ºtrueï¼Œè¿™æ—¶å€™é‡æ–°ä¸ŠæŠ¥åŸ‹ç‚¹ã€‚")]),t._v(" "),n("li",[t._v("ç›‘å¬"),n("code",[t._v("visibilitychange")]),t._v("äº‹ä»¶ï¼Œå½“é¡µé¢æ˜¾ç¤ºæ—¶ï¼Œ"),n("code",[t._v("document.visibilityState")]),t._v("ä¸º"),n("code",[t._v("visible")]),t._v("ï¼Œ"),n("code",[t._v("document.hidden")]),t._v("ä¸º"),n("code",[t._v("false")]),t._v("ï¼Œä¸ŠæŠ¥åŸ‹ç‚¹")]),t._v(" "),n("li",[t._v("ç›‘å¬"),n("code",[t._v("pagehide")]),t._v("äº‹ä»¶ï¼Œå½“"),n("code",[t._v("event.persisted")]),t._v("ä¸º"),n("code",[t._v("true")]),t._v("ï¼ˆå½“å‰é¡µé¢è¢«"),n("code",[t._v("bfcacheç¼“å­˜")]),t._v("æ—¶ï¼Œä¸ä¼šè§¦å‘"),n("code",[t._v("beforeunload")]),t._v("å’Œ"),n("code",[t._v("unload")]),t._v("ï¼‰ï¼Œç§»é™¤"),n("code",[t._v("visibilitychange")]),t._v("çš„äº‹ä»¶ç›‘å¬ï¼Œé¿å…è¿”å›åˆ°å½“å‰é¡µé¢æ—¶ï¼Œç”±äºä¸åŒæµè§ˆå™¨çš„å·®å¼‚æ€§ï¼Œä¼šå†æ¬¡è§¦å‘"),n("code",[t._v("visibilitychange")]),t._v("äº‹ä»¶ï¼Œé€ æˆåŸ‹ç‚¹çš„å¤šæŠ¥")])]),t._v(" "),n("h2",{attrs:{id:"äº”ã€å‚è€ƒæ–‡æ¡£"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#äº”ã€å‚è€ƒæ–‡æ¡£"}},[t._v("#")]),t._v(" äº”ã€å‚è€ƒæ–‡æ¡£")]),t._v(" "),n("p",[n("a",{attrs:{href:"https://caniuse.com/?search=visibilitychange",target:"_blank",rel:"noopener noreferrer"}},[t._v("visibilitychangeå…¼å®¹æ€§"),n("OutboundLink")],1)]),t._v(" "),n("p",[n("RouterLink",{attrs:{to:"/blog/js/bfcache.html"}},[t._v("bfcacheé—®é¢˜ç ”ç©¶åŠè§£å†³æ–¹æ¡ˆ")])],1),t._v(" "),n("p",[n("a",{attrs:{href:"https://www.zhangxinxu.com/study/202111/page-toggle.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("pageshowä¸visibilitychangeæµ‹è¯•åœ°å€"),n("OutboundLink")],1)])])}),[],!1,null,null,null);s.default=e.exports}}]);